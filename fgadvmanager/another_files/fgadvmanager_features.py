import base64;exec(base64.b64decode('IyBGR0FEVk1hbmFnZXIgRmVhdHVyZXMgLSDQpNGD0L3QutGG0LjQvtC90LDQu9GM0L3QvtGB0YLRjCDQuCDQvNC10L3RjgojIE93bmVyczogQEZHQnJ1aCBhbmQgQEJydWhZb3VUZWV0aAoKaW1wb3J0IGFzeW5jaW8KaW1wb3J0IGxvZ2dpbmcKaW1wb3J0IG9zCmltcG9ydCBqc29uCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKaW1wb3J0IHN5cwoKZnJvbSB0ZWxldGhvbiBpbXBvcnQgZnVuY3Rpb25zCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKCgpkZWYgZ2V0X2NvbG9yc19hbmRfdXRpbHMoKToKICAgIGltcG9ydCBmZ2Fkdm1hbmFnZXJfbWFpbiBhcyBtYWluX21vZHVsZQogICAgcmV0dXJuIG1haW5fbW9kdWxlLkNvbG9ycywgbWFpbl9tb2R1bGUuY2xlYXJfc2NyZWVuCgoKQ29sb3JzLCBjbGVhcl9zY3JlZW4gPSBnZXRfY29sb3JzX2FuZF91dGlscygpCgoKY2xhc3MgTWVzc2FnZUhhbmRsZXI6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbWFuYWdlcik6CiAgICAgICAgc2VsZi5tYW5hZ2VyID0gbWFuYWdlcgoKICAgIGFzeW5jIGRlZiBtZXNzYWdlc19tZW51KHNlbGYpOgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIGNsZWFyX3NjcmVlbigpCgogICAgICAgICAgICBtZXNzYWdlc19oZWFkZXIgPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TsSDQo9Cf0KDQkNCS0JvQldCd0JjQlSDQodCe0J7QkdCp0JXQndCY0K/QnNCYICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQobWVzc2FnZXNfaGVhZGVyKQoKICAgICAgICAgICAgbWVzc2FnZXNfbWVudV9pdGVtcyA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIDEuIPCfkqwg0J7RgtC/0YDQsNCy0LjRgtGMINGB0L7QvtCx0YnQtdC90LjQtXsnJzo8NTh9ICAKICAyLiDwn5OkINCc0LDRgdGB0L7QstCw0Y8g0L7RgtC/0YDQsNCy0LrQsHsnJzo8NjJ9ICAKICAzLiDwn5OiINCc0LDRgdGB0L7QstCw0Y8g0YDQsNGB0YHRi9C70LrQsCDQstC10LfQtNC1eycnOjw1NH0gIAogIDQuIOKGl++4jyAg0J/QtdGA0LXRgdGL0LvQutCwINGB0L7QvtCx0YnQtdC90LjQuXsnJzo8NTh9ICAKICA1LiDwn5SNINCf0L7QuNGB0Log0YHQvtC+0LHRidC10L3QuNC5eycnOjw2M30gIAogIDYuIPCfk6Ug0K3QutGB0L/QvtGA0YIg0LjRgdGC0L7RgNC40Lgg0YfQsNGC0LB7Jyc6PDU2fSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQobWVzc2FnZXNfbWVudV9pdGVtcykKCiAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5NQUdFTlRBffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBjaG9pY2UgPSBjaG9pY2Uuc3RyaXAoKQoKICAgICAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuc2VuZF9tZXNzYWdlKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5idWxrX3NlbmQoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLm1hc3NfYnJvYWRjYXN0KCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5mb3J3YXJkX21lc3NhZ2VzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjUiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5zZWFyY2hfbWVzc2FnZXMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmV4cG9ydF9jaGF0X2hpc3RvcnkoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICBicmVhawoKICAgIGFzeW5jIGRlZiBzZW5kX21lc3NhZ2Uoc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgc2VuZF9oZWFkZXIgPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SrCDQntCi0J/QoNCQ0JLQmtCQINCh0J7QntCR0KnQldCd0JjQryAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KHNlbmRfaGVhZGVyKQoKICAgICAgICBjaGF0ID0gaW5wdXQoCiAgICAgICAgICAgIGYie0NvbG9ycy5DWUFOffCfjq8g0JLQstC10LTQuNGC0LUgdXNlcm5hbWUvSUQg0YfQsNGC0LA6IHtDb2xvcnMuUkVTRVR9IgogICAgICAgICkuc3RyaXAoKQogICAgICAgIGlmIG5vdCBjaGF0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbWVzc2FnZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk50g0KLQtdC60YHRgiDRgdC+0L7QsdGJ0LXQvdC40Y86IHtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdCkKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5zZW5kX21lc3NhZ2UoZW50aXR5LCBtZXNzYWdlKQoKICAgICAgICAgICAgcmVjaXBpZW50X25hbWUgPSBnZXRhdHRyKAogICAgICAgICAgICAgICAgZW50aXR5LCAidGl0bGUiLCBnZXRhdHRyKGVudGl0eSwgImZpcnN0X25hbWUiLCAiVW5rbm93biIpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbWVzc2FnZV9kaXNwbGF5ID0gKAogICAgICAgICAgICAgICAgbWVzc2FnZVs6NzBdIGlmIGxlbihtZXNzYWdlKSA8PSA3MCBlbHNlIG1lc3NhZ2VbOjY3XSArICIuLi4iCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHN1Y2Nlc3NfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0KHQntCe0JHQqdCV0J3QmNCVINCe0KLQn9Cg0JDQktCb0JXQndCeICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCf0L7Qu9GD0YfQsNGC0LXQu9GMOiB7cmVjaXBpZW50X25hbWVbOjc5XTo8Nzl9ICAKICDQodC+0L7QsdGJ0LXQvdC40LU6ICB7bWVzc2FnZV9kaXNwbGF5Ojw3OX0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc3VjY2Vzc19ib3gpCiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYi0J7RgtC/0YDQsNCy0LvQtdC90L4g0YHQvtC+0LHRidC10L3QuNC1INCyIHtjaGF0fSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBlcnJvcl9zdHIgPSBzdHIoZSlbOjc5XQogICAgICAgICAgICBlcnJvcl9ib3ggPSBmIiIiCntDb2xvcnMuUkVEfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKdjCDQntGI0LjQsdC60LAg0L7RgtC/0YDQsNCy0LrQuCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICB7ZXJyb3Jfc3RyOjw5MH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoZXJyb3JfYm94KQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4uIgogICAgICAgICAgICAgIGYie0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBtYXNzX2Jyb2FkY2FzdChzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBicm9hZGNhc3RfaGVhZGVyID0gZiIiIgp7Q29sb3JzLlJFRH3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk6Ig0JzQkNCh0KHQntCS0JDQryDQoNCQ0KHQodCr0JvQmtCQINCS0JXQl9CU0JUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICAgICAgICAgICAgICAgICAgICAgIOKaoO+4jyDQrdGC0L4g0L7RgtC/0YDQsNCy0LjRgiDRgdC+0L7QsdGJ0LXQvdC40LUg0LLQviDQktCh0JUg0LLQsNGI0Lgg0YfQsNGC0YsheycnOjwyNX0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KGJyb2FkY2FzdF9oZWFkZXIpCgogICAgICAgIG1lc3NhZ2UgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OdINCi0LXQutGB0YIg0YHQvtC+0LHRidC10L3QuNGPOiB7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgaWYgbm90IG1lc3NhZ2U6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBkZWxheSA9IGZsb2F0KAogICAgICAgICAgICBpbnB1dCgKICAgICAgICAgICAgICAgIGYie0NvbG9ycy5DWUFOfeKPsCDQl9Cw0LTQtdGA0LbQutCwINC80LXQttC00YMg0L7RgtC/0YDQsNCy0LrQsNC80LggKNGB0LXQuiwg0LzQuNC9IDEpOiAiCiAgICAgICAgICAgICAgICBmIntDb2xvcnMuUkVTRVR9IgogICAgICAgICAgICApCiAgICAgICAgICAgIG9yICIxIgogICAgICAgICkKICAgICAgICBpZiBkZWxheSA8IDE6CiAgICAgICAgICAgIGRlbGF5ID0gMQoKICAgICAgICBjb25maXJtID0gaW5wdXQoCiAgICAgICAgICAgIGYie0NvbG9ycy5SRUR94pqg77iPINCf0L7QtNGC0LLQtdGA0LTQuNGC0LUg0LzQsNGB0YHQvtCy0YPRjiDRgNCw0YHRgdGL0LvQutGDICh5L04pOiAiCiAgICAgICAgICAgIGYie0NvbG9ycy5SRVNFVH0iCiAgICAgICAgKS5sb3dlcigpCiAgICAgICAgaWYgY29uZmlybSBub3QgaW4gWyJ5IiwgInllcyJdOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkaWFsb2dzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZGlhbG9ncygpCiAgICAgICAgICAgIHN1Y2Nlc3NfY291bnQgPSAwCiAgICAgICAgICAgIHRvdGFsX2NvdW50ID0gbGVuKGRpYWxvZ3MpCgogICAgICAgICAgICBwcm9ncmVzc19ib3ggPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfmoAg0J3QsNGH0LjQvdCw0LXQvCDRgNCw0YHRgdGL0LvQutGDINCyIHt0b3RhbF9jb3VudH0g0YfQsNGC0L7QsnsnJzo8MzR9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHByb2dyZXNzX2JveCkKCiAgICAgICAgICAgIGZvciBpLCBkaWFsb2cgaW4gZW51bWVyYXRlKGRpYWxvZ3MsIDEpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuc2VuZF9tZXNzYWdlKGRpYWxvZy5lbnRpdHksIG1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgY2hhdF9uYW1lID0gZ2V0YXR0cigKICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmVudGl0eSwKICAgICAgICAgICAgICAgICAgICAgICAgInRpdGxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0YXR0cihkaWFsb2cuZW50aXR5LCAiZmlyc3RfbmFtZSIsICJVbmtub3duIiksCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGNoYXRfZGlzcGxheSA9ICgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhdF9uYW1lWzo0MF0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGNoYXRfbmFtZSkgPD0gNDAKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBjaGF0X25hbWVbOjM3XSArICIuLi4iCiAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzX21lc3NhZ2UgPSAoCiAgICAgICAgICAgICAgICAgICAgICAgIGYi4pyFIHtpfS97dG90YWxfY291bnR9INCe0YLQv9GA0LDQstC70LXQvdC+INCyOiB7Y2hhdF9kaXNwbGF5fSIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfXtzdWNjZXNzX21lc3NhZ2V9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NfY291bnQgKz0gMQoKICAgICAgICAgICAgICAgICAgICBpZiBpIDwgdG90YWxfY291bnQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFzeW5jaW8uc2xlZXAoZGVsYXkpCgogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIGNoYXRfbmFtZSA9IGdldGF0dHIoCiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5lbnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICJ0aXRsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGdldGF0dHIoZGlhbG9nLmVudGl0eSwgImZpcnN0X25hbWUiLCAiVW5rbm93biIpLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBjaGF0X2Rpc3BsYXkgPSAoCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXRfbmFtZVs6MzBdCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbihjaGF0X25hbWUpIDw9IDMwCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgY2hhdF9uYW1lWzoyN10gKyAiLi4uIgogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBlcnJvcl9kaXNwbGF5ID0gKAogICAgICAgICAgICAgICAgICAgICAgICBzdHIoZSlbOjIwXSBpZiBsZW4oc3RyKGUpKSA8PSAyMCBlbHNlIHN0cihlKVs6MTddICsgIi4uLiIKICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgIGVycm9yX21lc3NhZ2UgPSAoCiAgICAgICAgICAgICAgICAgICAgICAgIGYi4p2MIHtpfS97dG90YWxfY291bnR9INCe0YjQuNCx0LrQsCDQsiB7Y2hhdF9kaXNwbGF5fTogIgogICAgICAgICAgICAgICAgICAgICAgICBmIntlcnJvcl9kaXNwbGF5fSIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH17ZXJyb3JfbWVzc2FnZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgICAgICBmaW5hbF9ib3ggPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0KDQkNCh0KHQq9Cb0JrQkCDQl9CQ0JLQldCg0KjQldCd0JAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCj0YHQv9C10YjQvdC+OiAgIHtzdWNjZXNzX2NvdW50fS97dG90YWxfY291bnQ6PDgyfSAgCiAg0J3QtdGD0LTQsNGH0L3QvjogIHt0b3RhbF9jb3VudCAtIHN1Y2Nlc3NfY291bnR9L3t0b3RhbF9jb3VudDo8ODJ9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGZpbmFsX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBlcnJvcl9zdHIgPSBzdHIoZSlbOjgwXQogICAgICAgICAgICBlcnJvcl9ib3ggPSBmIiIiCntDb2xvcnMuUkVEfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p2MINCe0YjQuNCx0LrQsCDQvNCw0YHRgdC+0LLQvtC5INGA0LDRgdGB0YvQu9C60LggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIHtlcnJvcl9zdHI6PDkwfSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChlcnJvcl9ib3gpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi4iCiAgICAgICAgICAgICAgZiJ7Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGJ1bGtfc2VuZChzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBidWxrX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OkINCc0JDQodCh0J7QktCQ0K8g0J7QotCf0KDQkNCS0JrQkCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KGJ1bGtfaGVhZGVyKQoKICAgICAgICBtZXNzYWdlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TnSDQotC10LrRgdGCINGB0L7QvtCx0YnQtdC90LjRjzoge0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGlmIG5vdCBtZXNzYWdlOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5OLINCS0LLQtdC00LjRgtC1INC/0L7Qu9GD0YfQsNGC0LXQu9C10LkgKNC/0L4g0L7QtNC90L7QvNGDINCyINGB0YLRgNC+0LrQtSwg0L/Rg9GB0YLQsNGPINGB0YLRgNC+0LrQsCDQtNC70Y8g0LfQsNCy0LXRgNGI0LXQvdC40Y8pOntDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgcmVjaXBpZW50cyA9IFtdCiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgcmVjaXBpZW50ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+OryDQn9C+0LvRg9GH0LDRgtC10LvRjCAodXNlcm5hbWUvSUQpOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICAgICAgaWYgbm90IHJlY2lwaWVudDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHJlY2lwaWVudHMuYXBwZW5kKHJlY2lwaWVudCkKCiAgICAgICAgaWYgbm90IHJlY2lwaWVudHM6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCh0L/QuNGB0L7QuiDQv9C+0LvRg9GH0LDRgtC10LvQtdC5INC/0YPRgdGCe0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgZGVsYXkgPSBmbG9hdChpbnB1dChmIntDb2xvcnMuQ1lBTn3ij7Ag0JfQsNC00LXRgNC20LrQsCDQvNC10LbQtNGDINC+0YLQv9GA0LDQstC60LDQvNC4ICjRgdC10LosINC80LjQvSAxKToge0NvbG9ycy5SRVNFVH0iKSBvciAiMSIpCiAgICAgICAgaWYgZGVsYXkgPCAxOgogICAgICAgICAgICBkZWxheSA9IDEKCiAgICAgICAgcHJvZ3Jlc3NfYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5qAINCd0LDRh9C40L3QsNC10Lwg0L7RgtC/0YDQsNCy0LrRgyDQsiB7bGVuKHJlY2lwaWVudHMpfSDRh9Cw0YLQvtCyeycnOjwzMn0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KHByb2dyZXNzX2JveCkKCiAgICAgICAgc3VjY2Vzc19jb3VudCA9IDAKICAgICAgICBmYWlsZWRfY291bnQgPSAwCgogICAgICAgIGZvciBpLCByZWNpcGllbnQgaW4gZW51bWVyYXRlKHJlY2lwaWVudHMsIDEpOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkocmVjaXBpZW50KQogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5zZW5kX21lc3NhZ2UoZW50aXR5LCBtZXNzYWdlKQoKICAgICAgICAgICAgICAgIHJlY2lwaWVudF9uYW1lID0gZ2V0YXR0cihlbnRpdHksICJ0aXRsZSIsIGdldGF0dHIoZW50aXR5LCAiZmlyc3RfbmFtZSIsIHJlY2lwaWVudCkpCiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFIHtpfS97bGVuKHJlY2lwaWVudHMpfSDQntGC0L/RgNCw0LLQu9C10L3Qvjoge3JlY2lwaWVudF9uYW1lWzo0MF19e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgc3VjY2Vzc19jb3VudCArPSAxCgogICAgICAgICAgICAgICAgaWYgaSA8IGxlbihyZWNpcGllbnRzKToKICAgICAgICAgICAgICAgICAgICBhd2FpdCBhc3luY2lvLnNsZWVwKGRlbGF5KQoKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwge2l9L3tsZW4ocmVjaXBpZW50cyl9INCe0YjQuNCx0LrQsCB7cmVjaXBpZW50fToge3N0cihlKVs6MzBdfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgIGZhaWxlZF9jb3VudCArPSAxCgogICAgICAgIGZpbmFsX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKchSDQntCi0J/QoNCQ0JLQmtCQINCX0JDQktCV0KDQqNCV0J3QkCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0KPRgdC/0LXRiNC90L46ICAge3N1Y2Nlc3NfY291bnR9L3tsZW4ocmVjaXBpZW50cyk6PDgyfSAgCiAg0J3QtdGD0LTQsNGH0L3QvjogIHtmYWlsZWRfY291bnR9L3tsZW4ocmVjaXBpZW50cyk6PDgyfSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoZmluYWxfYm94KQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBmb3J3YXJkX21lc3NhZ2VzKHNlbGYpOgogICAgICAgIGNsZWFyX3NjcmVlbigpCgogICAgICAgIGZvcndhcmRfaGVhZGVyID0gZiIiIgp7Q29sb3JzLk1BR0VOVEF94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKGl++4jyDQn9CV0KDQldCh0KvQm9Ca0JAg0KHQntCe0JHQqdCV0J3QmNCZICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KGZvcndhcmRfaGVhZGVyKQoKICAgICAgICBzb3VyY2VfY2hhdCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk6Ug0KfQsNGCLdC40YHRgtC+0YfQvdC40LogKHVzZXJuYW1lL0lEKToge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IHNvdXJjZV9jaGF0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgoKICAgICAgICAgICAgc291cmNlX2VudGl0eSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShzb3VyY2VfY2hhdCkKCgogICAgICAgICAgICBtZXNzYWdlcyA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X21lc3NhZ2VzKHNvdXJjZV9lbnRpdHksIGxpbWl0PTIwKQoKICAgICAgICAgICAgaWYgbm90IG1lc3NhZ2VzOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0KHQvtC+0LHRidC10L3QuNGPINC90LUg0L3QsNC50LTQtdC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICBwcmludChmIlxue0NvbG9ycy5CTFVFffCfk4sg0J/QvtGB0LvQtdC00L3QuNC1INGB0L7QvtCx0YnQtdC90LjRjzp7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGZvciBpLCBtc2cgaW4gZW51bWVyYXRlKG1lc3NhZ2VzLCAxKToKICAgICAgICAgICAgICAgIHRleHQgPSBtc2cudGV4dCBvciAiW01lZGlhL9Ck0LDQudC7XSIKICAgICAgICAgICAgICAgIHRleHRfcHJldmlldyA9IHRleHRbOjUwXSArICIuLi4iIGlmIGxlbih0ZXh0KSA+IDUwIGVsc2UgdGV4dAogICAgICAgICAgICAgICAgZGF0ZV9zdHIgPSBtc2cuZGF0ZS5zdHJmdGltZSgiJWQuJW0gJUg6JU0iKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkNZQU59e2k6MmR9LiB7ZGF0ZV9zdHJ9IC0ge3RleHRfcHJldmlld317Q29sb3JzLlJFU0VUfSIpCgoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgbXNnX2Nob2ljZSA9IGludChpbnB1dChmIlxue0NvbG9ycy5DWUFOffCfjq8g0J3QvtC80LXRgCDRgdC+0L7QsdGJ0LXQvdC40Y8g0LTQu9GPINC/0LXRgNC10YHRi9C70LrQuDoge0NvbG9ycy5SRVNFVH0iKSkKICAgICAgICAgICAgICAgIGlmIG5vdCAoMSA8PSBtc2dfY2hvaWNlIDw9IGxlbihtZXNzYWdlcykpOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoKQogICAgICAgICAgICAgICAgc2VsZWN0ZWRfbWVzc2FnZSA9IG1lc3NhZ2VzW21zZ19jaG9pY2UgLSAxXQogICAgICAgICAgICBleGNlcHQgKFZhbHVlRXJyb3IsIEluZGV4RXJyb3IpOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J3QtdCy0LXRgNC90YvQuSDQvdC+0LzQtdGAINGB0L7QvtCx0YnQtdC90LjRj3tDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgZiJcbntDb2xvcnMuWUVMTE9XffCfk4sg0JLQstC10LTQuNGC0LUg0L/QvtC70YPRh9Cw0YLQtdC70LXQuSAo0L/QviDQvtC00L3QvtC80YMg0LIg0YHRgtGA0L7QutC1LCDQv9GD0YHRgtCw0Y8g0YHRgtGA0L7QutCwINC00LvRjyDQt9Cw0LLQtdGA0YjQtdC90LjRjyk6e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgcmVjaXBpZW50cyA9IFtdCiAgICAgICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgICAgICByZWNpcGllbnQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn46vINCf0L7Qu9GD0YfQsNGC0LXQu9GMOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICAgICAgICAgIGlmIG5vdCByZWNpcGllbnQ6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIHJlY2lwaWVudHMuYXBwZW5kKHJlY2lwaWVudCkKCiAgICAgICAgICAgIGlmIG5vdCByZWNpcGllbnRzOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0KHQv9C40YHQvtC6INC/0L7Qu9GD0YfQsNGC0LXQu9C10Lkg0L/Rg9GB0YJ7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICBzdWNjZXNzX2NvdW50ID0gMAogICAgICAgICAgICBmb3IgcmVjaXBpZW50IGluIHJlY2lwaWVudHM6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0X2VudGl0eSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShyZWNpcGllbnQpCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5mb3J3YXJkX21lc3NhZ2VzKHRhcmdldF9lbnRpdHksIHNlbGVjdGVkX21lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQn9C10YDQtdGB0LvQsNC90L4g0LI6IHtyZWNpcGllbnR9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NfY291bnQgKz0gMQogICAgICAgICAgICAgICAgICAgIGF3YWl0IGFzeW5jaW8uc2xlZXAoMSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0L/QtdGA0LXRgdGL0LvQutC4INCyIHtyZWNpcGllbnR9OiB7c3RyKGUpWzo0MF19e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgcmVzdWx0X2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFINCf0JXQoNCV0KHQq9Cb0JrQkCDQl9CQ0JLQldCg0KjQldCd0JAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCj0YHQv9C10YjQvdC+INC/0LXRgNC10YHQu9Cw0L3Qvjoge3N1Y2Nlc3NfY291bnR9L3tsZW4ocmVjaXBpZW50cyk6PDY4fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChyZXN1bHRfYm94KQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGVycm9yX2JveCA9IGYiIiIKe0NvbG9ycy5SRUR94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p2MINCe0YjQuNCx0LrQsCDQv9C10YDQtdGB0YvQu9C60LggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICB7c3RyKGUpWzo5MF06PDkwfSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChlcnJvcl9ib3gpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHNlYXJjaF9tZXNzYWdlcyhzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBzZWFyY2hfaGVhZGVyID0gZiIiIgp7Q29sb3JzLllFTExPV33ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCflI0g0J/QntCY0KHQmiDQodCe0J7QkdCp0JXQndCY0JkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoc2VhcmNoX2hlYWRlcikKCiAgICAgICAgc2VhcmNoX3F1ZXJ5ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+UjSDQn9C+0LjRgdC60L7QstGL0Lkg0LfQsNC/0YDQvtGBOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3Qgc2VhcmNoX3F1ZXJ5OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4Ig0KfQsNGCINC00LvRjyDQv9C+0LjRgdC60LAgKNC/0YPRgdGC0L4gPSDQstC10LfQtNC1KToge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgIGxpbWl0ID0gaW50KGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4og0JzQsNC60YHQuNC80YPQvCDRgNC10LfRg9C70YzRgtCw0YLQvtCyICjQv9C+INGD0LzQvtC70YfQsNC90LjRjiA1MCk6IHtDb2xvcnMuUkVTRVR9Iikgb3IgIjUwIikKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcm9ncmVzc19ib3ggPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCflI0g0JLRi9C/0L7Qu9C90Y/QtdGC0YHRjyDQv9C+0LjRgdC6Li4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHByb2dyZXNzX2JveCkKCiAgICAgICAgICAgIGZvdW5kX21lc3NhZ2VzID0gW10KCiAgICAgICAgICAgIGlmIGNoYXRfaW5wdXQ6CiAgICAgICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKICAgICAgICAgICAgICAgIGFzeW5jIGZvciBtZXNzYWdlIGluIHNlbGYubWFuYWdlci5jbGllbnQuaXRlcl9tZXNzYWdlcyhlbnRpdHksIHNlYXJjaD1zZWFyY2hfcXVlcnksIGxpbWl0PWxpbWl0KToKICAgICAgICAgICAgICAgICAgICBpZiBtZXNzYWdlLnRleHQgYW5kIHNlYXJjaF9xdWVyeS5sb3dlcigpIGluIG1lc3NhZ2UudGV4dC5sb3dlcigpOgogICAgICAgICAgICAgICAgICAgICAgICBmb3VuZF9tZXNzYWdlcy5hcHBlbmQoKG1lc3NhZ2UsIGVudGl0eSkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBkaWFsb2dzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZGlhbG9ncyhsaW1pdD0xMDApCgogICAgICAgICAgICAgICAgZm9yIGRpYWxvZyBpbiBkaWFsb2dzOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgZm9yIG1lc3NhZ2UgaW4gc2VsZi5tYW5hZ2VyLmNsaWVudC5pdGVyX21lc3NhZ2VzKGRpYWxvZy5lbnRpdHksIHNlYXJjaD1zZWFyY2hfcXVlcnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdD0xMCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBtZXNzYWdlLnRleHQgYW5kIHNlYXJjaF9xdWVyeS5sb3dlcigpIGluIG1lc3NhZ2UudGV4dC5sb3dlcigpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kX21lc3NhZ2VzLmFwcGVuZCgobWVzc2FnZSwgZGlhbG9nLmVudGl0eSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGZvdW5kX21lc3NhZ2VzKSA+PSBsaW1pdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgICAgICBpZiBsZW4oZm91bmRfbWVzc2FnZXMpID49IGxpbWl0OgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgaWYgbm90IGZvdW5kX21lc3NhZ2VzOgogICAgICAgICAgICAgICAgbm9fcmVzdWx0c19ib3ggPSBmIiIiCntDb2xvcnMuWUVMTE9XfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk60g0KDQtdC30YPQu9GM0YLQsNGC0Ysg0L3QtSDQvdCw0LnQtNC10L3RiyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChub19yZXN1bHRzX2JveCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJlc3VsdHNfaGVhZGVyID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiyDQndCQ0JnQlNCV0J3QniB7bGVuKGZvdW5kX21lc3NhZ2VzKX0g0KHQntCe0JHQqdCV0J3QmNCZICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KHJlc3VsdHNfaGVhZGVyKQoKICAgICAgICAgICAgICAgIGZvciBpLCAobWVzc2FnZSwgZW50aXR5KSBpbiBlbnVtZXJhdGUoZm91bmRfbWVzc2FnZXMsIDEpOgogICAgICAgICAgICAgICAgICAgIGNoYXRfbmFtZSA9IGdldGF0dHIoZW50aXR5LCAidGl0bGUiLCBnZXRhdHRyKGVudGl0eSwgImZpcnN0X25hbWUiLCAiVW5rbm93biIpKQogICAgICAgICAgICAgICAgICAgIGRhdGVfc3RyID0gbWVzc2FnZS5kYXRlLnN0cmZ0aW1lKCIlZC4lbS4lWSAlSDolTSIpCiAgICAgICAgICAgICAgICAgICAgdGV4dF9wcmV2aWV3ID0gbWVzc2FnZS50ZXh0Wzo4MF0gKyAiLi4uIiBpZiBsZW4obWVzc2FnZS50ZXh0KSA+IDgwIGVsc2UgbWVzc2FnZS50ZXh0CgogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfYm94ID0gZiIiIgp7Q29sb3JzLkNZQU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAge2k6MmR9LiDwn5OFIHtkYXRlX3N0cn0gfCDwn5KsIHtjaGF0X25hbWVbOjMwXTo8MzB9IHwgSUQ6IHttZXNzYWdlLmlkfQrilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICAgICDwn5OdIHt0ZXh0X3ByZXZpZXc6PDg0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICAgICAgcHJpbnQobWVzc2FnZV9ib3gpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgZXJyb3JfYm94ID0gZiIiIgp7Q29sb3JzLlJFRH3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p2MINCe0YjQuNCx0LrQsCDQv9C+0LjRgdC60LAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIHtzdHIoZSlbOjkwXTo8OTB9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGVycm9yX2JveCkKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgZXhwb3J0X2NoYXRfaGlzdG9yeShzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBleHBvcnRfaGVhZGVyID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk6Ug0K3QmtCh0J/QntCg0KIg0JjQodCi0J7QoNCY0Jgg0KfQkNCi0JAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoZXhwb3J0X2hlYWRlcikKCiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4Ig0KfQsNGCINC00LvRjyDRjdC60YHQv9C+0YDRgtCwICh1c2VybmFtZS9JRCk6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBjaGF0X2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbGltaXQgPSBpbnQoaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TiiDQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdC+0L7QsdGJ0LXQvdC40LkgKNC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIDEwMDApOiB7Q29sb3JzLlJFU0VUfSIpIG9yICIxMDAwIikKCiAgICAgICAgZm9ybWF0X2Nob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4Qg0KTQvtGA0LzQsNGCINGN0LrRgdC/0L7RgNGC0LAgKDEtVFhULCAyLUpTT04pOiB7Q29sb3JzLlJFU0VUfSIpIG9yICIxIgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVudGl0eSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShjaGF0X2lucHV0KQogICAgICAgICAgICBjaGF0X25hbWUgPSBnZXRhdHRyKGVudGl0eSwgInRpdGxlIiwgZ2V0YXR0cihlbnRpdHksICJmaXJzdF9uYW1lIiwgIlVua25vd24iKSkKCiAgICAgICAgICAgIHByb2dyZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TpSDQrdC60YHQv9C+0YDRgtC40YDRg9C10YLRgdGPIHtjaGF0X25hbWVbOjMwXTo8MzB9Li4uICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHByb2dyZXNzX2JveCkKCgogICAgICAgICAgICBtZXNzYWdlcyA9IFtdCiAgICAgICAgICAgIGFzeW5jIGZvciBtZXNzYWdlIGluIHNlbGYubWFuYWdlci5jbGllbnQuaXRlcl9tZXNzYWdlcyhlbnRpdHksIGxpbWl0PWxpbWl0KToKICAgICAgICAgICAgICAgIHNlbmRlcl9uYW1lID0gIlVua25vd24iCiAgICAgICAgICAgICAgICBpZiBtZXNzYWdlLnNlbmRlcjoKICAgICAgICAgICAgICAgICAgICBzZW5kZXJfbmFtZSA9IGdldGF0dHIobWVzc2FnZS5zZW5kZXIsICJmaXJzdF9uYW1lIiwgIlVua25vd24iKQogICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIobWVzc2FnZS5zZW5kZXIsICJsYXN0X25hbWUiKSBhbmQgbWVzc2FnZS5zZW5kZXIubGFzdF9uYW1lOgogICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJfbmFtZSArPSBmIiB7bWVzc2FnZS5zZW5kZXIubGFzdF9uYW1lfSIKCiAgICAgICAgICAgICAgICBtZXNzYWdlX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgImlkIjogbWVzc2FnZS5pZCwKICAgICAgICAgICAgICAgICAgICAiZGF0ZSI6IG1lc3NhZ2UuZGF0ZS5zdHJmdGltZSgiJVktJW0tJWQgJUg6JU06JVMiKSwKICAgICAgICAgICAgICAgICAgICAic2VuZGVyIjogc2VuZGVyX25hbWUsCiAgICAgICAgICAgICAgICAgICAgInRleHQiOiBtZXNzYWdlLnRleHQgb3IgIltNZWRpYS9GaWxlXSIsCiAgICAgICAgICAgICAgICAgICAgIm1lZGlhX3R5cGUiOiAidGV4dCIgaWYgbWVzc2FnZS50ZXh0IGVsc2UgIm1lZGlhIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWVzc2FnZXMuYXBwZW5kKG1lc3NhZ2VfZGF0YSkKCiAgICAgICAgICAgIGlmIG5vdCBtZXNzYWdlczoKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCh0L7QvtCx0YnQtdC90LjRjyDQvdC1INC90LDQudC00LXQvdGLe0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgaW1wb3J0IG9zCiAgICAgICAgICAgIGZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCgogICAgICAgICAgICB0aW1lc3RhbXAgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVklbSVkXyVIJU0lUyIpCiAgICAgICAgICAgIHNhZmVfY2hhdF9uYW1lID0gIiIuam9pbihjIGZvciBjIGluIGNoYXRfbmFtZSBpZiBjLmlzYWxudW0oKSBvciBjIGluICgnICcsICctJywgJ18nKSkucnN0cmlwKCkKCiAgICAgICAgICAgIGlmIGZvcm1hdF9jaG9pY2UgPT0gIjIiOgoKICAgICAgICAgICAgICAgIGltcG9ydCBqc29uCiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGYiZXhwb3J0X3tzYWZlX2NoYXRfbmFtZX1fe3RpbWVzdGFtcH0uanNvbiIKCiAgICAgICAgICAgICAgICBleHBvcnRfZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAiY2hhdF9uYW1lIjogY2hhdF9uYW1lLAogICAgICAgICAgICAgICAgICAgICJleHBvcnRfZGF0ZSI6IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpLAogICAgICAgICAgICAgICAgICAgICJ0b3RhbF9tZXNzYWdlcyI6IGxlbihtZXNzYWdlcyksCiAgICAgICAgICAgICAgICAgICAgIm1lc3NhZ2VzIjogbWVzc2FnZXMKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZmlsZW5hbWUsICd3JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgICAgICAgICBqc29uLmR1bXAoZXhwb3J0X2RhdGEsIGYsIGVuc3VyZV9hc2NpaT1GYWxzZSwgaW5kZW50PTIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGYiZXhwb3J0X3tzYWZlX2NoYXRfbmFtZX1fe3RpbWVzdGFtcH0udHh0IgoKICAgICAgICAgICAgICAgIHdpdGggb3BlbihmaWxlbmFtZSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoZiI9PT0g0K3QmtCh0J/QntCg0KIg0KfQkNCi0JA6IHtjaGF0X25hbWV9ID09PVxuIikKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGYi0JTQsNGC0LAg0Y3QutGB0L/QvtGA0YLQsDoge2RhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpfVxuIikKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGYi0JLRgdC10LPQviDRgdC+0L7QsdGJ0LXQvdC40Lk6IHtsZW4obWVzc2FnZXMpfVxuIikKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKCI9IiAqIDUwICsgIlxuXG4iKQoKICAgICAgICAgICAgICAgICAgICBmb3IgbXNnIGluIHJldmVyc2VkKG1lc3NhZ2VzKToKICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZShmIlt7bXNnWydkYXRlJ119XSB7bXNnWydzZW5kZXInXX06IHttc2dbJ3RleHQnXX1cblxuIikKCiAgICAgICAgICAgIHN1Y2Nlc3NfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFINCt0JrQodCf0J7QoNCiINCX0JDQktCV0KDQqNCV0J0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0KTQsNC50Ls6ICAgICAgIHtmaWxlbmFtZTo8Nzd9ICAKICDQodC+0L7QsdGJ0LXQvdC40Lk6ICB7bGVuKG1lc3NhZ2VzKTo8Nzd9ICAKICDQoNCw0LfQvNC10YA6ICAgICB7b3MucGF0aC5nZXRzaXplKGZpbGVuYW1lKSAvIDEwMjQ6LjFmfSBLQnsnJzo8NjZ9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHN1Y2Nlc3NfYm94KQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIGVycm9yX2JveCA9IGYiIiIKe0NvbG9ycy5SRUR94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p2MINCe0YjQuNCx0LrQsCDRjdC60YHQv9C+0YDRgtCwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIHtzdHIoZSlbOjkwXTo8OTB9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGVycm9yX2JveCkKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCgpjbGFzcyBTZWN1cml0eUhhbmRsZXI6CiAgICBkZWYgX19pbml0X18oc2VsZiwgbWFuYWdlcik6CiAgICAgICAgc2VsZi5tYW5hZ2VyID0gbWFuYWdlcgoKICAgIGFzeW5jIGRlZiBzZWN1cml0eV9tZW51KHNlbGYpOgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIGNsZWFyX3NjcmVlbigpCgogICAgICAgICAgICBzZWN1cml0eV9oZWFkZXIgPSBmIiIiCntDb2xvcnMuUkVEfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCflJIg0JHQldCX0J7Qn9CQ0KHQndCe0KHQotCsINCYINCf0KDQmNCS0JDQotCd0J7QodCi0KwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChzZWN1cml0eV9oZWFkZXIpCgogICAgICAgICAgICBzZWN1cml0eV9tZW51X2l0ZW1zID0gZiIiIgp7Q29sb3JzLk1BR0VOVEF94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgMS4g8J+UkCDQkNC60YLQuNCy0L3Ri9C1INGB0LXRgdGB0LjQuHsnJzo8NjJ9ICAKICAyLiDwn5SSINCX0LDQstC10YDRiNC40YLRjCDQtNGA0YPQs9C40LUg0YHQtdGB0YHQuNC4eycnOjw1NH0gIAogIDAuIOKshe+4jyAg0J3QsNC30LDQtHsnJzo8NzR9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHNlY3VyaXR5X21lbnVfaXRlbXMpCgogICAgICAgICAgICBjaG9pY2UgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn46vINCS0YvQsdC+0YA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuc2hvd19hY3RpdmVfc2Vzc2lvbnMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnRlcm1pbmF0ZV9vdGhlcl9zZXNzaW9ucygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIwIjoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgYXN5bmMgZGVmIHNob3dfYWN0aXZlX3Nlc3Npb25zKHNlbGYpOgogICAgICAgIGNsZWFyX3NjcmVlbigpCgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudCgKICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hY2NvdW50LkdldEF1dGhvcml6YXRpb25zUmVxdWVzdCgpKQoKICAgICAgICAgICAgc2Vzc2lvbnNfaGVhZGVyID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SQINCQ0JrQotCY0JLQndCr0JUg0KHQldCh0KHQmNCYICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChzZXNzaW9uc19oZWFkZXIpCgogICAgICAgICAgICBmb3IgaSwgYXV0aCBpbiBlbnVtZXJhdGUocmVzdWx0LmF1dGhvcml6YXRpb25zLCAxKToKICAgICAgICAgICAgICAgIGN1cnJlbnRfbWFyayA9ICIgW9Ci0JXQmtCj0KnQkNCvXSIgaWYgYXV0aC5jdXJyZW50IGVsc2UgIiIKICAgICAgICAgICAgICAgIGRldmljZV9pbmZvID0gKGYie2F1dGguZGV2aWNlX21vZGVsfSAtICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYie2F1dGgucGxhdGZvcm19e2N1cnJlbnRfbWFya30iKQogICAgICAgICAgICAgICAgZGV2aWNlX2Rpc3BsYXkgPSAoCiAgICAgICAgICAgICAgICAgICAgZGV2aWNlX2luZm9bOjc5XQogICAgICAgICAgICAgICAgICAgIGlmIGxlbihkZXZpY2VfaW5mbykgPD0gNzkKICAgICAgICAgICAgICAgICAgICBlbHNlIGRldmljZV9pbmZvWzo3Nl0gKyAiLi4uIgogICAgICAgICAgICAgICAgKQoKICAgICAgICAgICAgICAgIHNlc3Npb25fYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOIGlmIGF1dGguY3VycmVudCBlbHNlIENvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIHtpfS4ge2RldmljZV9kaXNwbGF5Ojw4NX0gIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICAgICBJUDoge2F1dGguaXA6PDMwfSDQodGC0YDQsNC90LA6IHthdXRoLmNvdW50cnk6PDQ0fSAgCiAgICAg0J/QvtGB0LvQtdC00L3Rj9GPINCw0LrRgtC40LLQvdC+0YHRgtGMOiB7c3RyKGF1dGguZGF0ZV9hY3RpdmUpOjw2NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChzZXNzaW9uX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBlcnJvcl9zdHIgPSBzdHIoZSlbOjgwXQogICAgICAgICAgICBlcnJvcl9ib3ggPSBmIiIiCntDb2xvcnMuUkVEfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQtdGB0YHQuNC5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAge2Vycm9yX3N0cjo8OTB9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGVycm9yX2JveCkKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLiIKICAgICAgICAgICAgICBmIntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgdGVybWluYXRlX290aGVyX3Nlc3Npb25zKHNlbGYpOgogICAgICAgIHdhcm5pbmdfYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UkCDQl9CQ0JLQldCg0KjQldCd0JjQlSDQlNCg0KPQk9CY0KUg0KHQldCh0KHQmNCZICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwoKICDQrdGC0L4g0LfQsNCy0LXRgNGI0LjRgiDQstGB0LUg0LTRgNGD0LPQuNC1INCw0LrRgtC40LLQvdGL0LUg0YHQtdGB0YHQuNC4LCDQutGA0L7QvNC1INGC0LXQutGD0YnQtdC5INGC0LXRgNC80LjQvdCw0LvRjNC90L7QuSAgICAgICAgICAgICAgICAgICAgICAgCgrilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KHdhcm5pbmdfYm94KQoKICAgICAgICBjb25maXJtID0gaW5wdXQoCiAgICAgICAgICAgIGYie0NvbG9ycy5ZRUxMT1d94pqg77iPINCX0LDQstC10YDRiNC40YLRjCDQstGB0LUg0LTRgNGD0LPQuNC1INCw0LrRgtC40LLQvdGL0LUg0YHQtdGB0YHQuNC4PyAiCiAgICAgICAgICAgIGYiKHkvTik6IHtDb2xvcnMuUkVTRVR9IgogICAgICAgICkubG93ZXIoKQogICAgICAgIGlmIGNvbmZpcm0gaW4gWyJ5IiwgInllcyJdOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50KAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5hY2NvdW50LkdldEF1dGhvcml6YXRpb25zUmVxdWVzdCgpKQogICAgICAgICAgICAgICAgY3VycmVudF9oYXNoID0gTm9uZQoKICAgICAgICAgICAgICAgIGZvciBhdXRoIGluIHJlc3VsdC5hdXRob3JpemF0aW9uczoKICAgICAgICAgICAgICAgICAgICBpZiBhdXRoLmN1cnJlbnQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfaGFzaCA9IGF1dGguaGFzaAogICAgICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgICAgIHRlcm1pbmF0ZWRfY291bnQgPSAwCiAgICAgICAgICAgICAgICBmb3IgYXV0aCBpbiByZXN1bHQuYXV0aG9yaXphdGlvbnM6CiAgICAgICAgICAgICAgICAgICAgaWYgbm90IGF1dGguY3VycmVudCBhbmQgYXV0aC5oYXNoICE9IGN1cnJlbnRfaGFzaDoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbnMuYWNjb3VudC5SZXNldEF1dGhvcml6YXRpb25SZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoPWF1dGguaGFzaAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmF0ZWRfY291bnQgKz0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQl9Cw0LLQtdGA0YjQtdC90LAg0YHQtdGB0YHQuNGPOiAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmInthdXRoLmRldmljZV9tb2RlbH17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQt9Cw0LLQtdGA0YjQtdC90LjRjyDRgdC10YHRgdC40LggIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZiJ7YXV0aC5kZXZpY2VfbW9kZWx9OiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgICAgICAgICAgcmVzdWx0X2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFINCX0LDQstC10YDRiNC10L3QviB7dGVybWluYXRlZF9jb3VudH0g0LTRgNGD0LPQuNGFINGB0LXRgdGB0LjQuXsnJzo8NDJ9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgcHJpbnQocmVzdWx0X2JveCkKCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQt9Cw0LLQtdGA0YjQtdC90LjRjyDQtNGA0YPQs9C40YUg0YHQtdGB0YHQuNC5OiB7ZX0iCiAgICAgICAgICAgICAgICAgICAgICBmIntDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLiIKICAgICAgICAgICAgICBmIntDb2xvcnMuUkVTRVR9IikKCgpjbGFzcyBNZW51SGFuZGxlcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBtYW5hZ2VyKToKICAgICAgICBzZWxmLm1hbmFnZXIgPSBtYW5hZ2VyCgogICAgYXN5bmMgZGVmIG9wZW5fY2hhdChzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBjaGF0X2hlYWRlciA9IGYiIiIKe0NvbG9ycy5NQUdFTlRBfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SrCDQn9Cg0J7QodCc0J7QotCgINCn0JDQotCQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChjaGF0X2hlYWRlcikKCiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkqwg0JLQstC10LTQuNGC0LUgdXNlcm5hbWUvSUQg0YfQsNGC0LA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBjaGF0X2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKICAgICAgICAgICAgY2hhdF9uYW1lID0gZ2V0YXR0cihlbnRpdHksICJ0aXRsZSIsIGdldGF0dHIoZW50aXR5LCAiZmlyc3RfbmFtZSIsICJVbmtub3duIikpCgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgICAgICBjaGF0X2luZm9fYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SrCDQp9CQ0KI6IHtjaGF0X25hbWVbOjUwXTo8NTB9ICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChjaGF0X2luZm9fYm94KQoKICAgICAgICAgICAgICAgIG1lc3NhZ2VzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfbWVzc2FnZXMoZW50aXR5LCBsaW1pdD0xNSkKCiAgICAgICAgICAgICAgICBpZiBtZXNzYWdlczoKICAgICAgICAgICAgICAgICAgICBmb3IgbWVzc2FnZSBpbiByZXZlcnNlZChtZXNzYWdlcyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlcl9uYW1lID0gIlVua25vd24iCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG1lc3NhZ2Uuc2VuZGVyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyX25hbWUgPSBnZXRhdHRyKG1lc3NhZ2Uuc2VuZGVyLCAiZmlyc3RfbmFtZSIsICJVbmtub3duIikKCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBtZXNzYWdlLnRleHQgb3IgIltNZWRpYS9GaWxlXSIKICAgICAgICAgICAgICAgICAgICAgICAgdGltZV9zdHIgPSBtZXNzYWdlLmRhdGUuc3RyZnRpbWUoIiVIOiVNIikKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih0ZXh0KSA+IDYwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHRbOjU3XSArICIuLi4iCgogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX2JveCA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIFt7dGltZV9zdHJ9XSB7c2VuZGVyX25hbWVbOjIwXTo8MjB9IHwge3RleHQ6PDYwfSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChtZXNzYWdlX2JveCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5OtINCh0L7QvtCx0YnQtdC90LjRjyDQvdC1INC90LDQudC00LXQvdGLe0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgICAgIGFjdGlvbnNfYm94ID0gZiIiIgp7Q29sb3JzLllFTExPV33ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCU0JXQmdCh0KLQktCY0K8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIDEuIPCfk50g0J7RgtC/0YDQsNCy0LjRgtGMINGB0L7QvtCx0YnQtdC90LjQtXsnJzo8NTh9ICAKICAyLiDwn5SEINCe0LHQvdC+0LLQuNGC0Ywg0YfQsNGCeycnOjw2Nn0gIAogIDMuIPCfk4sg0J/QvtC60LDQt9Cw0YLRjCDQsdC+0LvRjNGI0LUg0YHQvtC+0LHRidC10L3QuNC5eycnOjw1MX0gIAogIDQuIOKEue+4jyAg0JjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0YfQsNGC0LV7Jyc6PDU5fSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChhY3Rpb25zX2JveCkKCiAgICAgICAgICAgICAgICBjaG9pY2UgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn46vINCS0YvQsdC+0YA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICAgICAgICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TnSDQotC10LrRgdGCINGB0L7QvtCx0YnQtdC90LjRjzoge0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgICAgIGlmIG1lc3NhZ2VfdGV4dDoKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5zZW5kX21lc3NhZ2UoZW50aXR5LCBtZXNzYWdlX3RleHQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCh0L7QvtCx0YnQtdC90LjQtSDQvtGC0L/RgNCw0LLQu9C10L3QvntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFzeW5jaW8uc2xlZXAoMSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC+0YLQv9GA0LDQstC60Lg6IHtlfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIuLi57Q29sb3JzLlJFU0VUfSIpCgogICAgICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjMiOgogICAgICAgICAgICAgICAgICAgIG1vcmVfbWVzc2FnZXMgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9tZXNzYWdlcyhlbnRpdHksIGxpbWl0PTUwKQoKICAgICAgICAgICAgICAgICAgICBwcmludChmIlxue0NvbG9ycy5CTFVFffCfk4sg0JjRgdGC0L7RgNC40Y8g0YHQvtC+0LHRidC10L3QuNC5OntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgICAgICBmb3IgbXNnIGluIHJldmVyc2VkKG1vcmVfbWVzc2FnZXMpOgogICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXJfbmFtZSA9ICJVbmtub3duIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBtc2cuc2VuZGVyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyX25hbWUgPSBnZXRhdHRyKG1zZy5zZW5kZXIsICJmaXJzdF9uYW1lIiwgIlVua25vd24iKQoKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IG1zZy50ZXh0IG9yICJbTWVkaWEvRmlsZV0iCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVfc3RyID0gbXNnLmRhdGUuc3RyZnRpbWUoIiVkLiVtICVIOiVNIikKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih0ZXh0KSA+IDgwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHRbOjc3XSArICIuLi4iCgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuQ1lBTn1be2RhdGVfc3RyfV0ge3NlbmRlcl9uYW1lfToge3RleHR9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI0IjoKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfY2hhdCA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShlbnRpdHkpCgogICAgICAgICAgICAgICAgICAgICAgICBpbmZvX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiSUQiOiBnZXRhdHRyKGZ1bGxfY2hhdCwgImlkIiwgIlVua25vd24iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICLQotC40L8iOiAi0JPRgNGD0L/Qv9CwIiBpZiBoYXNhdHRyKGZ1bGxfY2hhdCwgInRpdGxlIikgZWxzZSAi0JvQuNGH0L3Ri9C5INGH0LDRgiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVXNlcm5hbWUiOiBnZXRhdHRyKGZ1bGxfY2hhdCwgInVzZXJuYW1lIiwgItCd0LUg0YPRgdGC0LDQvdC+0LLQu9C10L0iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICLQo9GH0LDRgdGC0L3QuNC60L7QsiI6IGdldGF0dHIoZnVsbF9jaGF0LCAicGFydGljaXBhbnRzX2NvdW50IiwgIlVua25vd24iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICLQntC/0LjRgdCw0L3QuNC1IjogZ2V0YXR0cihmdWxsX2NoYXQsICJhYm91dCIsICLQndC10YIg0L7Qv9C40YHQsNC90LjRjyIpWzo1MF0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaW5mb19ib3ggPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4oS577iPINCY0J3QpNCe0KDQnNCQ0KbQmNCvINCeINCn0JDQotCVICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsiIiIKCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBrZXksIHZhbHVlIGluIGluZm9fZGF0YS5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb19ib3ggKz0gZiJcbiAge2tleX06eycgJyAqICgxNSAtIGxlbihrZXkpKX17dmFsdWV9eycnOjw2NX0gICIKCiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9fYm94ICs9IGYiIiIK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGluZm9fYm94KQoKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lg6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBlcnJvcl9ib3ggPSBmIiIiCntDb2xvcnMuUkVEfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinYwg0J7RiNC40LHQutCwINC+0YLQutGA0YvRgtC40Y8g0YfQsNGC0LAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAge3N0cihlKVs6OTBdOjw5MH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoZXJyb3JfYm94KQogICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBncm91cHNfbWVudShzZWxmKToKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICAgICAgZ3JvdXBzX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+RpSDQo9Cf0KDQkNCS0JvQldCd0JjQlSDQk9Cg0KPQn9Cf0JDQnNCYINCYINCa0JDQndCQ0JvQkNCc0JggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChncm91cHNfaGVhZGVyKQoKICAgICAgICAgICAgZ3JvdXBzX21lbnVfaXRlbXMgPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAxLiDwn5OLINCh0L/QuNGB0L7QuiDQstGB0LXRhSDQs9GA0YPQv9C/INC4INC60LDQvdCw0LvQvtCyeycnOjw0OH0gIAogIDIuIOKelSDQodC+0LfQtNCw0YLRjCDQs9GA0YPQv9C/0YN7Jyc6PDYzfSAgCiAgMy4g8J+ToiDQodC+0LfQtNCw0YLRjCDQutCw0L3QsNC7eycnOjw2M30gIAogIDQuIPCfkaUg0KPQv9GA0LDQstC70LXQvdC40LUg0YPRh9Cw0YHRgtC90LjQutCw0LzQuHsnJzo8NTd9ICAKICA1LiDimpnvuI8gINCd0LDRgdGC0YDQvtC50LrQuCDQs9GA0YPQv9C/0Ysv0LrQsNC90LDQu9CweycnOjw1NX0gIAogIDYuIPCfk4og0KHRgtCw0YLQuNGB0YLQuNC60LAg0LPRgNGD0L/Qv9GLeycnOjw2MX0gIAogIDcuIPCfmqog0J/QvtC60LjQvdGD0YLRjCDQs9GA0YPQv9C/0YMv0LrQsNC90LDQu3snJzo8NTZ9ICAKICA4LiDwn5SNINCf0L7QuNGB0Log0LPRgNGD0L/Qvy/QutCw0L3QsNC70L7QsnsnJzo8NTh9ICAKICAwLiDirIXvuI8gINCd0LDQt9Cw0LR7Jyc6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChncm91cHNfbWVudV9pdGVtcykKCiAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5saXN0X2dyb3Vwc19hbmRfY2hhbm5lbHMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmNyZWF0ZV9ncm91cCgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIzIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuY3JlYXRlX2NoYW5uZWwoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNCI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZV9wYXJ0aWNpcGFudHMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmdyb3VwX3NldHRpbmdzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjYiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5ncm91cF9zdGF0aXN0aWNzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjciOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5sZWF2ZV9ncm91cCgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI4IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuc2VhcmNoX2dyb3VwcygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIwIjoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgYXN5bmMgZGVmIGxpc3RfZ3JvdXBzX2FuZF9jaGFubmVscyhzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRpYWxvZ3MgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9kaWFsb2dzKCkKICAgICAgICAgICAgZ3JvdXBzID0gW10KICAgICAgICAgICAgY2hhbm5lbHMgPSBbXQoKICAgICAgICAgICAgZm9yIGRpYWxvZyBpbiBkaWFsb2dzOgogICAgICAgICAgICAgICAgaWYgaGFzYXR0cihkaWFsb2cuZW50aXR5LCAnbWVnYWdyb3VwJykgYW5kIGRpYWxvZy5lbnRpdHkubWVnYWdyb3VwOgogICAgICAgICAgICAgICAgICAgIGdyb3Vwcy5hcHBlbmQoZGlhbG9nLmVudGl0eSkKICAgICAgICAgICAgICAgIGVsaWYgaGFzYXR0cihkaWFsb2cuZW50aXR5LCAnYnJvYWRjYXN0JykgYW5kIGRpYWxvZy5lbnRpdHkuYnJvYWRjYXN0OgogICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzLmFwcGVuZChkaWFsb2cuZW50aXR5KQogICAgICAgICAgICAgICAgZWxpZiBoYXNhdHRyKGRpYWxvZy5lbnRpdHksICd0aXRsZScpOgogICAgICAgICAgICAgICAgICAgIGdyb3Vwcy5hcHBlbmQoZGlhbG9nLmVudGl0eSkKCiAgICAgICAgICAgIGxpc3RfaGVhZGVyID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICDwn5OLINCT0KDQo9Cf0J/QqyAoe2xlbihncm91cHMpfSkg0Jgg0JrQkNCd0JDQm9CrICh7bGVuKGNoYW5uZWxzKX0pICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChsaXN0X2hlYWRlcikKCiAgICAgICAgICAgIHByaW50KGYiXG57Q29sb3JzLkJMVUV98J+RpSDQk9Cg0KPQn9Cf0Ks6e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBmb3IgaSwgZ3JvdXAgaW4gZW51bWVyYXRlKGdyb3VwcywgMSk6CiAgICAgICAgICAgICAgICB0aXRsZSA9IGdyb3VwLnRpdGxlWzo1MF0gaWYgZ3JvdXAudGl0bGUgZWxzZSAi0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8iCiAgICAgICAgICAgICAgICB1c2VybmFtZSA9IGYiQHtncm91cC51c2VybmFtZX0iIGlmIGdyb3VwLnVzZXJuYW1lIGVsc2UgItCd0LXRgiB1c2VybmFtZSIKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50cyA9IGdldGF0dHIoZ3JvdXAsICdwYXJ0aWNpcGFudHNfY291bnQnLCAnVW5rbm93bicpCgogICAgICAgICAgICAgICAgZ3JvdXBfYm94ID0gZiIiIgp7Q29sb3JzLkNZQU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAge2k6MmR9LiDwn5GlIHt0aXRsZTo8NTB9IHwgSUQ6IHtncm91cC5pZH0K4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAgICAgIPCfkqwge3VzZXJuYW1lOjwzMH0gfCDwn5GkINCj0YfQsNGB0YLQvdC40LrQvtCyOiB7cGFydGljaXBhbnRzfQrilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChncm91cF9ib3gpCgogICAgICAgICAgICBwcmludChmIlxue0NvbG9ycy5CTFVFffCfk6Ig0JrQkNCd0JDQm9CrOntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgZm9yIGksIGNoYW5uZWwgaW4gZW51bWVyYXRlKGNoYW5uZWxzLCAxKToKICAgICAgICAgICAgICAgIHRpdGxlID0gY2hhbm5lbC50aXRsZVs6NTBdIGlmIGNoYW5uZWwudGl0bGUgZWxzZSAi0JHQtdC3INC90LDQt9Cy0LDQvdC40Y8iCiAgICAgICAgICAgICAgICB1c2VybmFtZSA9IGYiQHtjaGFubmVsLnVzZXJuYW1lfSIgaWYgY2hhbm5lbC51c2VybmFtZSBlbHNlICLQndC10YIgdXNlcm5hbWUiCiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHMgPSBnZXRhdHRyKGNoYW5uZWwsICdwYXJ0aWNpcGFudHNfY291bnQnLCAnVW5rbm93bicpCgogICAgICAgICAgICAgICAgY2hhbm5lbF9ib3ggPSBmIiIiCntDb2xvcnMuTUFHRU5UQX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICB7aToyZH0uIPCfk6Ige3RpdGxlOjw1MH0gfCBJRDoge2NoYW5uZWwuaWR9CuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogICAgICDwn5KsIHt1c2VybmFtZTo8MzB9IHwg8J+RpCDQn9C+0LTQv9C40YHRh9C40LrQvtCyOiB7cGFydGljaXBhbnRzfQrilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChjaGFubmVsX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBlcnJvcl9ib3ggPSBmIiIiCntDb2xvcnMuUkVEfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQv9C40YHQutCwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAge3N0cihlKVs6OTBdOjw5MH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoZXJyb3JfYm94KQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBjcmVhdGVfZ3JvdXAoc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgdGl0bGUgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5GlINCd0LDQt9Cy0LDQvdC40LUg0LPRgNGD0L/Qv9GLOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgdGl0bGU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBwcmludCgKICAgICAgICAgICAgZiJ7Q29sb3JzLllFTExPV33wn5GkINCU0L7QsdCw0LLRjNGC0LUg0YPRh9Cw0YHRgtC90LjQutC+0LIgKHVzZXJuYW1lL0lELCDQv9C+INC+0LTQvdC+0LzRgywg0L/Rg9GB0YLQsNGPINGB0YLRgNC+0LrQsCDQtNC70Y8g0LfQsNCy0LXRgNGI0LXQvdC40Y8pOntDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgdXNlcnMgPSBbXQogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIHVzZXJfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5GkINCj0YfQsNGB0YLQvdC40Lo6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgICAgICBpZiBub3QgdXNlcl9pbnB1dDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkodXNlcl9pbnB1dCkKICAgICAgICAgICAgICAgIHVzZXJzLmFwcGVuZCh1c2VyKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQlNC+0LHQsNCy0LvQtdC9OiB7Z2V0YXR0cih1c2VyLCAnZmlyc3RfbmFtZScsIHVzZXJfaW5wdXQpfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J3QtSDQvdCw0LnQtNC10L06IHt1c2VyX2lucHV0fXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaWYgbm90IHVzZXJzOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQndGD0LbQtdC9INGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0YPRh9Cw0YHRgtC90LjQuntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMubWVzc2FnZXMuQ3JlYXRlQ2hhdFJlcXVlc3QoCiAgICAgICAgICAgICAgICB1c2Vycz11c2VycywKICAgICAgICAgICAgICAgIHRpdGxlPXRpdGxlCiAgICAgICAgICAgICkpCgogICAgICAgICAgICBzdWNjZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFINCT0KDQo9Cf0J/QkCDQodCe0JfQlNCQ0J3QkCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQndCw0LfQstCw0L3QuNC1OiAgIHt0aXRsZTo8NzV9ICAKICDQo9GH0LDRgdGC0L3QuNC60L7Qsjoge2xlbih1c2Vycyk6PDc1fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChzdWNjZXNzX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDQs9GA0YPQv9C/0Ys6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgY3JlYXRlX2NoYW5uZWwoc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgdGl0bGUgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OiINCd0LDQt9Cy0LDQvdC40LUg0LrQsNC90LDQu9CwOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgdGl0bGU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBhYm91dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk50g0J7Qv9C40YHQsNC90LjQtSDQutCw0L3QsNC70LA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIG1lZ2Fncm91cCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkaUg0KHQvtC30LTQsNGC0Ywg0LrQsNC6INGB0YPQv9C10YDQs9GA0YPQv9C/0YM/ICh5L04pOiB7Q29sb3JzLlJFU0VUfSIpLmxvd2VyKCkgaW4gWyd5JywgJ3llcyddCgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuY2hhbm5lbHMuQ3JlYXRlQ2hhbm5lbFJlcXVlc3QoCiAgICAgICAgICAgICAgICB0aXRsZT10aXRsZSwKICAgICAgICAgICAgICAgIGFib3V0PWFib3V0IG9yICIiLAogICAgICAgICAgICAgICAgbWVnYWdyb3VwPW1lZ2Fncm91cAogICAgICAgICAgICApKQoKICAgICAgICAgICAgc3VjY2Vzc19ib3ggPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKchSDQmtCQ0J3QkNCbINCh0J7Ql9CU0JDQnSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCd0LDQt9Cy0LDQvdC40LU6ICAgIHt0aXRsZTo8NzR9ICAKICDQotC40L86ICAgICAgICAgeyfQodGD0L/QtdGA0LPRgNGD0L/Qv9CwJyBpZiBtZWdhZ3JvdXAgZWxzZSAn0JrQsNC90LDQuyc6PDc0fSAgCiAg0J7Qv9C40YHQsNC90LjQtTogICAgeyhhYm91dFs6NzBdICsgJy4uLicgaWYgbGVuKGFib3V0KSA+IDcwIGVsc2UgYWJvdXQpOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc3VjY2Vzc19ib3gpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINGB0L7Qt9C00LDQvdC40Y8g0LrQsNC90LDQu9CwOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIG1hbmFnZV9wYXJ0aWNpcGFudHMoc2VsZik6CiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkaUgSUQvdXNlcm5hbWUg0LPRgNGD0L/Qv9GLOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgY2hhdF9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgZW50aXR5ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZW50aXR5KGNoYXRfaW5wdXQpCgogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHNfaGVhZGVyID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgIPCfkaUg0KPQn9Cg0JDQktCb0JXQndCY0JUg0KPQp9CQ0KHQotCd0JjQmtCQ0JzQmDoge2VudGl0eS50aXRsZVs6NDBdOjw0MH0gICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KHBhcnRpY2lwYW50c19oZWFkZXIpCgogICAgICAgICAgICAgICAgcGFydGljaXBhbnRzX21lbnUgPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAxLiDwn5GlINCf0L7QutCw0LfQsNGC0Ywg0YPRh9Cw0YHRgtC90LjQutC+0LJ7Jyc6PDU4fSAgCiAgMi4g4p6VINCU0L7QsdCw0LLQuNGC0Ywg0YPRh9Cw0YHRgtC90LjQutCweycnOjw2MH0gIAogIDMuIOKdjCDQo9C00LDQu9C40YLRjCDRg9GH0LDRgdGC0L3QuNC60LB7Jyc6PDYwfSAgCiAgNC4g8J+RkSDQndCw0LfQvdCw0YfQuNGC0Ywg0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YDQsHsnJzo8NTJ9ICAKICA1LiDwn5O1INCX0LDQsdCw0L3QuNGC0Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPeycnOjw1N30gIAogIDYuIPCflIQg0KDQsNC30LHQsNC90LjRgtGMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj3snJzo8NTV9ICAKICAwLiDirIXvuI8gINCd0LDQt9Cw0LR7Jyc6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KHBhcnRpY2lwYW50c19tZW51KQoKICAgICAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgICAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnNob3dfcGFydGljaXBhbnRzKGVudGl0eSkKICAgICAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIyIjoKICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmFkZF9wYXJ0aWNpcGFudChlbnRpdHkpCiAgICAgICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5yZW1vdmVfcGFydGljaXBhbnQoZW50aXR5KQogICAgICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYucHJvbW90ZV9hZG1pbihlbnRpdHkpCiAgICAgICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5iYW5fdXNlcihlbnRpdHkpCiAgICAgICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNiI6CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi51bmJhbl91c2VyKGVudGl0eSkKICAgICAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIwIjoKICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsDoge2V9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBzaG93X3BhcnRpY2lwYW50cyhzZWxmLCBlbnRpdHkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcGFydGljaXBhbnRzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfcGFydGljaXBhbnRzKGVudGl0eSwgbGltaXQ9MTAwKQoKICAgICAgICAgICAgcHJpbnQoZiJcbntDb2xvcnMuR1JFRU598J+RpSDQo9GH0LDRgdGC0L3QuNC60LggKHtsZW4ocGFydGljaXBhbnRzKX0pOntDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgICAgIGZvciBpLCBwYXJ0aWNpcGFudCBpbiBlbnVtZXJhdGUocGFydGljaXBhbnRzLCAxKToKICAgICAgICAgICAgICAgIG5hbWUgPSBmIntwYXJ0aWNpcGFudC5maXJzdF9uYW1lIG9yICcnfSB7cGFydGljaXBhbnQubGFzdF9uYW1lIG9yICcnfSIuc3RyaXAoKQogICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBmIkB7cGFydGljaXBhbnQudXNlcm5hbWV9IiBpZiBwYXJ0aWNpcGFudC51c2VybmFtZSBlbHNlICLQvdC10YIiCgogICAgICAgICAgICAgICAgc3RhdHVzID0gIvCfkaQiCiAgICAgICAgICAgICAgICBpZiBwYXJ0aWNpcGFudC5ib3Q6CiAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gIvCfpJYiCiAgICAgICAgICAgICAgICBlbGlmIGhhc2F0dHIocGFydGljaXBhbnQsICdhZG1pbl9yaWdodHMnKSBhbmQgcGFydGljaXBhbnQuYWRtaW5fcmlnaHRzOgogICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9ICLwn5GRIgoKICAgICAgICAgICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgICAgIGYie0NvbG9ycy5DWUFOfXtzdGF0dXN9IHtpOjNkfS4ge25hbWVbOjMwXTo8MzB9IHwge3VzZXJuYW1lOjwyMH0gfCBJRDoge3BhcnRpY2lwYW50LmlkfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgICAgICAgICBpZiBpICUgMjAgPT0gMDoKICAgICAgICAgICAgICAgICAgICBtb3JlID0gaW5wdXQoZiJ7Q29sb3JzLllFTExPV33Qn9C+0LrQsNC30LDRgtGMINC10YnQtT8gKEVudGVyL24pOiB7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICAgICAgaWYgbW9yZS5sb3dlcigpID09ICduJzoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINGD0YfQsNGB0YLQvdC40LrQvtCyOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGFkZF9wYXJ0aWNpcGFudChzZWxmLCBlbnRpdHkpOgogICAgICAgIHVzZXJfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3inpUgVXNlcm5hbWUvSUQg0LTQu9GPINC00L7QsdCw0LLQu9C10L3QuNGPOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgdXNlcl9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgdXNlciA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eSh1c2VyX2lucHV0KQogICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50KGZ1bmN0aW9ucy5jaGFubmVscy5JbnZpdGVUb0NoYW5uZWxSZXF1ZXN0KAogICAgICAgICAgICAgICAgY2hhbm5lbD1lbnRpdHksCiAgICAgICAgICAgICAgICB1c2Vycz1bdXNlcl0KICAgICAgICAgICAgKSkKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LTQvtCx0LDQstC70LXQvXtDb2xvcnMuUkVTRVR9IikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjzoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiByZW1vdmVfcGFydGljaXBhbnQoc2VsZiwgZW50aXR5KToKICAgICAgICB1c2VyX2lucHV0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU594p2MIFVzZXJuYW1lL0lEINC00LvRjyDRg9C00LDQu9C10L3QuNGPOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgdXNlcl9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgdXNlciA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eSh1c2VyX2lucHV0KQogICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmtpY2tfcGFydGljaXBhbnQoZW50aXR5LCB1c2VyKQogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDRg9C00LDQu9C10L17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjzoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBwcm9tb3RlX2FkbWluKHNlbGYsIGVudGl0eSk6CiAgICAgICAgdXNlcl9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkZEgVXNlcm5hbWUvSUQg0LTQu9GPINC90LDQt9C90LDRh9C10L3QuNGPINCw0LTQvNC40L3QvtC8OiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgdXNlcl9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgdXNlciA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eSh1c2VyX2lucHV0KQoKICAgICAgICAgICAgcmlnaHRzID0gZnVuY3Rpb25zLnR5cGVzLkNoYXRBZG1pblJpZ2h0cygKICAgICAgICAgICAgICAgIGNoYW5nZV9pbmZvPVRydWUsCiAgICAgICAgICAgICAgICBwb3N0X21lc3NhZ2VzPVRydWUsCiAgICAgICAgICAgICAgICBlZGl0X21lc3NhZ2VzPVRydWUsCiAgICAgICAgICAgICAgICBkZWxldGVfbWVzc2FnZXM9VHJ1ZSwKICAgICAgICAgICAgICAgIGJhbl91c2Vycz1UcnVlLAogICAgICAgICAgICAgICAgaW52aXRlX3VzZXJzPVRydWUsCiAgICAgICAgICAgICAgICBwaW5fbWVzc2FnZXM9VHJ1ZSwKICAgICAgICAgICAgICAgIGFkZF9hZG1pbnM9RmFsc2UKICAgICAgICAgICAgKQoKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuY2hhbm5lbHMuRWRpdEFkbWluUmVxdWVzdCgKICAgICAgICAgICAgICAgIGNoYW5uZWw9ZW50aXR5LAogICAgICAgICAgICAgICAgdXNlcl9pZD11c2VyLAogICAgICAgICAgICAgICAgYWRtaW5fcmlnaHRzPXJpZ2h0cywKICAgICAgICAgICAgICAgIHJhbms9ItCQ0LTQvNC40L3QuNGB0YLRgNCw0YLQvtGAIgogICAgICAgICAgICApKQoKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0L3QsNC30L3QsNGH0LXQvSDQsNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgNC+0Lx7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0L3QsNC30L3QsNGH0LXQvdC40Y86IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYmFuX3VzZXIoc2VsZiwgZW50aXR5KToKICAgICAgICB1c2VyX2lucHV0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TtSBVc2VybmFtZS9JRCDQtNC70Y8g0LHQsNC90LA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCB1c2VyX2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1c2VyID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZW50aXR5KHVzZXJfaW5wdXQpCiAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQoZnVuY3Rpb25zLmNoYW5uZWxzLkVkaXRCYW5uZWRSZXF1ZXN0KAogICAgICAgICAgICAgICAgY2hhbm5lbD1lbnRpdHksCiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudD11c2VyLAogICAgICAgICAgICAgICAgYmFubmVkX3JpZ2h0cz1mdW5jdGlvbnMudHlwZXMuQ2hhdEJhbm5lZFJpZ2h0cygKICAgICAgICAgICAgICAgICAgICB1bnRpbF9kYXRlPU5vbmUsCiAgICAgICAgICAgICAgICAgICAgdmlld19tZXNzYWdlcz1UcnVlLAogICAgICAgICAgICAgICAgICAgIHNlbmRfbWVzc2FnZXM9VHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzZW5kX21lZGlhPVRydWUsCiAgICAgICAgICAgICAgICAgICAgc2VuZF9zdGlja2Vycz1UcnVlLAogICAgICAgICAgICAgICAgICAgIHNlbmRfZ2lmcz1UcnVlLAogICAgICAgICAgICAgICAgICAgIHNlbmRfZ2FtZXM9VHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzZW5kX2lubGluZT1UcnVlLAogICAgICAgICAgICAgICAgICAgIGVtYmVkX2xpbmtzPVRydWUKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKSkKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LfQsNCx0LDQvdC10L17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LHQsNC90LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgdW5iYW5fdXNlcihzZWxmLCBlbnRpdHkpOgogICAgICAgIHVzZXJfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5SEIFVzZXJuYW1lL0lEINC00LvRjyDRgNCw0LfQsdCw0L3QsDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IHVzZXJfaW5wdXQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkodXNlcl9pbnB1dCkKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuY2hhbm5lbHMuRWRpdEJhbm5lZFJlcXVlc3QoCiAgICAgICAgICAgICAgICBjaGFubmVsPWVudGl0eSwKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50PXVzZXIsCiAgICAgICAgICAgICAgICBiYW5uZWRfcmlnaHRzPWZ1bmN0aW9ucy50eXBlcy5DaGF0QmFubmVkUmlnaHRzKAogICAgICAgICAgICAgICAgICAgIHVudGlsX2RhdGU9Tm9uZSwKICAgICAgICAgICAgICAgICAgICB2aWV3X21lc3NhZ2VzPUZhbHNlLAogICAgICAgICAgICAgICAgICAgIHNlbmRfbWVzc2FnZXM9RmFsc2UsCiAgICAgICAgICAgICAgICAgICAgc2VuZF9tZWRpYT1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBzZW5kX3N0aWNrZXJzPUZhbHNlLAogICAgICAgICAgICAgICAgICAgIHNlbmRfZ2lmcz1GYWxzZSwKICAgICAgICAgICAgICAgICAgICBzZW5kX2dhbWVzPUZhbHNlLAogICAgICAgICAgICAgICAgICAgIHNlbmRfaW5saW5lPUZhbHNlLAogICAgICAgICAgICAgICAgICAgIGVtYmVkX2xpbmtzPUZhbHNlCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkpCiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINGA0LDQt9Cx0LDQvdC10L17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0YDQsNC30LHQsNC90LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgZ3JvdXBfc2V0dGluZ3Moc2VsZik6CiAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkJMVUV98J+UpyDQndCw0YHRgtGA0L7QudC60Lgg0LPRgNGD0L/QvyAtINCx0LDQt9C+0LLQsNGPINGA0LXQsNC70LjQt9Cw0YbQuNGPe0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGdyb3VwX3N0YXRpc3RpY3Moc2VsZik6CiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4ogSUQvdXNlcm5hbWUg0LPRgNGD0L/Qv9GLINC00LvRjyDRgdGC0LDRgtC40YHRgtC40LrQuDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGNoYXRfaW5wdXQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVudGl0eSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShjaGF0X2lucHV0KQoKICAgICAgICAgICAgbWVzc2FnZXNfdG9kYXkgPSAwCiAgICAgICAgICAgIG1lc3NhZ2VzX3dlZWsgPSAwCgogICAgICAgICAgICBmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZWRlbHRhCiAgICAgICAgICAgIHRvZGF5ID0gZGF0ZXRpbWUubm93KCkKICAgICAgICAgICAgd2Vla19hZ28gPSB0b2RheSAtIHRpbWVkZWx0YShkYXlzPTcpCgogICAgICAgICAgICBhc3luYyBmb3IgbWVzc2FnZSBpbiBzZWxmLm1hbmFnZXIuY2xpZW50Lml0ZXJfbWVzc2FnZXMoZW50aXR5LCBsaW1pdD0xMDAwKToKICAgICAgICAgICAgICAgIGlmIG1lc3NhZ2UuZGF0ZS5kYXRlKCkgPT0gdG9kYXkuZGF0ZSgpOgogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzX3RvZGF5ICs9IDEKICAgICAgICAgICAgICAgIGlmIG1lc3NhZ2UuZGF0ZSA+PSB3ZWVrX2FnbzoKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc193ZWVrICs9IDEKCiAgICAgICAgICAgIHBhcnRpY2lwYW50c19jb3VudCA9IDAKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcGFydGljaXBhbnRzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfcGFydGljaXBhbnRzKGVudGl0eSwgbGltaXQ9MCkKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50c19jb3VudCA9IGxlbihwYXJ0aWNpcGFudHMpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50c19jb3VudCA9IGdldGF0dHIoZW50aXR5LCAncGFydGljaXBhbnRzX2NvdW50JywgJ1Vua25vd24nKQoKICAgICAgICAgICAgc3RhdHNfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OKINCh0KLQkNCi0JjQodCi0JjQmtCQOiB7ZW50aXR5LnRpdGxlWzo0MF06PDQwfSAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0KPRh9Cw0YHRgtC90LjQutC+0LI6ICAgICAgICAgIHtwYXJ0aWNpcGFudHNfY291bnQ6PDY1fSAgCiAg0KHQvtC+0LHRidC10L3QuNC5INGB0LXQs9C+0LTQvdGPOiAgIHttZXNzYWdlc190b2RheTo8NjV9ICAKICDQodC+0L7QsdGJ0LXQvdC40Lkg0LfQsCDQvdC10LTQtdC70Y46IHttZXNzYWdlc193ZWVrOjw2NX0gIAogINCi0LjQvzogICAgICAgICAgICAgICAgIHsn0JrQsNC90LDQuycgaWYgZ2V0YXR0cihlbnRpdHksICdicm9hZGNhc3QnLCBGYWxzZSkgZWxzZSAn0JPRgNGD0L/Qv9CwJzo8NjV9ICAKICBJRDogICAgICAgICAgICAgICAgICB7ZW50aXR5LmlkOjw2NX0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc3RhdHNfYm94KQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHRgtCw0YLQuNGB0YLQuNC60Lg6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgbGVhdmVfZ3JvdXAoc2VsZik6CiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfmqogSUQvdXNlcm5hbWUg0LPRgNGD0L/Qv9GLINC00LvRjyDQstGL0YXQvtC00LA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBjaGF0X2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgY29uZmlybSA9IGlucHV0KGYie0NvbG9ycy5SRUR94pqg77iPINCf0L7QtNGC0LLQtdGA0LTQuNGC0LUg0LLRi9GF0L7QtCDQuNC3INCz0YDRg9C/0L/RiyAoeS9OKToge0NvbG9ycy5SRVNFVH0iKS5sb3dlcigpCiAgICAgICAgaWYgY29uZmlybSBub3QgaW4gWyd5JywgJ3llcyddOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuY2hhbm5lbHMuTGVhdmVDaGFubmVsUmVxdWVzdChlbnRpdHkpKQogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCS0Ysg0L/QvtC60LjQvdGD0LvQuCDQs9GA0YPQv9C/0YMv0LrQsNC90LDQu3tDb2xvcnMuUkVTRVR9IikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQstGL0YXQvtC00LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgc2VhcmNoX2dyb3VwcyhzZWxmKToKICAgICAgICBzZWFyY2hfcXVlcnkgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5SNINCf0L7QuNGB0Log0LPRgNGD0L/Qvy/QutCw0L3QsNC70L7Qsjoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IHNlYXJjaF9xdWVyeToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuY29udGFjdHMuU2VhcmNoUmVxdWVzdCgKICAgICAgICAgICAgICAgIHE9c2VhcmNoX3F1ZXJ5LAogICAgICAgICAgICAgICAgbGltaXQ9NTAKICAgICAgICAgICAgKSkKCiAgICAgICAgICAgIGlmIG5vdCByZXN1bHQuY2hhdHM6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XfeKdjCDQk9GA0YPQv9C/0Ysv0LrQsNC90LDQu9GLINC90LUg0L3QsNC50LTQtdC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCd0LDQudC00LXQvdC+IHtsZW4ocmVzdWx0LmNoYXRzKX0g0YDQtdC30YPQu9GM0YLQsNGC0L7Qsjp7Q29sb3JzLlJFU0VUfSIpCgogICAgICAgICAgICAgICAgZm9yIGksIGNoYXQgaW4gZW51bWVyYXRlKHJlc3VsdC5jaGF0cywgMSk6CiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBjaGF0LnRpdGxlWzo0MF0gaWYgY2hhdC50aXRsZSBlbHNlICLQkdC10Lcg0L3QsNC30LLQsNC90LjRjyIKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IGYiQHtjaGF0LnVzZXJuYW1lfSIgaWYgY2hhdC51c2VybmFtZSBlbHNlICLQndC10YIgdXNlcm5hbWUiCiAgICAgICAgICAgICAgICAgICAgY2hhdF90eXBlID0gIvCfk6Ig0JrQsNC90LDQuyIgaWYgZ2V0YXR0cihjaGF0LCAnYnJvYWRjYXN0JywgRmFsc2UpIGVsc2UgIvCfkaUg0JPRgNGD0L/Qv9CwIgoKICAgICAgICAgICAgICAgICAgICBzZWFyY2hfcmVzdWx0X2JveCA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIHtpOjJkfS4ge2NoYXRfdHlwZX0ge3RpdGxlOjw0MH0gfCBJRDoge2NoYXQuaWR9CuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogICAgICDwn5KsIHt1c2VybmFtZTo8NDB9IHwg8J+RpCB7Z2V0YXR0cihjaGF0LCAncGFydGljaXBhbnRzX2NvdW50JywgJ1Vua25vd24nKX0K4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBwcmludChzZWFyY2hfcmVzdWx0X2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0L/QvtC40YHQutCwOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGNvbnRhY3RzX21lbnUoc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgIGNvbnRhY3RzX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAg8J+TniDQo9Cf0KDQkNCS0JvQldCd0JjQlSDQmtCe0J3QotCQ0JrQotCQ0JzQmCAgICAgICB8ICDQndC1INGA0LDQsdC+0YLQsNC10YIsINCyINC90L7QstGL0YUg0LLQtdGA0YHQuNGP0YUg0L/QvtGH0LjQvdGOICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChjb250YWN0c19oZWFkZXIpCgogICAgICAgICAgICBjb250YWN0c19tZW51X2l0ZW1zID0gZiIiIgp7Q29sb3JzLkNZQU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgMS4g8J+TiyDQn9C+0LrQsNC30LDRgtGMINCy0YHQtSDQutC+0L3RgtCw0LrRgtGLeycnOjw1N30gIAogIDIuIPCflI0g0J3QsNC50YLQuCDQutC+0L3RgtCw0LrRgnsnJzo8NjV9ICAKICAzLiDinpUg0JTQvtCx0LDQstC40YLRjCDQutC+0L3RgtCw0LrRgnsnJzo8NjN9ICAKICA0LiDinYwg0KPQtNCw0LvQuNGC0Ywg0LrQvtC90YLQsNC60YJ7Jyc6PDYzfSAgCiAgNS4g8J+TiiDQodGC0LDRgtC40YHRgtC40LrQsCDQutC+0L3RgtCw0LrRgtC+0LJ7Jyc6PDU4fSAgCiAgNi4g8J+TpCDQrdC60YHQv9C+0YDRgiDQutC+0L3RgtCw0LrRgtC+0LJ7Jyc6PDYxfSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoY29udGFjdHNfbWVudV9pdGVtcykKCiAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5zaG93X2FsbF9jb250YWN0cygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIyIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZmluZF9jb250YWN0KCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjMiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5hZGRfY29udGFjdCgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI0IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZGVsZXRlX2NvbnRhY3QoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmNvbnRhY3RzX3N0YXRzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjYiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5leHBvcnRfY29udGFjdHMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICBicmVhawoKICAgIGFzeW5jIGRlZiBzaG93X2FsbF9jb250YWN0cyhzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNvbnRhY3RzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfY29udGFjdHMoKQoKICAgICAgICAgICAgaWYgbm90IGNvbnRhY3RzOgogICAgICAgICAgICAgICAgbm9fY29udGFjdHNfYm94ID0gZiIiIgp7Q29sb3JzLllFTExPV33ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk60g0JrQvtC90YLQsNC60YLRiyDQvdC1INC90LDQudC00LXQvdGLICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KG5vX2NvbnRhY3RzX2JveCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGNvbnRhY3RzX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiyDQktCh0JUg0JrQntCd0KLQkNCa0KLQqyAoe2xlbihjb250YWN0cyl9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChjb250YWN0c19oZWFkZXIpCgogICAgICAgICAgICAgICAgZm9yIGksIGNvbnRhY3QgaW4gZW51bWVyYXRlKGNvbnRhY3RzLCAxKToKICAgICAgICAgICAgICAgICAgICBuYW1lID0gZiJ7Y29udGFjdC5maXJzdF9uYW1lIG9yICcnfSB7Y29udGFjdC5sYXN0X25hbWUgb3IgJyd9Ii5zdHJpcCgpCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBmIkB7Y29udGFjdC51c2VybmFtZX0iIGlmIGNvbnRhY3QudXNlcm5hbWUgZWxzZSAi0L3QtdGCIHVzZXJuYW1lIgogICAgICAgICAgICAgICAgICAgIHBob25lID0gY29udGFjdC5waG9uZSBvciAi0L3QtdGCINGC0LXQu9C10YTQvtC90LAiCgogICAgICAgICAgICAgICAgICAgIGNvbnRhY3RfYm94ID0gZiIiIgp7Q29sb3JzLkNZQU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAge2k6M2R9LiDwn5GkIHtuYW1lWzo0MF06PDQwfSB8IPCfhpQge2NvbnRhY3QuaWR9CuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogICAgICAg8J+TniB7cGhvbmU6PDMwfSB8IPCfkqwge3VzZXJuYW1lOjwzMH0K4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBwcmludChjb250YWN0X2JveCkKCiAgICAgICAgICAgICAgICAgICAgaWYgaSAlIDEwID09IDA6CiAgICAgICAgICAgICAgICAgICAgICAgIG1vcmUgPSBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCf0L7QutCw0LfQsNGC0Ywg0LXRidC1PyAoRW50ZXIvbik6IHtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgICAgICAgICAgaWYgbW9yZS5sb3dlcigpID09ICduJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgZXJyb3JfYm94ID0gZiIiIgp7Q29sb3JzLlJFRH3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinYwg0J7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQutC+0L3RgtCw0LrRgtC+0LIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIHtzdHIoZSlbOjkwXTo8OTB9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGVycm9yX2JveCkKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgZmluZF9jb250YWN0KHNlbGYpOgogICAgICAgIHNlYXJjaF9xdWVyeSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCflI0g0J/QvtC40YHQuiDQv9C+INC40LzQtdC90LgvdXNlcm5hbWU6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBzZWFyY2hfcXVlcnk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNvbnRhY3RzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfY29udGFjdHMoKQogICAgICAgICAgICBmb3VuZF9jb250YWN0cyA9IFtdCgogICAgICAgICAgICBmb3IgY29udGFjdCBpbiBjb250YWN0czoKICAgICAgICAgICAgICAgIG5hbWUgPSBmIntjb250YWN0LmZpcnN0X25hbWUgb3IgJyd9IHtjb250YWN0Lmxhc3RfbmFtZSBvciAnJ30iLnN0cmlwKCkKICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gY29udGFjdC51c2VybmFtZSBvciAiIgoKICAgICAgICAgICAgICAgIGlmIChzZWFyY2hfcXVlcnkubG93ZXIoKSBpbiBuYW1lLmxvd2VyKCkgb3IKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoX3F1ZXJ5Lmxvd2VyKCkgaW4gdXNlcm5hbWUubG93ZXIoKSk6CiAgICAgICAgICAgICAgICAgICAgZm91bmRfY29udGFjdHMuYXBwZW5kKGNvbnRhY3QpCgogICAgICAgICAgICBpZiBub3QgZm91bmRfY29udGFjdHM6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XfeKdjCDQmtC+0L3RgtCw0LrRgtGLINC90LUg0L3QsNC50LTQtdC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCd0LDQudC00LXQvdC+IHtsZW4oZm91bmRfY29udGFjdHMpfSDQutC+0L3RgtCw0LrRgtC+0LI6e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgZm9yIGNvbnRhY3QgaW4gZm91bmRfY29udGFjdHM6CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGYie2NvbnRhY3QuZmlyc3RfbmFtZSBvciAnJ30ge2NvbnRhY3QubGFzdF9uYW1lIG9yICcnfSIuc3RyaXAoKQogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gZiJAe2NvbnRhY3QudXNlcm5hbWV9IiBpZiBjb250YWN0LnVzZXJuYW1lIGVsc2UgItC90LXRgiIKICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuQ1lBTn3wn5GkIHtuYW1lfSB8IHt1c2VybmFtZX0gfCBJRDoge2NvbnRhY3QuaWR9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9C+0LjRgdC60LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYWRkX2NvbnRhY3Qoc2VsZik6CiAgICAgICAgcGhvbmUgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OeINCd0L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCAoKzcuLi4pOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgcGhvbmU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNvbnRhY3QgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50KGZ1bmN0aW9ucy5jb250YWN0cy5JbXBvcnRDb250YWN0c1JlcXVlc3QoCiAgICAgICAgICAgICAgICBjb250YWN0cz1bZnVuY3Rpb25zLnR5cGVzLklucHV0UGhvbmVDb250YWN0KAogICAgICAgICAgICAgICAgICAgIGNsaWVudF9pZD0wLAogICAgICAgICAgICAgICAgICAgIHBob25lPXBob25lLAogICAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWU9ItCd0L7QstGL0Lkg0LrQvtC90YLQsNC60YIiLAogICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZT0iIgogICAgICAgICAgICAgICAgKV0KICAgICAgICAgICAgKSkKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQmtC+0L3RgtCw0LrRgiDQtNC+0LHQsNCy0LvQtdC9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC00L7QsdCw0LLQu9C10L3QuNGPOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGRlbGV0ZV9jb250YWN0KHNlbGYpOgogICAgICAgIGNvbnRhY3RfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5eR77iPIFVzZXJuYW1lL0lEINC00LvRjyDRg9C00LDQu9C10L3QuNGPOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgY29udGFjdF9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGNvbmZpcm0gPSBpbnB1dChmIntDb2xvcnMuUkVEfeKaoO+4jyDQn9C+0LTRgtCy0LXRgNC00LjRgtC1INGD0LTQsNC70LXQvdC40LUgKHkvTik6IHtDb2xvcnMuUkVTRVR9IikubG93ZXIoKQogICAgICAgIGlmIGNvbmZpcm0gbm90IGluIFsneScsICd5ZXMnXToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgZW50aXR5ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZW50aXR5KGNvbnRhY3RfaW5wdXQpCiAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQoZnVuY3Rpb25zLmNvbnRhY3RzLkRlbGV0ZUNvbnRhY3RzUmVxdWVzdCgKICAgICAgICAgICAgICAgIGlkPVtlbnRpdHldCiAgICAgICAgICAgICkpCiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0JrQvtC90YLQsNC60YIg0YPQtNCw0LvQtdC9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y86IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgY29udGFjdHNfc3RhdHMoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjb250YWN0cyA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2NvbnRhY3RzKCkKCiAgICAgICAgICAgIHdpdGhfdXNlcm5hbWUgPSBzdW0oMSBmb3IgYyBpbiBjb250YWN0cyBpZiBjLnVzZXJuYW1lKQogICAgICAgICAgICB3aXRoX3Bob25lID0gc3VtKDEgZm9yIGMgaW4gY29udGFjdHMgaWYgYy5waG9uZSkKICAgICAgICAgICAgYm90cyA9IHN1bSgxIGZvciBjIGluIGNvbnRhY3RzIGlmIGMuYm90KQoKICAgICAgICAgICAgc3RhdHNfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4og0KHQotCQ0KLQmNCh0KLQmNCa0JAg0JrQntCd0KLQkNCa0KLQntCSICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQktGB0LXQs9C+INC60L7QvdGC0LDQutGC0L7QsjogICAge2xlbihjb250YWN0cyk6PDY2fSAgCiAg0KEgdXNlcm5hbWU6ICAgICAgICAge3dpdGhfdXNlcm5hbWU6PDY2fSAgCiAg0KEg0YLQtdC70LXRhNC+0L3QvtC8OiAgICAgICAge3dpdGhfcGhvbmU6PDY2fSAgCiAg0JHQvtGC0L7QsjogICAgICAgICAgICAgIHtib3RzOjw2Nn0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc3RhdHNfYm94KQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHRgtCw0YLQuNGB0YLQuNC60Lg6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgZXhwb3J0X2NvbnRhY3RzKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgY29udGFjdHMgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9jb250YWN0cygpCgogICAgICAgICAgICBpZiBub3QgY29udGFjdHM6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XfeKdjCDQndC10YIg0LrQvtC90YLQsNC60YLQvtCyINC00LvRjyDRjdC60YHQv9C+0YDRgtCwe0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKICAgICAgICAgICAgaW1wb3J0IGpzb24KCiAgICAgICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgICAgICAgICAgZmlsZW5hbWUgPSBmImNvbnRhY3RzX2V4cG9ydF97dGltZXN0YW1wfS5qc29uIgoKICAgICAgICAgICAgY29udGFjdHNfZGF0YSA9IFtdCiAgICAgICAgICAgIGZvciBjb250YWN0IGluIGNvbnRhY3RzOgogICAgICAgICAgICAgICAgY29udGFjdHNfZGF0YS5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJpZCI6IGNvbnRhY3QuaWQsCiAgICAgICAgICAgICAgICAgICAgImZpcnN0X25hbWUiOiBjb250YWN0LmZpcnN0X25hbWUsCiAgICAgICAgICAgICAgICAgICAgImxhc3RfbmFtZSI6IGNvbnRhY3QubGFzdF9uYW1lLAogICAgICAgICAgICAgICAgICAgICJ1c2VybmFtZSI6IGNvbnRhY3QudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgInBob25lIjogY29udGFjdC5waG9uZSwKICAgICAgICAgICAgICAgICAgICAiaXNfYm90IjogY29udGFjdC5ib3QsCiAgICAgICAgICAgICAgICAgICAgImlzX2NvbnRhY3QiOiBjb250YWN0LmNvbnRhY3QKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICB3aXRoIG9wZW4oZmlsZW5hbWUsICd3JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgICAgIGpzb24uZHVtcCh7CiAgICAgICAgICAgICAgICAgICAgImV4cG9ydF9kYXRlIjogZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVZLSVtLSVkICVIOiVNOiVTIiksCiAgICAgICAgICAgICAgICAgICAgInRvdGFsX2NvbnRhY3RzIjogbGVuKGNvbnRhY3RzX2RhdGEpLAogICAgICAgICAgICAgICAgICAgICJjb250YWN0cyI6IGNvbnRhY3RzX2RhdGEKICAgICAgICAgICAgICAgIH0sIGYsIGVuc3VyZV9hc2NpaT1GYWxzZSwgaW5kZW50PTIpCgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCa0L7QvdGC0LDQutGC0Ysg0Y3QutGB0L/QvtGA0YLQuNGA0L7QstCw0L3RiyDQsiB7ZmlsZW5hbWV9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDRjdC60YHQv9C+0YDRgtCwOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIG1lZGlhX21lbnUoc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgIG1lZGlhX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5NQUdFTlRBfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfjqwg0JzQldCU0JjQkCDQmCDQpNCQ0JnQm9CrICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQobWVkaWFfaGVhZGVyKQoKICAgICAgICAgICAgbWVkaWFfbWVudV9pdGVtcyA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIDEuIPCfk6Qg0J7RgtC/0YDQsNCy0LjRgtGMINGE0LDQudC7eycnOjw2NH0gIAogIDIuIPCflrzvuI8gINCe0YLQv9GA0LDQstC40YLRjCDQuNC30L7QsdGA0LDQttC10L3QuNC1eycnOjw1OH0gIAogIDMuIPCfk6Ug0KHQutCw0YfQsNGC0Ywg0LzQtdC00LjQsCDQuNC3INGH0LDRgtCweycnOjw1Nn0gIAogIDQuIPCfjrUg0J7RgtC/0YDQsNCy0LjRgtGMINCw0YPQtNC40L57Jyc6PDYzfSAgCiAgNS4g8J+OpSDQntGC0L/RgNCw0LLQuNGC0Ywg0LLQuNC00LXQvnsnJzo8NjN9ICAKICA2LiDwn5OLINCQ0L3QsNC70LjQtyDQvNC10LTQuNCwINCyINGH0LDRgtC1eycnOjw1OH0gIAogIDcuIPCfl4LvuI8gINCc0LDRgdGB0L7QstCw0Y8g0LfQsNCz0YDRg9C30LrQsCDRhNCw0LnQu9C+0LJ7Jyc6PDUzfSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQobWVkaWFfbWVudV9pdGVtcykKCiAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5zZW5kX2ZpbGUoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnNlbmRfaW1hZ2UoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmRvd25sb2FkX21lZGlhKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5zZW5kX2F1ZGlvKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjUiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5zZW5kX3ZpZGVvKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjYiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5hbmFseXplX21lZGlhKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjciOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5idWxrX3VwbG9hZCgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIwIjoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgYXN5bmMgZGVmIHNlbmRfZmlsZShzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBmaWxlX3BhdGggPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OBINCf0YPRgtGMINC6INGE0LDQudC70YM6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBmaWxlX3BhdGggb3Igbm90IG9zLnBhdGguZXhpc3RzKGZpbGVfcGF0aCk6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCk0LDQudC7INC90LUg0L3QsNC50LTQtdC9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkqwg0KfQsNGCINC00LvRjyDQvtGC0L/RgNCw0LLQutC4OiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBpZiBub3QgY2hhdF9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGNhcHRpb24gPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OdINCf0L7QtNC/0LjRgdGMICjQvtC/0YbQuNC+0L3QsNC70YzQvdC+KToge0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVudGl0eSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShjaGF0X2lucHV0KQoKICAgICAgICAgICAgZmlsZV9zaXplID0gb3MucGF0aC5nZXRzaXplKGZpbGVfcGF0aCkgLyAxMDI0IC8gMTAyNAoKICAgICAgICAgICAgcHJvZ3Jlc3NfYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TpCDQntGC0L/RgNCw0LLQu9GP0LXRgtGB0Y8g0YTQsNC50LsgKHtmaWxlX3NpemU6LjFmfSBNQikuLi4gICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZ3Jlc3NfYm94KQoKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5zZW5kX2ZpbGUoCiAgICAgICAgICAgICAgICBlbnRpdHksCiAgICAgICAgICAgICAgICBmaWxlX3BhdGgsCiAgICAgICAgICAgICAgICBjYXB0aW9uPWNhcHRpb24gaWYgY2FwdGlvbiBlbHNlIE5vbmUKICAgICAgICAgICAgKQoKICAgICAgICAgICAgc3VjY2Vzc19ib3ggPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0KTQkNCZ0Jsg0J7QotCf0KDQkNCS0JvQldCdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0KTQsNC50Ls6ICAgIHtvcy5wYXRoLmJhc2VuYW1lKGZpbGVfcGF0aClbOjcwXTo8NzZ9ICAKICDQoNCw0LfQvNC10YA6ICB7ZmlsZV9zaXplOi4xZn0gTUJ7Jyc6PDc4fSAgCiAg0KfQsNGCOiAgICAge2dldGF0dHIoZW50aXR5LCAndGl0bGUnLCBnZXRhdHRyKGVudGl0eSwgJ2ZpcnN0X25hbWUnLCAnVW5rbm93bicpKVs6NzBdOjw3Nn0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc3VjY2Vzc19ib3gpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC+0YLQv9GA0LDQstC60Lgg0YTQsNC50LvQsDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBzZW5kX2ltYWdlKHNlbGYpOgogICAgICAgIGF3YWl0IHNlbGYuc2VuZF9maWxlKCkKCiAgICBhc3luYyBkZWYgc2VuZF9hdWRpbyhzZWxmKToKICAgICAgICBhd2FpdCBzZWxmLnNlbmRfZmlsZSgpCgogICAgYXN5bmMgZGVmIHNlbmRfdmlkZW8oc2VsZik6CiAgICAgICAgYXdhaXQgc2VsZi5zZW5kX2ZpbGUoKQoKICAgIGFzeW5jIGRlZiBkb3dubG9hZF9tZWRpYShzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBjaGF0X2lucHV0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+SrCDQp9Cw0YIg0LTQu9GPINGB0LrQsNGH0LjQstCw0L3QuNGPINC80LXQtNC40LA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBjaGF0X2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbGltaXQgPSBpbnQoCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4og0JrQvtC70LjRh9C10YHRgtCy0L4g0YHQvtC+0LHRidC10L3QuNC5INC00LvRjyDQv9GA0L7QstC10YDQutC4ICjQv9C+INGD0LzQvtC70YfQsNC90LjRjiA1MCk6IHtDb2xvcnMuUkVTRVR9Iikgb3IgIjUwIikKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKCiAgICAgICAgICAgIGZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCiAgICAgICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgICAgICAgICAgZG93bmxvYWRfZGlyID0gZiJkb3dubG9hZHNfe3RpbWVzdGFtcH0iCiAgICAgICAgICAgIG9zLm1ha2VkaXJzKGRvd25sb2FkX2RpciwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICAgICAgICAgIHByb2dyZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TpSDQodC60LDRh9C40LLQsNC90LjQtSDQvNC10LTQuNCwINGE0LDQudC70L7Qsi4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChwcm9ncmVzc19ib3gpCgogICAgICAgICAgICBkb3dubG9hZGVkX2NvdW50ID0gMAogICAgICAgICAgICBhc3luYyBmb3IgbWVzc2FnZSBpbiBzZWxmLm1hbmFnZXIuY2xpZW50Lml0ZXJfbWVzc2FnZXMoZW50aXR5LCBsaW1pdD1saW1pdCk6CiAgICAgICAgICAgICAgICBpZiBtZXNzYWdlLm1lZGlhOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFfdHlwZSA9ICJmaWxlIgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKG1lc3NhZ2UubWVkaWEsICdwaG90bycpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFfdHlwZSA9ICJwaG90byIKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBoYXNhdHRyKG1lc3NhZ2UubWVkaWEsICdkb2N1bWVudCcpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbWVzc2FnZS5tZWRpYS5kb2N1bWVudC5taW1lX3R5cGUuc3RhcnRzd2l0aCgndmlkZW8vJyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFfdHlwZSA9ICJ2aWRlbyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgbWVzc2FnZS5tZWRpYS5kb2N1bWVudC5taW1lX3R5cGUuc3RhcnRzd2l0aCgnYXVkaW8vJyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFfdHlwZSA9ICJhdWRpbyIKCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfcGF0aCA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZG93bmxvYWRfbWVkaWEoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lZGlhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZT1vcy5wYXRoLmpvaW4oZG93bmxvYWRfZGlyLCBmInttZWRpYV90eXBlfV97bWVzc2FnZS5pZH0iKQogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBmaWxlX3BhdGg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZGVkX2NvdW50ICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0KHQutCw0YfQsNC90L46IHtvcy5wYXRoLmJhc2VuYW1lKGZpbGVfcGF0aCl9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDRgdC60LDRh9C40LLQsNC90LjRjzoge3N0cihlKVs6NTBdfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgICAgIGZpbmFsX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKchSDQodCa0JDQp9CY0JLQkNCd0JjQlSDQl9CQ0JLQldCg0KjQldCd0J4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQodC60LDRh9Cw0L3QviDRhNCw0LnQu9C+0LI6IHtkb3dubG9hZGVkX2NvdW50Ojw2Nn0gIAogINCf0LDQv9C60LA6ICAgICAgICAgIHtkb3dubG9hZF9kaXI6PDY2fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChmaW5hbF9ib3gpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINGB0LrQsNGH0LjQstCw0L3QuNGPINC80LXQtNC40LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYW5hbHl6ZV9tZWRpYShzZWxmKToKICAgICAgICBjaGF0X2lucHV0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+SrCDQp9Cw0YIg0LTQu9GPINCw0L3QsNC70LjQt9CwINC80LXQtNC40LA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBjaGF0X2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbGltaXQgPSBpbnQoCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4og0JrQvtC70LjRh9C10YHRgtCy0L4g0YHQvtC+0LHRidC10L3QuNC5INC00LvRjyDQsNC90LDQu9C40LfQsCAo0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4gMjAwKToge0NvbG9ycy5SRVNFVH0iKSBvciAiMjAwIikKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKCiAgICAgICAgICAgIG1lZGlhX3N0YXRzID0gewogICAgICAgICAgICAgICAgJ3Bob3Rvcyc6IDAsCiAgICAgICAgICAgICAgICAndmlkZW9zJzogMCwKICAgICAgICAgICAgICAgICdhdWRpbyc6IDAsCiAgICAgICAgICAgICAgICAnZG9jdW1lbnRzJzogMCwKICAgICAgICAgICAgICAgICdzdGlja2Vycyc6IDAsCiAgICAgICAgICAgICAgICAnZ2lmcyc6IDAsCiAgICAgICAgICAgICAgICAndG90YWxfc2l6ZSc6IDAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHJvZ3Jlc3NfYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OKINCQ0L3QsNC70LjQtyDQvNC10LTQuNCwINGE0LDQudC70L7Qsi4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZ3Jlc3NfYm94KQoKICAgICAgICAgICAgYXN5bmMgZm9yIG1lc3NhZ2UgaW4gc2VsZi5tYW5hZ2VyLmNsaWVudC5pdGVyX21lc3NhZ2VzKGVudGl0eSwgbGltaXQ9bGltaXQpOgogICAgICAgICAgICAgICAgaWYgbWVzc2FnZS5tZWRpYToKICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKG1lc3NhZ2UubWVkaWEsICdwaG90bycpOgogICAgICAgICAgICAgICAgICAgICAgICBtZWRpYV9zdGF0c1sncGhvdG9zJ10gKz0gMQogICAgICAgICAgICAgICAgICAgIGVsaWYgaGFzYXR0cihtZXNzYWdlLm1lZGlhLCAnZG9jdW1lbnQnKToKICAgICAgICAgICAgICAgICAgICAgICAgZG9jID0gbWVzc2FnZS5tZWRpYS5kb2N1bWVudAogICAgICAgICAgICAgICAgICAgICAgICBpZiBkb2MubWltZV90eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3ZpZGVvJyBpbiBkb2MubWltZV90eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhX3N0YXRzWyd2aWRlb3MnXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdhdWRpbycgaW4gZG9jLm1pbWVfdHlwZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYV9zdGF0c1snYXVkaW8nXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdnaWYnIGluIGRvYy5taW1lX3R5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFfc3RhdHNbJ2dpZnMnXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhX3N0YXRzWydkb2N1bWVudHMnXSArPSAxCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKGRvYywgJ3NpemUnKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhX3N0YXRzWyd0b3RhbF9zaXplJ10gKz0gZG9jLnNpemUKCiAgICAgICAgICAgICAgICAgICAgZWxpZiBoYXNhdHRyKG1lc3NhZ2UubWVkaWEsICdzdGlja2VyJyk6CiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhX3N0YXRzWydzdGlja2VycyddICs9IDEKCiAgICAgICAgICAgIHRvdGFsX3NpemVfbWIgPSBtZWRpYV9zdGF0c1sndG90YWxfc2l6ZSddIC8gMTAyNCAvIDEwMjQKCiAgICAgICAgICAgIGFuYWx5c2lzX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiiDQkNCd0JDQm9CY0Jcg0JzQldCU0JjQkDoge2VudGl0eS50aXRsZVs6MzBdIGlmIGhhc2F0dHIoZW50aXR5LCAndGl0bGUnKSBlbHNlICfQp9Cw0YInOjwzMH0gICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDwn5a877iPICDQpNC+0YLQvtCz0YDQsNGE0LjQuDogICAge21lZGlhX3N0YXRzWydwaG90b3MnXTo8Njd9ICAKICDwn46lINCS0LjQtNC10L46ICAgICAgICAgIHttZWRpYV9zdGF0c1sndmlkZW9zJ106PDY3fSAgCiAg8J+OtSDQkNGD0LTQuNC+OiAgICAgICAgICB7bWVkaWFfc3RhdHNbJ2F1ZGlvJ106PDY3fSAgCiAg8J+ThCDQlNC+0LrRg9C80LXQvdGC0Ys6ICAgICAge21lZGlhX3N0YXRzWydkb2N1bWVudHMnXTo8Njd9ICAKICDwn5iKINCh0YLQuNC60LXRgNGLOiAgICAgICAge21lZGlhX3N0YXRzWydzdGlja2VycyddOjw2N30gIAogIPCfjqwgR0lGOiAgICAgICAgICAgIHttZWRpYV9zdGF0c1snZ2lmcyddOjw2N30gIAogIPCfk4og0J7QsdGJ0LjQuSDRgNCw0LfQvNC10YA6ICAge3RvdGFsX3NpemVfbWI6LjFmfSBNQnsnJzo8NTl9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGFuYWx5c2lzX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LDQvdCw0LvQuNC30LAg0LzQtdC00LjQsDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBidWxrX3VwbG9hZChzZWxmKToKICAgICAgICBmb2xkZXJfcGF0aCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4Eg0J/Rg9GC0Ywg0Log0L/QsNC/0LrQtSDRgSDRhNCw0LnQu9Cw0LzQuDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGZvbGRlcl9wYXRoIG9yIG5vdCBvcy5wYXRoLmV4aXN0cyhmb2xkZXJfcGF0aCk6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCf0LDQv9C60LAg0L3QtSDQvdCw0LnQtNC10L3QsHtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGNoYXRfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5KsINCn0LDRgiDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGNoYXRfaW5wdXQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVudGl0eSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2VudGl0eShjaGF0X2lucHV0KQoKICAgICAgICAgICAgZmlsZXMgPSBbXQogICAgICAgICAgICBmb3Igcm9vdCwgZGlycywgZmlsZW5hbWVzIGluIG9zLndhbGsoZm9sZGVyX3BhdGgpOgogICAgICAgICAgICAgICAgZm9yIGZpbGVuYW1lIGluIGZpbGVuYW1lczoKICAgICAgICAgICAgICAgICAgICBmaWxlX3BhdGggPSBvcy5wYXRoLmpvaW4ocm9vdCwgZmlsZW5hbWUpCiAgICAgICAgICAgICAgICAgICAgZmlsZXMuYXBwZW5kKGZpbGVfcGF0aCkKCiAgICAgICAgICAgIGlmIG5vdCBmaWxlczoKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5ZRUxMT1d94p2MINCk0LDQudC70Ysg0L3QtSDQvdCw0LnQtNC10L3RiyDQsiDQv9Cw0L/QutC1e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgZGVsYXkgPSBmbG9hdChpbnB1dChmIntDb2xvcnMuQ1lBTn3ij7Ag0JfQsNC00LXRgNC20LrQsCDQvNC10LbQtNGDINC+0YLQv9GA0LDQstC60LDQvNC4ICjRgdC10LopOiB7Q29sb3JzLlJFU0VUfSIpIG9yICIyIikKCiAgICAgICAgICAgIHByb2dyZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+Xgu+4jyDQl9Cw0LPRgNGD0LbQsNC10YLRgdGPIHtsZW4oZmlsZXMpfSDRhNCw0LnQu9C+0LIuLi4gICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZ3Jlc3NfYm94KQoKICAgICAgICAgICAgc3VjY2Vzc19jb3VudCA9IDAKICAgICAgICAgICAgZm9yIGksIGZpbGVfcGF0aCBpbiBlbnVtZXJhdGUoZmlsZXMsIDEpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuc2VuZF9maWxlKGVudGl0eSwgZmlsZV9wYXRoKQogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gb3MucGF0aC5iYXNlbmFtZShmaWxlX3BhdGgpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSB7aX0ve2xlbihmaWxlcyl9INCe0YLQv9GA0LDQstC70LXQvToge2ZpbGVuYW1lWzo0MF19e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NfY291bnQgKz0gMQoKICAgICAgICAgICAgICAgICAgICBpZiBpIDwgbGVuKGZpbGVzKToKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXN5bmNpby5zbGVlcChkZWxheSkKCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBvcy5wYXRoLmJhc2VuYW1lKGZpbGVfcGF0aCkKICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCB7aX0ve2xlbihmaWxlcyl9INCe0YjQuNCx0LrQsCB7ZmlsZW5hbWV9OiB7c3RyKGUpWzozMF19e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgZmluYWxfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0JzQkNCh0KHQntCS0JDQryDQl9CQ0JPQoNCj0JfQmtCQINCX0JDQktCV0KDQqNCV0J3QkCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCj0YHQv9C10YjQvdC+INC+0YLQv9GA0LDQstC70LXQvdC+OiB7c3VjY2Vzc19jb3VudH0ve2xlbihmaWxlcyk6PDYwfSAgCiAg0J3QtdGD0LTQsNGH0L3QvjogICAgICAgICAgIHtsZW4oZmlsZXMpIC0gc3VjY2Vzc19jb3VudH0ve2xlbihmaWxlcyk6PDYwfSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChmaW5hbF9ib3gpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC80LDRgdGB0L7QstC+0Lkg0LfQsNCz0YDRg9C30LrQuDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBhdXRvbWF0aW9uX21lbnUoc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgIGF1dG9tYXRpb25faGVhZGVyID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn6SWINCQ0JLQotCe0JzQkNCi0JjQl9CQ0KbQmNCvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoYXV0b21hdGlvbl9oZWFkZXIpCgogICAgICAgICAgICBhdXRvbWF0aW9uX21lbnVfaXRlbXMgPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAxLiDwn5SEINCQ0LLRgtC+0L7RgtCy0LXRgtGH0LjQunsnJzo8Njd9ICAKICAyLiDij7Ag0J7RgtC70L7QttC10L3QvdGL0LUg0YHQvtC+0LHRidC10L3QuNGPeycnOjw1N30gIAogIDMuIPCfk7Eg0JDQstGC0L7Qv9GA0LjQs9C70LDRiNC10L3QuNC1INCyINCz0YDRg9C/0L/Ri3snJzo8NTJ9ICAKICA0LiDwn5SBINCQ0LLRgtC+0L/QtdGA0LXRgdGL0LvQutCwINGB0L7QvtCx0YnQtdC90LjQuXsnJzo8NTR9ICAKICA1LiDinIUg0JDQstGC0L7Qv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtSDQt9Cw0Y/QstC+0Lp7Jyc6PDUzfSAgCiAgNi4g8J+OryDQpNC40LvRjNGC0YDRiyDRgdC+0L7QsdGJ0LXQvdC40Ll7Jyc6PDYwfSAgCiAgNy4g8J+TiiDQodGC0LDRgtC40YHRgtC40LrQsCDQsNCy0YLQvtC80LDRgtC40LfQsNGG0LjQuHsnJzo8NTJ9ICAKICAwLiDirIXvuI8gINCd0LDQt9Cw0LR7Jyc6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChhdXRvbWF0aW9uX21lbnVfaXRlbXMpCgogICAgICAgICAgICBjaG9pY2UgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn46vINCS0YvQsdC+0YA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuYXV0b19yZXNwb25kZXIoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnNjaGVkdWxlZF9tZXNzYWdlcygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIzIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuYXV0b19pbnZpdGUoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNCI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmF1dG9fZm9yd2FyZCgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI1IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuYXV0b19hcHByb3ZlKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjYiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tZXNzYWdlX2ZpbHRlcnMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNyI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmF1dG9tYXRpb25fc3RhdHMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICBicmVhawoKICAgIGFzeW5jIGRlZiBhdXRvX3Jlc3BvbmRlcihzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICByZXNwb25kZXJfaGVhZGVyID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UhCDQkNCS0KLQntCe0KLQktCV0KLQp9CY0JogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChyZXNwb25kZXJfaGVhZGVyKQoKICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XfeKame+4jyDQndCw0YHRgtGA0L7QudC60LAg0LDQstGC0L7QvtGC0LLQtdGC0YfQuNC60LA6e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICB0cmlnZ2VyID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+UjSDQmtC70Y7Rh9C10LLQvtC1INGB0LvQvtCy0L4g0LTQu9GPINGB0YDQsNCx0LDRgtGL0LLQsNC90LjRjzoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IHRyaWdnZXI6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICByZXNwb25zZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkqwg0J7RgtCy0LXRgtC90L7QtSDRgdC+0L7QsdGJ0LXQvdC40LU6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCByZXNwb25zZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGRlbGF5ID0gaW50KGlucHV0KGYie0NvbG9ycy5DWUFOfeKPsCDQl9Cw0LTQtdGA0LbQutCwINC/0LXRgNC10LQg0L7RgtCy0LXRgtC+0LwgKNGB0LXQuiwg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4gMik6IHtDb2xvcnMuUkVTRVR9Iikgb3IgIjIiKQoKICAgICAgICBhdXRvcmVzcG9uZGVyX2RhdGEgPSB7CiAgICAgICAgICAgICJ0cmlnZ2VyIjogdHJpZ2dlci5sb3dlcigpLAogICAgICAgICAgICAicmVzcG9uc2UiOiByZXNwb25zZSwKICAgICAgICAgICAgImRlbGF5IjogZGVsYXksCiAgICAgICAgICAgICJlbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgImNyZWF0ZWQiOiBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKQogICAgICAgIH0KCiAgICAgICAgY29uZmlnX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0JDQktCi0J7QntCi0JLQldCi0KfQmNCaINCd0JDQodCi0KDQntCV0J0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCi0YDQuNCz0LPQtdGAOiAgIHt0cmlnZ2VyOjw3Nn0gIAogINCe0YLQstC10YI6ICAgICB7cmVzcG9uc2VbOjcwXTo8NzZ9ICAKICDQl9Cw0LTQtdGA0LbQutCwOiAge2RlbGF5fSDRgdC10Lp7Jyc6PDc2fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoY29uZmlnX2JveCkKCiAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5KhINCQ0LLRgtC+0L7RgtCy0LXRgtGH0LjQuiDQsdGD0LTQtdGCINGA0LDQsdC+0YLQsNGC0Ywg0L/QvtC60LAg0L/RgNC+0LPRgNCw0LzQvNCwINC30LDQv9GD0YnQtdC90LB7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5KhINCU0LvRjyDQv9C+0LvQvdC+0YbQtdC90L3QvtC5INGA0LDQsdC+0YLRiyDRgtGA0LXQsdGD0LXRgtGB0Y8g0L/QvtGB0YLQvtGP0L3QvdGL0Lkg0LzQvtC90LjRgtC+0YDQuNC90LN7Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHNjaGVkdWxlZF9tZXNzYWdlcyhzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICBzY2hlZHVsZV9oZWFkZXIgPSBmIiIiCntDb2xvcnMuTUFHRU5UQX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+wINCe0KLQm9Ce0JbQldCd0J3Qq9CVINCh0J7QntCR0KnQldCd0JjQryAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChzY2hlZHVsZV9oZWFkZXIpCgogICAgICAgIGNoYXRfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5KsINCn0LDRgiDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGNoYXRfaW5wdXQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBtZXNzYWdlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TnSDQotC10LrRgdGCINGB0L7QvtCx0YnQtdC90LjRjzoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IG1lc3NhZ2U6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XfeKPsCDQktGA0LXQvNGPINC+0YLQv9GA0LDQstC60LggKNGE0L7RgNC80LDRgjog0JTQlC7QnNCcLtCT0JPQk9CTINCn0Kc60JzQnCk6e0NvbG9ycy5SRVNFVH0iKQogICAgICAgIHRpbWVfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OFINCS0LLQtdC00LjRgtC1INCy0YDQtdC80Y86IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbmRfdGltZSA9IGRhdGV0aW1lLnN0cnB0aW1lKHRpbWVfaW5wdXQsICIlZC4lbS4lWSAlSDolTSIpCiAgICAgICAgICAgIG5vdyA9IGRhdGV0aW1lLm5vdygpCgogICAgICAgICAgICBpZiBzZW5kX3RpbWUgPD0gbm93OgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0JLRgNC10LzRjyDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0LIg0LHRg9C00YPRidC10Lx7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICBkZWxheV9zZWNvbmRzID0gKHNlbmRfdGltZSAtIG5vdykudG90YWxfc2Vjb25kcygpCgogICAgICAgICAgICBzY2hlZHVsZV9pbmZvID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDij7Ag0KHQntCe0JHQqdCV0J3QmNCVINCX0JDQn9Cb0JDQndCY0KDQntCS0JDQndCeICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQp9Cw0YI6ICAgICB7Y2hhdF9pbnB1dDo8NzZ9ICAKICDQktGA0LXQvNGPOiAgIHtzZW5kX3RpbWUuc3RyZnRpbWUoJyVkLiVtLiVZICVIOiVNJyk6PDc2fSAgCiAg0KfQtdGA0LXQtzogICB7aW50KGRlbGF5X3NlY29uZHMgLyA2MCl9INC80LjQvdGD0YJ7Jyc6PDcyfSAgCiAg0KLQtdC60YHRgjogICB7bWVzc2FnZVs6NzBdOjw3Nn0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc2NoZWR1bGVfaW5mbykKCiAgICAgICAgICAgIGFzeW5jIGRlZiBzZW5kX2RlbGF5ZWQoKToKICAgICAgICAgICAgICAgIGF3YWl0IGFzeW5jaW8uc2xlZXAoZGVsYXlfc2Vjb25kcykKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LnNlbmRfbWVzc2FnZShlbnRpdHksIG1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQntGC0LvQvtC20LXQvdC90L7QtSDRgdC+0L7QsdGJ0LXQvdC40LUg0L7RgtC/0YDQsNCy0LvQtdC90L4he0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4INC+0YLQu9C+0LbQtdC90L3QvtCz0L4g0YHQvtC+0LHRidC10L3QuNGPOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgICAgICBhc3luY2lvLmNyZWF0ZV90YXNrKHNlbmRfZGVsYXllZCgpKQoKICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0LLRgNC10LzQtdC90Lh7Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGF1dG9faW52aXRlKHNlbGYpOgogICAgICAgIHByaW50KGYie0NvbG9ycy5CTFVFffCflKcg0JDQstGC0L7Qv9GA0LjQs9C70LDRiNC10L3QuNC1IC0g0LHQsNC30L7QstCw0Y8g0YDQtdCw0LvQuNC30LDRhtC40Y97Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGdyb3VwX2lucHV0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+RpSBJRC91c2VybmFtZSDQs9GA0YPQv9C/0Ys6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgIGlmIG5vdCBncm91cF9pbnB1dDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHByaW50KGYie0NvbG9ycy5ZRUxMT1d98J+RpCDQlNC+0LHQsNCy0YzRgtC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INC00LvRjyDQsNCy0YLQvtC/0YDQuNCz0LvQsNGI0LXQvdC40Y86e0NvbG9ycy5SRVNFVH0iKQogICAgICAgIHVzZXJzX3RvX2ludml0ZSA9IFtdCgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIHVzZXJfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5GkIFVzZXJuYW1lL0lEICjQv9GD0YHRgtC+INC00LvRjyDQt9Cw0LLQtdGA0YjQtdC90LjRjyk6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQogICAgICAgICAgICBpZiBub3QgdXNlcl9pbnB1dDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHVzZXJzX3RvX2ludml0ZS5hcHBlbmQodXNlcl9pbnB1dCkKCiAgICAgICAgaWYgbm90IHVzZXJzX3RvX2ludml0ZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgZW50aXR5ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZW50aXR5KGdyb3VwX2lucHV0KQoKICAgICAgICAgICAgc3VjY2Vzc19jb3VudCA9IDAKICAgICAgICAgICAgZm9yIHVzZXIgaW4gdXNlcnNfdG9faW52aXRlOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHVzZXJfZW50aXR5ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZW50aXR5KHVzZXIpCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuY2hhbm5lbHMuSW52aXRlVG9DaGFubmVsUmVxdWVzdCgKICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbD1lbnRpdHksCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJzPVt1c2VyX2VudGl0eV0KICAgICAgICAgICAgICAgICAgICApKQogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J/RgNC40LPQu9Cw0YjQtdC9OiB7dXNlcn17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc19jb3VudCArPSAxCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXN5bmNpby5zbGVlcCgyKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9GA0LjQs9C70LDRiNC10L3QuNGPIHt1c2VyfToge3N0cihlKVs6NDBdfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0KPRgdC/0LXRiNC90L4g0L/RgNC40LPQu9Cw0YjQtdC90L46IHtzdWNjZXNzX2NvdW50fS97bGVuKHVzZXJzX3RvX2ludml0ZSl9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQsNCy0YLQvtC/0YDQuNCz0LvQsNGI0LXQvdC40Y86IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYXV0b19mb3J3YXJkKHNlbGYpOgogICAgICAgIHByaW50KGYie0NvbG9ycy5CTFVFffCflKcg0JDQstGC0L7Qv9C10YDQtdGB0YvQu9C60LAgLSDQsdCw0LfQvtCy0LDRjyDQvdCw0YHRgtGA0L7QudC60LB7Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIHNvdXJjZV9jaGF0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TpSDQp9Cw0YIt0LjRgdGC0L7Rh9C90LjQujoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgdGFyZ2V0X2NoYXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5OkINCn0LDRgi3QvdCw0LfQvdCw0YfQtdC90LjQtToge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgIGlmIG5vdCBzb3VyY2VfY2hhdCBvciBub3QgdGFyZ2V0X2NoYXQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBmb3J3YXJkX2NvbmZpZyA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UgSDQkNCS0KLQntCf0JXQoNCV0KHQq9Cb0JrQkCDQndCQ0KHQotCg0J7QldCd0JAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0JjRgdGC0L7Rh9C90LjQujogICAge3NvdXJjZV9jaGF0Ojw3MH0gIAogINCd0LDQt9C90LDRh9C10L3QuNC1OiAge3RhcmdldF9jaGF0Ojw3MH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KGZvcndhcmRfY29uZmlnKQoKICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XffCfkqEg0JTQu9GPINGA0LDQsdC+0YLRiyDQsNCy0YLQvtC/0LXRgNC10YHRi9C70LrQuCDRgtGA0LXQsdGD0LXRgtGB0Y8g0L/QvtGB0YLQvtGP0L3QvdGL0Lkg0LzQvtC90LjRgtC+0YDQuNC90LN7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYXV0b19hcHByb3ZlKHNlbGYpOgogICAgICAgIHByaW50KGYie0NvbG9ycy5CTFVFffCflKcg0JDQstGC0L7Qv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtSDQt9Cw0Y/QstC+0LogLSDQsdCw0LfQvtCy0LDRjyDRgNC10LDQu9C40LfQsNGG0LjRj3tDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgZ3JvdXBfaW5wdXQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5GlIElEL3VzZXJuYW1lINCz0YDRg9C/0L/Rizoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGdyb3VwX2lucHV0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgYXBwcm92ZV9jb25maWcgPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0JDQktCi0J7Qn9Ce0JTQotCS0JXQoNCW0JTQldCd0JjQlSDQndCQ0KHQotCg0J7QldCd0J4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQk9GA0YPQv9C/0LA6IHtncm91cF9pbnB1dDo8Nzd9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChhcHByb3ZlX2NvbmZpZykKCiAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5KhINCR0YPQtNGD0YIg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60Lgg0L7QtNC+0LHRgNGP0YLRjNGB0Y8g0LLRgdC1INC30LDRj9Cy0LrQuCDQvdCwINCy0YHRgtGD0L/Qu9C10L3QuNC1e0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIG1lc3NhZ2VfZmlsdGVycyhzZWxmKToKICAgICAgICBwcmludChmIntDb2xvcnMuQkxVRX3wn5SnINCk0LjQu9GM0YLRgNGLINGB0L7QvtCx0YnQtdC90LjQuSAtINCx0LDQt9C+0LLQsNGPINC90LDRgdGC0YDQvtC50LrQsHtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgZmlsdGVyX3dvcmQgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5SNINCh0LvQvtCy0L4g0LTQu9GPINGE0LjQu9GM0YLRgNCw0YbQuNC4OiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBhY3Rpb24gPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3imqEg0JTQtdC50YHRgtCy0LjQtSAoZGVsZXRlL2lnbm9yZS9mb3J3YXJkKToge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgIGlmIGZpbHRlcl93b3JkIGFuZCBhY3Rpb246CiAgICAgICAgICAgIGZpbHRlcl9jb25maWcgPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+OryDQpNCY0JvQrNCi0KAg0J3QkNCh0KLQoNCe0JXQnSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQpNC40LvRjNGC0YA6ICAge2ZpbHRlcl93b3JkOjw3NX0gIAogINCU0LXQudGB0YLQstC40LU6IHthY3Rpb246PDc1fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChmaWx0ZXJfY29uZmlnKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBhdXRvbWF0aW9uX3N0YXRzKHNlbGYpOgogICAgICAgIHN0YXRzX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiiDQodCi0JDQotCY0KHQotCY0JrQkCDQkNCS0KLQntCc0JDQotCY0JfQkNCm0JjQmCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIPCflIQg0JDQstGC0L7QvtGC0LLQtdGC0YfQuNC6OiAgICAgICAg0J3QsNGB0YLRgNC+0LXQvXsnJzo8NjJ9ICAKICDij7Ag0J7RgtC70L7QttC10L3QvdGL0YUg0YHQvtC+0LHRidC10L3QuNC5OiAweycnOjw2OX0gIAogIPCflIEg0JDQstGC0L7Qv9C10YDQtdGB0YvQu9C60LA6ICAgICAgINCd0LXQsNC60YLQuNCy0L3QsHsnJzo8NjB9ICAKICDinIUg0JDQstGC0L7Qv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtTogICDQndC10LDQutGC0LjQstC90L57Jyc6PDYwfSAgCiAg8J+OryDQkNC60YLQuNCy0L3Ri9GFINGE0LjQu9GM0YLRgNC+0LI6ICAgMHsnJzo8Njl9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChzdGF0c19ib3gpCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYW5hbHl0aWNzX21lbnUoc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgIGFuYWx5dGljc19oZWFkZXIgPSBmIiIiCntDb2xvcnMuWUVMTE9XfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiiDQodCi0JDQotCY0KHQotCY0JrQkCDQmCDQkNCd0JDQm9CY0KLQmNCa0JAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGFuYWx5dGljc19oZWFkZXIpCgogICAgICAgICAgICBhbmFseXRpY3NfbWVudV9pdGVtcyA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIDEuIPCfk4gg0KHRgtCw0YLQuNGB0YLQuNC60LAg0YHQvtC+0LHRidC10L3QuNC5eycnOjw1OH0gIAogIDIuIPCfkaUg0JDQvdCw0LvQuNC3INCw0LrRgtC40LLQvdC+0YHRgtC4INGH0LDRgtC+0LJ7Jyc6PDU0fSAgCiAgMy4g4o+wINCQ0L3QsNC70LjQtyDQstGA0LXQvNC10L3QuCDQsNC60YLQuNCy0L3QvtGB0YLQuHsnJzo8NTF9ICAKICA0LiDwn4+GINCi0L7QvyDRgdCw0LzRi9GFINCw0LrRgtC40LLQvdGL0YUg0YfQsNGC0L7QsnsnJzo8NTJ9ICAKICA1LiDwn5OKINCe0LHRidCw0Y8g0YHRgtCw0YLQuNGB0YLQuNC60LAg0LDQutC60LDRg9C90YLQsHsnJzo8NTF9ICAKICA2LiDwn5KsINCQ0L3QsNC70LjQtyDRgtC40L/QvtCyINGB0L7QvtCx0YnQtdC90LjQuXsnJzo8NTV9ICAKICA3LiDwn5OEINCt0LrRgdC/0L7RgNGCINC+0YLRh9C10YLQsHsnJzo8NjV9ICAKICAwLiDirIXvuI8gINCd0LDQt9Cw0LR7Jyc6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChhbmFseXRpY3NfbWVudV9pdGVtcykKCiAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tZXNzYWdlX3N0YXRpc3RpY3MoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmNoYXRfYWN0aXZpdHlfYW5hbHlzaXMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnRpbWVfYWN0aXZpdHlfYW5hbHlzaXMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNCI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnRvcF9hY3RpdmVfY2hhdHMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmFjY291bnRfc3RhdGlzdGljcygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI2IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYubWVzc2FnZV90eXBlc19hbmFseXNpcygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI3IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZXhwb3J0X2FuYWx5dGljc19yZXBvcnQoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICBicmVhawoKICAgIGFzeW5jIGRlZiBtZXNzYWdlX3N0YXRpc3RpY3Moc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkaWFsb2dzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZGlhbG9ncyhsaW1pdD0xMDApCgogICAgICAgICAgICB0b3RhbF9tZXNzYWdlcyA9IDAKICAgICAgICAgICAgc2VudF9tZXNzYWdlcyA9IDAKICAgICAgICAgICAgcmVjZWl2ZWRfbWVzc2FnZXMgPSAwCgogICAgICAgICAgICBwcm9ncmVzc19ib3ggPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4og0JDQvdCw0LvQuNC3INGB0YLQsNGC0LjRgdGC0LjQutC4INGB0L7QvtCx0YnQtdC90LjQuS4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHByb2dyZXNzX2JveCkKCiAgICAgICAgICAgIG1lID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfbWUoKQoKICAgICAgICAgICAgZm9yIGRpYWxvZyBpbiBkaWFsb2dzWzoyMF06CiAgICAgICAgICAgICAgICBhc3luYyBmb3IgbWVzc2FnZSBpbiBzZWxmLm1hbmFnZXIuY2xpZW50Lml0ZXJfbWVzc2FnZXMoZGlhbG9nLmVudGl0eSwgbGltaXQ9MTAwKToKICAgICAgICAgICAgICAgICAgICB0b3RhbF9tZXNzYWdlcyArPSAxCiAgICAgICAgICAgICAgICAgICAgaWYgbWVzc2FnZS5zZW5kZXJfaWQgPT0gbWUuaWQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnRfbWVzc2FnZXMgKz0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkX21lc3NhZ2VzICs9IDEKCiAgICAgICAgICAgIHN0YXRzX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OIINCh0KLQkNCi0JjQodCi0JjQmtCQINCh0J7QntCR0KnQldCd0JjQmSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg8J+TiiDQktGB0LXQs9C+INGB0L7QvtCx0YnQtdC90LjQuTogICAgICB7dG90YWxfbWVzc2FnZXM6PDY0fSAgCiAg8J+TpCDQntGC0L/RgNCw0LLQu9C10L3QvjogICAgICAgICAgIHtzZW50X21lc3NhZ2VzOjw2NH0gIAogIPCfk6Ug0J/QvtC70YPRh9C10L3QvjogICAgICAgICAgICAge3JlY2VpdmVkX21lc3NhZ2VzOjw2NH0gIAogIPCfk4gg0KHQvtC+0YLQvdC+0YjQtdC90LjQtSDQvtGC0L8v0L/QvtC7OiAge3NlbnRfbWVzc2FnZXMgLyBtYXgocmVjZWl2ZWRfbWVzc2FnZXMsIDEpOi4yZn17Jyc6PDYwfSAgCiAg8J+TiyDQn9GA0L7QsNC90LDQu9C40LfQuNGA0L7QstCw0L3QvjogICAgIHtsZW4oZGlhbG9nc1s6MjBdKX0g0YfQsNGC0L7QsnsnJzo8NTZ9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHN0YXRzX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LDQvdCw0LvQuNC30LAg0YHRgtCw0YLQuNGB0YLQuNC60Lg6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgY2hhdF9hY3Rpdml0eV9hbmFseXNpcyhzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRpYWxvZ3MgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9kaWFsb2dzKGxpbWl0PTUwKQoKICAgICAgICAgICAgY2hhdF9hY3Rpdml0eSA9IFtdCgogICAgICAgICAgICBwcm9ncmVzc19ib3ggPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+RpSDQkNC90LDQu9C40Lcg0LDQutGC0LjQstC90L7RgdGC0Lgg0YfQsNGC0L7Qsi4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZ3Jlc3NfYm94KQoKICAgICAgICAgICAgZm9yIGRpYWxvZyBpbiBkaWFsb2dzWzoxNV06CiAgICAgICAgICAgICAgICBjaGF0X25hbWUgPSBnZXRhdHRyKGRpYWxvZy5lbnRpdHksICd0aXRsZScsIGdldGF0dHIoZGlhbG9nLmVudGl0eSwgJ2ZpcnN0X25hbWUnLCAnVW5rbm93bicpKQoKICAgICAgICAgICAgICAgIG1lc3NhZ2VfY291bnQgPSAwCiAgICAgICAgICAgICAgICByZWNlbnRfYWN0aXZpdHkgPSAwCgogICAgICAgICAgICAgICAgd2Vla19hZ28gPSBkYXRldGltZS5ub3coKSAtIHRpbWVkZWx0YShkYXlzPTcpCgogICAgICAgICAgICAgICAgYXN5bmMgZm9yIG1lc3NhZ2UgaW4gc2VsZi5tYW5hZ2VyLmNsaWVudC5pdGVyX21lc3NhZ2VzKGRpYWxvZy5lbnRpdHksIGxpbWl0PTIwMCk6CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV9jb3VudCArPSAxCiAgICAgICAgICAgICAgICAgICAgaWYgbWVzc2FnZS5kYXRlID49IHdlZWtfYWdvOgogICAgICAgICAgICAgICAgICAgICAgICByZWNlbnRfYWN0aXZpdHkgKz0gMQoKICAgICAgICAgICAgICAgIGNoYXRfYWN0aXZpdHkuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGNoYXRfbmFtZVs6MzBdLAogICAgICAgICAgICAgICAgICAgICd0b3RhbCc6IG1lc3NhZ2VfY291bnQsCiAgICAgICAgICAgICAgICAgICAgJ3JlY2VudCc6IHJlY2VudF9hY3Rpdml0eSwKICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICfQk9GA0YPQv9C/0LAnIGlmIGhhc2F0dHIoZGlhbG9nLmVudGl0eSwgJ3RpdGxlJykgZWxzZSAn0JvQuNGH0L3Ri9C5JwogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIGNoYXRfYWN0aXZpdHkuc29ydChrZXk9bGFtYmRhIHg6IHhbJ3JlY2VudCddLCByZXZlcnNlPVRydWUpCgogICAgICAgICAgICBhY3Rpdml0eV9oZWFkZXIgPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkaUg0JDQmtCi0JjQktCd0J7QodCi0Kwg0KfQkNCi0J7QkiAo0KLQntCfLTEwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoYWN0aXZpdHlfaGVhZGVyKQoKICAgICAgICAgICAgZm9yIGksIGNoYXQgaW4gZW51bWVyYXRlKGNoYXRfYWN0aXZpdHlbOjEwXSwgMSk6CiAgICAgICAgICAgICAgICBhY3Rpdml0eV9ib3ggPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICB7aToyZH0uIHtjaGF0WyduYW1lJ106PDMwfSB8IHtjaGF0Wyd0eXBlJ106PDh9IHwg0JfQsCDQvdC10LTQtdC70Y46IHtjaGF0WydyZWNlbnQnXTo8NX0gfCDQktGB0LXQs9C+OiB7Y2hhdFsndG90YWwnXTo8NX0K4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgcHJpbnQoYWN0aXZpdHlfYm94KQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQsNC90LDQu9C40LfQsCDQsNC60YLQuNCy0L3QvtGB0YLQuDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiB0aW1lX2FjdGl2aXR5X2FuYWx5c2lzKHNlbGYpOgogICAgICAgIGNsZWFyX3NjcmVlbigpCgogICAgICAgIHRyeToKICAgICAgICAgICAgaG91cmx5X2FjdGl2aXR5ID0gWzBdICogMjQKCiAgICAgICAgICAgIHByb2dyZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKPsCDQkNC90LDQu9C40Lcg0LLRgNC10LzQtdC90Lgg0LDQutGC0LjQstC90L7RgdGC0LguLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHByb2dyZXNzX2JveCkKCiAgICAgICAgICAgIG1lID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfbWUoKQogICAgICAgICAgICBkaWFsb2dzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZGlhbG9ncyhsaW1pdD0xMCkKCiAgICAgICAgICAgIGZvciBkaWFsb2cgaW4gZGlhbG9nczoKICAgICAgICAgICAgICAgIGFzeW5jIGZvciBtZXNzYWdlIGluIHNlbGYubWFuYWdlci5jbGllbnQuaXRlcl9tZXNzYWdlcyhkaWFsb2cuZW50aXR5LCBsaW1pdD0xMDApOgogICAgICAgICAgICAgICAgICAgIGlmIG1lc3NhZ2Uuc2VuZGVyX2lkID09IG1lLmlkOgogICAgICAgICAgICAgICAgICAgICAgICBob3VyID0gbWVzc2FnZS5kYXRlLmhvdXIKICAgICAgICAgICAgICAgICAgICAgICAgaG91cmx5X2FjdGl2aXR5W2hvdXJdICs9IDEKCiAgICAgICAgICAgIG1heF9hY3Rpdml0eSA9IG1heChob3VybHlfYWN0aXZpdHkpCgogICAgICAgICAgICB0aW1lX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+wINCQ0J3QkNCb0JjQlyDQktCg0JXQnNCV0J3QmCDQkNCa0KLQmNCS0J3QntCh0KLQmCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludCh0aW1lX2hlYWRlcikKCiAgICAgICAgICAgIGZvciBob3VyIGluIHJhbmdlKDI0KToKICAgICAgICAgICAgICAgIGFjdGl2aXR5ID0gaG91cmx5X2FjdGl2aXR5W2hvdXJdCiAgICAgICAgICAgICAgICBiYXJfbGVuZ3RoID0gaW50KChhY3Rpdml0eSAvIG1heChtYXhfYWN0aXZpdHksIDEpKSAqIDQwKQogICAgICAgICAgICAgICAgYmFyID0gIuKWiCIgKiBiYXJfbGVuZ3RoICsgIuKWkSIgKiAoNDAgLSBiYXJfbGVuZ3RoKQoKICAgICAgICAgICAgICAgIHRpbWVfYmFyID0gZiIiIgp7Q29sb3JzLkNZQU59ICB7aG91cjoyZH06MDAg4pSCe2Jhcn3ilIIge2FjdGl2aXR5OjNkfXtDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KHRpbWVfYmFyKQoKICAgICAgICAgICAgbW9zdF9hY3RpdmVfaG91ciA9IGhvdXJseV9hY3Rpdml0eS5pbmRleChtYXhfYWN0aXZpdHkpCiAgICAgICAgICAgIHRvdGFsX21lc3NhZ2VzID0gc3VtKGhvdXJseV9hY3Rpdml0eSkKCiAgICAgICAgICAgIHRpbWVfc3RhdHMgPSBmIiIiCntDb2xvcnMuWUVMTE9XfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIPCfj4Yg0KHQsNC80YvQuSDQsNC60YLQuNCy0L3Ri9C5INGH0LDRgTogICAge21vc3RfYWN0aXZlX2hvdXI6MmR9OjAwICh7bWF4X2FjdGl2aXR5fSDRgdC+0L7QsdGJ0LXQvdC40LkpeycnOjwzOH0gIAogIPCfk4og0JLRgdC10LPQviDRgdC+0L7QsdGJ0LXQvdC40Lk6ICAgICAge3RvdGFsX21lc3NhZ2VzOjw2NH0gIAogIPCfk4gg0KHRgNC10LTQvdGP0Y8g0LDQutGC0LjQstC90L7RgdGC0Yw6ICAge3RvdGFsX21lc3NhZ2VzIC8gMjQ6LjFmfSDRgdC+0L7QsdGJ0LXQvdC40Lkg0LIg0YfQsNGBeycnOjw0M30gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQodGltZV9zdGF0cykKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LDQvdCw0LvQuNC30LAg0LLRgNC10LzQtdC90Lg6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgdG9wX2FjdGl2ZV9jaGF0cyhzZWxmKToKICAgICAgICBhd2FpdCBzZWxmLmNoYXRfYWN0aXZpdHlfYW5hbHlzaXMoKQoKICAgIGFzeW5jIGRlZiBhY2NvdW50X3N0YXRpc3RpY3Moc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBtZSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X21lKCkKICAgICAgICAgICAgZGlhbG9ncyA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2RpYWxvZ3MoKQogICAgICAgICAgICBjb250YWN0cyA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2NvbnRhY3RzKCkKCiAgICAgICAgICAgIGdyb3Vwc19jb3VudCA9IHN1bSgxIGZvciBkIGluIGRpYWxvZ3MgaWYgaGFzYXR0cihkLmVudGl0eSwgJ3RpdGxlJykpCiAgICAgICAgICAgIHByaXZhdGVfY2hhdHMgPSBsZW4oZGlhbG9ncykgLSBncm91cHNfY291bnQKCiAgICAgICAgICAgIGFjY291bnRfc3RhdHMgPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4og0J7QkdCp0JDQryDQodCi0JDQotCY0KHQotCY0JrQkCDQkNCa0JrQkNCj0J3QotCQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDwn5GkINCY0LzRjzogICAgICAgICAgICAgIHttZS5maXJzdF9uYW1lfSB7bWUubGFzdF9uYW1lIG9yICcnfXsnJzo8NTV9ICAKICDwn4aUIElEOiAgICAgICAgICAgICAgIHttZS5pZDo8NzF9ICAKICDwn5OeINCi0LXQu9C10YTQvtC9OiAgICAgICAgICB7bWUucGhvbmUgb3IgJ9Cd0LUg0YPQutCw0LfQsNC9Jzo8NzF9ICAKICDwn5KsIFVzZXJuYW1lOiAgICAgICAgIEB7bWUudXNlcm5hbWUgaWYgbWUudXNlcm5hbWUgZWxzZSAn0J3QtSDRg9GB0YLQsNC90L7QstC70LXQvSc6PDcwfSAgCiAg8J+TiyDQktGB0LXQs9C+INGH0LDRgtC+0LI6ICAgICAge2xlbihkaWFsb2dzKTo8NzF9ICAKICDwn5GlINCT0YDRg9C/0L8v0LrQsNC90LDQu9C+0LI6ICAgIHtncm91cHNfY291bnQ6PDcxfSAgCiAg8J+SrSDQm9C40YfQvdGL0YUg0YfQsNGC0L7QsjogICAgIHtwcml2YXRlX2NoYXRzOjw3MX0gIAogIPCfk54g0JrQvtC90YLQsNC60YLQvtCyOiAgICAgICAge2xlbihjb250YWN0cyk6PDcxfSAgCiAg8J+UkCAyRkE6ICAgICAgICAgICAgICB7J9CS0LrQu9GO0YfQtdC9JyBpZiBtZS5oYXNfcGFzc3dvcmQgZWxzZSAn0JLRi9C60LvRjtGH0LXQvSc6PDcxfSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChhY2NvdW50X3N0YXRzKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHRgtCw0YLQuNGB0YLQuNC60Lgg0LDQutC60LDRg9C90YLQsDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBtZXNzYWdlX3R5cGVzX2FuYWx5c2lzKHNlbGYpOgogICAgICAgIGNsZWFyX3NjcmVlbigpCgogICAgICAgIHRyeToKICAgICAgICAgICAgZGlhbG9ncyA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2RpYWxvZ3MobGltaXQ9MjApCgogICAgICAgICAgICBtZXNzYWdlX3R5cGVzID0gewogICAgICAgICAgICAgICAgJ3RleHQnOiAwLAogICAgICAgICAgICAgICAgJ3Bob3Rvcyc6IDAsCiAgICAgICAgICAgICAgICAndmlkZW9zJzogMCwKICAgICAgICAgICAgICAgICdkb2N1bWVudHMnOiAwLAogICAgICAgICAgICAgICAgJ2F1ZGlvJzogMCwKICAgICAgICAgICAgICAgICdzdGlja2Vycyc6IDAsCiAgICAgICAgICAgICAgICAndm9pY2UnOiAwLAogICAgICAgICAgICAgICAgJ290aGVyJzogMAogICAgICAgICAgICB9CgogICAgICAgICAgICBwcm9ncmVzc19ib3ggPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SrCDQkNC90LDQu9C40Lcg0YLQuNC/0L7QsiDRgdC+0L7QsdGJ0LXQvdC40LkuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChwcm9ncmVzc19ib3gpCgogICAgICAgICAgICBmb3IgZGlhbG9nIGluIGRpYWxvZ3M6CiAgICAgICAgICAgICAgICBhc3luYyBmb3IgbWVzc2FnZSBpbiBzZWxmLm1hbmFnZXIuY2xpZW50Lml0ZXJfbWVzc2FnZXMoZGlhbG9nLmVudGl0eSwgbGltaXQ9NTApOgogICAgICAgICAgICAgICAgICAgIGlmIG1lc3NhZ2UudGV4dDoKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90eXBlc1sndGV4dCddICs9IDEKICAgICAgICAgICAgICAgICAgICBlbGlmIG1lc3NhZ2UubWVkaWE6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIobWVzc2FnZS5tZWRpYSwgJ3Bob3RvJyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3R5cGVzWydwaG90b3MnXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgaGFzYXR0cihtZXNzYWdlLm1lZGlhLCAnZG9jdW1lbnQnKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IG1lc3NhZ2UubWVkaWEuZG9jdW1lbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGRvYy5taW1lX3R5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3ZpZGVvJyBpbiBkb2MubWltZV90eXBlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3R5cGVzWyd2aWRlb3MnXSArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnYXVkaW8nIGluIGRvYy5taW1lX3R5cGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdHlwZXNbJ2F1ZGlvJ10gKz0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdHlwZXNbJ2RvY3VtZW50cyddICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBoYXNhdHRyKG1lc3NhZ2UubWVkaWEsICdzdGlja2VyJyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3R5cGVzWydzdGlja2VycyddICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdHlwZXNbJ290aGVyJ10gKz0gMQoKICAgICAgICAgICAgdG90YWwgPSBzdW0obWVzc2FnZV90eXBlcy52YWx1ZXMoKSkKCiAgICAgICAgICAgIHR5cGVzX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SrCDQkNCd0JDQm9CY0Jcg0KLQmNCf0J7QkiDQodCe0J7QkdCp0JXQndCY0JkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludCh0eXBlc19oZWFkZXIpCgogICAgICAgICAgICBmb3IgbXNnX3R5cGUsIGNvdW50IGluIG1lc3NhZ2VfdHlwZXMuaXRlbXMoKToKICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSAoY291bnQgLyBtYXgodG90YWwsIDEpKSAqIDEwMAoKICAgICAgICAgICAgICAgIHR5cGVfaWNvbnMgPSB7CiAgICAgICAgICAgICAgICAgICAgJ3RleHQnOiAn8J+TnScsCiAgICAgICAgICAgICAgICAgICAgJ3Bob3Rvcyc6ICfwn5a877iPJywKICAgICAgICAgICAgICAgICAgICAndmlkZW9zJzogJ/CfjqUnLAogICAgICAgICAgICAgICAgICAgICdkb2N1bWVudHMnOiAn8J+ThCcsCiAgICAgICAgICAgICAgICAgICAgJ2F1ZGlvJzogJ/CfjrUnLAogICAgICAgICAgICAgICAgICAgICdzdGlja2Vycyc6ICfwn5iKJywKICAgICAgICAgICAgICAgICAgICAndm9pY2UnOiAn8J+OpCcsCiAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ+KdkycKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0eXBlX3N0YXRzID0gZiIiIgp7Q29sb3JzLkNZQU59ICB7dHlwZV9pY29uc1ttc2dfdHlwZV19IHttc2dfdHlwZS50aXRsZSgpOjwxMn0g4pSCIHtjb3VudDo1ZH0g4pSCIHtwZXJjZW50YWdlOjUuMWZ9JXtDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KHR5cGVfc3RhdHMpCgogICAgICAgICAgICB0b3RhbF9zdGF0cyA9IGYiIiIKe0NvbG9ycy5ZRUxMT1d94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAg8J+TiiDQktGB0LXQs9C+INC/0YDQvtCw0L3QsNC70LjQt9C40YDQvtCy0LDQvdC+OiB7dG90YWx9INGB0L7QvtCx0YnQtdC90LjQuXsnJzo8NDl9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHRvdGFsX3N0YXRzKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQsNC90LDQu9C40LfQsCDRgtC40L/QvtCyINGB0L7QvtCx0YnQtdC90LjQuToge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBleHBvcnRfYW5hbHl0aWNzX3JlcG9ydChzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgICAgICAgICAgZmlsZW5hbWUgPSBmImFuYWx5dGljc19yZXBvcnRfe3RpbWVzdGFtcH0uanNvbiIKCiAgICAgICAgICAgIG1lID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfbWUoKQogICAgICAgICAgICBkaWFsb2dzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZGlhbG9ncygpCiAgICAgICAgICAgIGNvbnRhY3RzID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfY29udGFjdHMoKQoKICAgICAgICAgICAgcmVwb3J0X2RhdGEgPSB7CiAgICAgICAgICAgICAgICAicmVwb3J0X2RhdGUiOiBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKSwKICAgICAgICAgICAgICAgICJhY2NvdW50X2luZm8iOiB7CiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiBmInttZS5maXJzdF9uYW1lfSB7bWUubGFzdF9uYW1lIG9yICcnfSIuc3RyaXAoKSwKICAgICAgICAgICAgICAgICAgICAidXNlcm5hbWUiOiBtZS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAiaWQiOiBtZS5pZCwKICAgICAgICAgICAgICAgICAgICAicGhvbmUiOiBtZS5waG9uZSwKICAgICAgICAgICAgICAgICAgICAiaGFzXzJmYSI6IG1lLmhhc19wYXNzd29yZAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJzdGF0aXN0aWNzIjogewogICAgICAgICAgICAgICAgICAgICJ0b3RhbF9jaGF0cyI6IGxlbihkaWFsb2dzKSwKICAgICAgICAgICAgICAgICAgICAidG90YWxfY29udGFjdHMiOiBsZW4oY29udGFjdHMpLAogICAgICAgICAgICAgICAgICAgICJncm91cHNfY291bnQiOiBzdW0oMSBmb3IgZCBpbiBkaWFsb2dzIGlmIGhhc2F0dHIoZC5lbnRpdHksICd0aXRsZScpKSwKICAgICAgICAgICAgICAgICAgICAicHJpdmF0ZV9jaGF0cyI6IGxlbihkaWFsb2dzKSAtIHN1bSgxIGZvciBkIGluIGRpYWxvZ3MgaWYgaGFzYXR0cihkLmVudGl0eSwgJ3RpdGxlJykpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgInRvcF9jaGF0cyI6IFtdCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciBkaWFsb2cgaW4gZGlhbG9nc1s6MTBdOgogICAgICAgICAgICAgICAgY2hhdF9uYW1lID0gZ2V0YXR0cihkaWFsb2cuZW50aXR5LCAndGl0bGUnLCBnZXRhdHRyKGRpYWxvZy5lbnRpdHksICdmaXJzdF9uYW1lJywgJ1Vua25vd24nKSkKICAgICAgICAgICAgICAgIHJlcG9ydF9kYXRhWyJ0b3BfY2hhdHMiXS5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogY2hhdF9uYW1lLAogICAgICAgICAgICAgICAgICAgICJpZCI6IGRpYWxvZy5lbnRpdHkuaWQsCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiZ3JvdXAiIGlmIGhhc2F0dHIoZGlhbG9nLmVudGl0eSwgJ3RpdGxlJykgZWxzZSAicHJpdmF0ZSIKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICB3aXRoIG9wZW4oZmlsZW5hbWUsICd3JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgICAgIGpzb24uZHVtcChyZXBvcnRfZGF0YSwgZiwgZW5zdXJlX2FzY2lpPUZhbHNlLCBpbmRlbnQ9MikKCiAgICAgICAgICAgIGV4cG9ydF9zdWNjZXNzID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyFINCe0KLQp9CV0KIg0K3QmtCh0J/QntCg0KLQmNCg0J7QktCQ0J0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0KTQsNC50Ls6ICAgIHtmaWxlbmFtZTo8NzZ9ICAKICDQoNCw0LfQvNC10YA6ICB7b3MucGF0aC5nZXRzaXplKGZpbGVuYW1lKSAvIDEwMjQ6LjFmfSBLQnsnJzo8NzB9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGV4cG9ydF9zdWNjZXNzKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDRjdC60YHQv9C+0YDRgtCwINC+0YLRh9C10YLQsDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBiYWNrdXBfbWVudShzZWxmKToKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICAgICAgYmFja3VwX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkr4g0KDQldCX0JXQoNCS0J3Qq9CVINCa0J7Qn9CY0JggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGJhY2t1cF9oZWFkZXIpCgogICAgICAgICAgICBiYWNrdXBfbWVudV9pdGVtcyA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIDEuIPCfkr4g0KHQvtC30LTQsNGC0Ywg0L/QvtC70L3Ri9C5INCx0Y3QutCw0L97Jyc6PDU4fSAgCiAgMi4g8J+TiyDQkdGN0LrQsNC/INC60L7QvdGC0LDQutGC0L7QsnsnJzo8NjN9ICAKICAzLiDwn5KsINCR0Y3QutCw0L8g0LjRgdGC0L7RgNC40Lgg0YfQsNGC0L7QsnsnJzo8NTh9ICAKICA0LiDwn5a877iPICDQkdGN0LrQsNC/INC80LXQtNC40LAg0YTQsNC50LvQvtCyeycnOjw1OX0gIAogIDUuIOKame+4jyAg0JHRjdC60LDQvyDQvdCw0YHRgtGA0L7QtdC6eycnOjw2M30gIAogIDYuIPCfk4Ig0KPQv9GA0LDQstC70LXQvdC40LUg0LHRjdC60LDQv9Cw0LzQuHsnJzo8NTl9ICAKICA3LiDwn5SEINCS0L7RgdGB0YLQsNC90L7QstC70LXQvdC40LUg0LjQtyDQsdGN0LrQsNC/0LB7Jyc6PDUyfSAgCiAgOC4g4o+wINCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutC40LUg0LHRjdC60LDQv9GLeycnOjw1Nn0gIAogIDAuIOKshe+4jyAg0J3QsNC30LDQtHsnJzo8NzR9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGJhY2t1cF9tZW51X2l0ZW1zKQoKICAgICAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+OryDQktGL0LHQvtGAOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmNyZWF0ZV9mdWxsX2JhY2t1cCgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIyIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuYmFja3VwX2NvbnRhY3RzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjMiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5iYWNrdXBfY2hhdF9oaXN0b3J5KCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5iYWNrdXBfbWVkaWEoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmJhY2t1cF9zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI2IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlX2JhY2t1cHMoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNyI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnJlc3RvcmVfYmFja3VwKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjgiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5hdXRvX2JhY2t1cF9zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIwIjoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgYXN5bmMgZGVmIGNyZWF0ZV9mdWxsX2JhY2t1cChzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICB0aW1lc3RhbXAgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVklbSVkXyVIJU0lUyIpCiAgICAgICAgYmFja3VwX2RpciA9IGYiZnVsbF9iYWNrdXBfe3RpbWVzdGFtcH0iCgogICAgICAgIHRyeToKICAgICAgICAgICAgb3MubWFrZWRpcnMoYmFja3VwX2RpciwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICAgICAgICAgIGZ1bGxfYmFja3VwX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+SviDQodCe0JfQlNCQ0J3QmNCVINCf0J7Qm9Cd0J7Qk9CeINCR0K3QmtCQ0J/QkCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChmdWxsX2JhY2t1cF9oZWFkZXIpCgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XffCfk4sg0KHQvtGF0YDQsNC90LXQvdC40LUg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L7QsSDQsNC60LrQsNGD0L3RgtC1Li4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBtZSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X21lKCkKCiAgICAgICAgICAgIGFjY291bnRfaW5mbyA9IHsKICAgICAgICAgICAgICAgICJpZCI6IG1lLmlkLAogICAgICAgICAgICAgICAgImZpcnN0X25hbWUiOiBtZS5maXJzdF9uYW1lLAogICAgICAgICAgICAgICAgImxhc3RfbmFtZSI6IG1lLmxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICJ1c2VybmFtZSI6IG1lLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgInBob25lIjogbWUucGhvbmUsCiAgICAgICAgICAgICAgICAiYmFja3VwX2RhdGUiOiBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKQogICAgICAgICAgICB9CgogICAgICAgICAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGJhY2t1cF9kaXIsICJhY2NvdW50X2luZm8uanNvbiIpLCAndycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgICAgICBqc29uLmR1bXAoYWNjb3VudF9pbmZvLCBmLCBlbnN1cmVfYXNjaWk9RmFsc2UsIGluZGVudD0yKQoKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5OeINCh0L7RhdGA0LDQvdC10L3QuNC1INC60L7QvdGC0LDQutGC0L7Qsi4uLntDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgY29udGFjdHMgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9jb250YWN0cygpCgogICAgICAgICAgICBjb250YWN0c19kYXRhID0gW10KICAgICAgICAgICAgZm9yIGNvbnRhY3QgaW4gY29udGFjdHM6CiAgICAgICAgICAgICAgICBjb250YWN0c19kYXRhLmFwcGVuZCh7CiAgICAgICAgICAgICAgICAgICAgImlkIjogY29udGFjdC5pZCwKICAgICAgICAgICAgICAgICAgICAiZmlyc3RfbmFtZSI6IGNvbnRhY3QuZmlyc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAibGFzdF9uYW1lIjogY29udGFjdC5sYXN0X25hbWUsCiAgICAgICAgICAgICAgICAgICAgInVzZXJuYW1lIjogY29udGFjdC51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAicGhvbmUiOiBjb250YWN0LnBob25lLAogICAgICAgICAgICAgICAgICAgICJpc19ib3QiOiBjb250YWN0LmJvdAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oYmFja3VwX2RpciwgImNvbnRhY3RzLmpzb24iKSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICAgICAganNvbi5kdW1wKGNvbnRhY3RzX2RhdGEsIGYsIGVuc3VyZV9hc2NpaT1GYWxzZSwgaW5kZW50PTIpCgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XffCfkqwg0KHQvtGF0YDQsNC90LXQvdC40LUg0YHQv9C40YHQutCwINGH0LDRgtC+0LIuLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGRpYWxvZ3MgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9kaWFsb2dzKCkKCiAgICAgICAgICAgIGNoYXRzX2RhdGEgPSBbXQogICAgICAgICAgICBmb3IgZGlhbG9nIGluIGRpYWxvZ3M6CiAgICAgICAgICAgICAgICBjaGF0X2luZm8gPSB7CiAgICAgICAgICAgICAgICAgICAgImlkIjogZGlhbG9nLmVudGl0eS5pZCwKICAgICAgICAgICAgICAgICAgICAidGl0bGUiOiBnZXRhdHRyKGRpYWxvZy5lbnRpdHksICd0aXRsZScsIE5vbmUpLAogICAgICAgICAgICAgICAgICAgICJmaXJzdF9uYW1lIjogZ2V0YXR0cihkaWFsb2cuZW50aXR5LCAnZmlyc3RfbmFtZScsIE5vbmUpLAogICAgICAgICAgICAgICAgICAgICJ1c2VybmFtZSI6IGdldGF0dHIoZGlhbG9nLmVudGl0eSwgJ3VzZXJuYW1lJywgTm9uZSksCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiZ3JvdXAiIGlmIGhhc2F0dHIoZGlhbG9nLmVudGl0eSwgJ3RpdGxlJykgZWxzZSAicHJpdmF0ZSIsCiAgICAgICAgICAgICAgICAgICAgInBhcnRpY2lwYW50c19jb3VudCI6IGdldGF0dHIoZGlhbG9nLmVudGl0eSwgJ3BhcnRpY2lwYW50c19jb3VudCcsIE5vbmUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjaGF0c19kYXRhLmFwcGVuZChjaGF0X2luZm8pCgogICAgICAgICAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGJhY2t1cF9kaXIsICJjaGF0cy5qc29uIiksICd3JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgICAgIGpzb24uZHVtcChjaGF0c19kYXRhLCBmLCBlbnN1cmVfYXNjaWk9RmFsc2UsIGluZGVudD0yKQoKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5SQINCa0L7Qv9C40YDQvtCy0LDQvdC40LUg0YTQsNC50LvQsCDRgdC10YHRgdC40LguLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGlmIHNlbGYubWFuYWdlci5jdXJyZW50X3Nlc3Npb24gYW5kIG9zLnBhdGguZXhpc3RzKGYie3NlbGYubWFuYWdlci5jdXJyZW50X3Nlc3Npb259LnNlc3Npb24iKToKICAgICAgICAgICAgICAgIGltcG9ydCBzaHV0aWwKICAgICAgICAgICAgICAgIHNodXRpbC5jb3B5MihmIntzZWxmLm1hbmFnZXIuY3VycmVudF9zZXNzaW9ufS5zZXNzaW9uIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5wYXRoLmpvaW4oYmFja3VwX2RpciwgInNlc3Npb25fYmFja3VwLnNlc3Npb24iKSkKCiAgICAgICAgICAgIG1hbmlmZXN0ID0gewogICAgICAgICAgICAgICAgImJhY2t1cF90eXBlIjogImZ1bGwiLAogICAgICAgICAgICAgICAgImNyZWF0aW9uX2RhdGUiOiBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKSwKICAgICAgICAgICAgICAgICJhY2NvdW50X2lkIjogbWUuaWQsCiAgICAgICAgICAgICAgICAiYWNjb3VudF9uYW1lIjogZiJ7bWUuZmlyc3RfbmFtZX0ge21lLmxhc3RfbmFtZSBvciAnJ30iLnN0cmlwKCksCiAgICAgICAgICAgICAgICAidG90YWxfY29udGFjdHMiOiBsZW4oY29udGFjdHNfZGF0YSksCiAgICAgICAgICAgICAgICAidG90YWxfY2hhdHMiOiBsZW4oY2hhdHNfZGF0YSksCiAgICAgICAgICAgICAgICAiZmlsZXMiOiBbCiAgICAgICAgICAgICAgICAgICAgImFjY291bnRfaW5mby5qc29uIiwKICAgICAgICAgICAgICAgICAgICAiY29udGFjdHMuanNvbiIsCiAgICAgICAgICAgICAgICAgICAgImNoYXRzLmpzb24iLAogICAgICAgICAgICAgICAgICAgICJzZXNzaW9uX2JhY2t1cC5zZXNzaW9uIgogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CgogICAgICAgICAgICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKGJhY2t1cF9kaXIsICJtYW5pZmVzdC5qc29uIiksICd3JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgICAgIGpzb24uZHVtcChtYW5pZmVzdCwgZiwgZW5zdXJlX2FzY2lpPUZhbHNlLCBpbmRlbnQ9MikKCiAgICAgICAgICAgIHRvdGFsX3NpemUgPSAwCiAgICAgICAgICAgIGZvciByb290LCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKGJhY2t1cF9kaXIpOgogICAgICAgICAgICAgICAgZm9yIGZpbGUgaW4gZmlsZXM6CiAgICAgICAgICAgICAgICAgICAgdG90YWxfc2l6ZSArPSBvcy5wYXRoLmdldHNpemUob3MucGF0aC5qb2luKHJvb3QsIGZpbGUpKQoKICAgICAgICAgICAgc3VjY2Vzc19ib3ggPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinIUg0J/QntCb0J3Qq9CZINCR0K3QmtCQ0J8g0KHQntCX0JTQkNCdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogINCf0LDQv9C60LA6ICAgICAge2JhY2t1cF9kaXI6PDc0fSAgCiAg0KDQsNC30LzQtdGAOiAgICAge3RvdGFsX3NpemUgLyAxMDI0Oi4xZn0gS0J7Jyc6PDcwfSAgCiAg0JrQvtC90YLQsNC60YLQvtCyOiAge2xlbihjb250YWN0c19kYXRhKTo8NzR9ICAKICDQp9Cw0YLQvtCyOiAgICAgIHtsZW4oY2hhdHNfZGF0YSk6PDc0fSAgCiAg0KTQsNC50LvQvtCyOiAgICAge2xlbihtYW5pZmVzdFsnZmlsZXMnXSk6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICIiIgogICAgICAgICAgICBwcmludChzdWNjZXNzX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0YHQvtC30LTQsNC90LjRjyDQsdGN0LrQsNC/0LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYmFja3VwX2NvbnRhY3RzKHNlbGYpOgogICAgICAgIGF3YWl0IHNlbGYuZXhwb3J0X2NvbnRhY3RzKCkKCiAgICBhc3luYyBkZWYgYmFja3VwX2NoYXRfaGlzdG9yeShzZWxmKToKICAgICAgICBjaGF0X2lucHV0ID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+SrCDQp9Cw0YIg0LTQu9GPINCx0Y3QutCw0L/QsCAo0L/Rg9GB0YLQviA9INCy0YHQtSDRh9Cw0YLRiyk6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICB0aW1lc3RhbXAgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVklbSVkXyVIJU0lUyIpCiAgICAgICAgYmFja3VwX2RpciA9IGYiY2hhdF9iYWNrdXBfe3RpbWVzdGFtcH0iCiAgICAgICAgb3MubWFrZWRpcnMoYmFja3VwX2RpciwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBjaGF0X2lucHV0OgogICAgICAgICAgICAgICAgZW50aXR5ID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5nZXRfZW50aXR5KGNoYXRfaW5wdXQpCiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLl9iYWNrdXBfc2luZ2xlX2NoYXQoZW50aXR5LCBiYWNrdXBfZGlyKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZGlhbG9ncyA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X2RpYWxvZ3MobGltaXQ9NTApCgogICAgICAgICAgICAgICAgcHJvZ3Jlc3NfYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5KsINCR0Y3QutCw0L8g0LjRgdGC0L7RgNC40Lgge2xlbihkaWFsb2dzKX0g0YfQsNGC0L7Qsi4uLiAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBwcmludChwcm9ncmVzc19ib3gpCgogICAgICAgICAgICAgICAgZm9yIGksIGRpYWxvZyBpbiBlbnVtZXJhdGUoZGlhbG9ncywgMSk6CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLl9iYWNrdXBfc2luZ2xlX2NoYXQoZGlhbG9nLmVudGl0eSwgYmFja3VwX2RpcikKICAgICAgICAgICAgICAgICAgICAgICAgY2hhdF9uYW1lID0gZ2V0YXR0cihkaWFsb2cuZW50aXR5LCAndGl0bGUnLCBnZXRhdHRyKGRpYWxvZy5lbnRpdHksICdmaXJzdF9uYW1lJywgJ1Vua25vd24nKSkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSB7aX0ve2xlbihkaWFsb2dzKX0g0JHRjdC60LDQvzoge2NoYXRfbmFtZVs6NDBdfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MIHtpfS97bGVuKGRpYWxvZ3MpfSDQntGI0LjQsdC60LA6IHtzdHIoZSlbOjQwXX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCR0Y3QutCw0L8g0YfQsNGC0L7QsiDQt9Cw0LLQtdGA0YjQtdC9INCyINC/0LDQv9C60LU6IHtiYWNrdXBfZGlyfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LHRjdC60LDQv9CwINGH0LDRgtC+0LI6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgX2JhY2t1cF9zaW5nbGVfY2hhdChzZWxmLCBlbnRpdHksIGJhY2t1cF9kaXIpOgogICAgICAgIGNoYXRfbmFtZSA9IGdldGF0dHIoZW50aXR5LCAndGl0bGUnLCBnZXRhdHRyKGVudGl0eSwgJ2ZpcnN0X25hbWUnLCBmImNoYXRfe2VudGl0eS5pZH0iKSkKICAgICAgICBzYWZlX25hbWUgPSAiIi5qb2luKGMgZm9yIGMgaW4gY2hhdF9uYW1lIGlmIGMuaXNhbG51bSgpIG9yIGMgaW4gKCcgJywgJy0nLCAnXycpKS5zdHJpcCgpCgogICAgICAgIG1lc3NhZ2VzID0gW10KICAgICAgICBhc3luYyBmb3IgbWVzc2FnZSBpbiBzZWxmLm1hbmFnZXIuY2xpZW50Lml0ZXJfbWVzc2FnZXMoZW50aXR5LCBsaW1pdD01MDApOgogICAgICAgICAgICBzZW5kZXJfbmFtZSA9ICJVbmtub3duIgogICAgICAgICAgICBpZiBtZXNzYWdlLnNlbmRlcjoKICAgICAgICAgICAgICAgIHNlbmRlcl9uYW1lID0gZ2V0YXR0cihtZXNzYWdlLnNlbmRlciwgJ2ZpcnN0X25hbWUnLCAnVW5rbm93bicpCgogICAgICAgICAgICBtc2dfZGF0YSA9IHsKICAgICAgICAgICAgICAgICJpZCI6IG1lc3NhZ2UuaWQsCiAgICAgICAgICAgICAgICAiZGF0ZSI6IG1lc3NhZ2UuZGF0ZS5pc29mb3JtYXQoKSwKICAgICAgICAgICAgICAgICJzZW5kZXIiOiBzZW5kZXJfbmFtZSwKICAgICAgICAgICAgICAgICJ0ZXh0IjogbWVzc2FnZS50ZXh0IG9yICJbTWVkaWFdIiwKICAgICAgICAgICAgICAgICJtZWRpYV90eXBlIjogInRleHQiIGlmIG1lc3NhZ2UudGV4dCBlbHNlICJtZWRpYSIKICAgICAgICAgICAgfQogICAgICAgICAgICBtZXNzYWdlcy5hcHBlbmQobXNnX2RhdGEpCgogICAgICAgIGZpbGVuYW1lID0gZiJ7c2FmZV9uYW1lfV97ZW50aXR5LmlkfS5qc29uIgogICAgICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oYmFja3VwX2RpciwgZmlsZW5hbWUpLCAndycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgIGpzb24uZHVtcCh7CiAgICAgICAgICAgICAgICAiY2hhdF9pbmZvIjogewogICAgICAgICAgICAgICAgICAgICJpZCI6IGVudGl0eS5pZCwKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IGNoYXRfbmFtZSwKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJncm91cCIgaWYgaGFzYXR0cihlbnRpdHksICd0aXRsZScpIGVsc2UgInByaXZhdGUiCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgIm1lc3NhZ2VzIjogbWVzc2FnZXMsCiAgICAgICAgICAgICAgICAiYmFja3VwX2RhdGUiOiBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKQogICAgICAgICAgICB9LCBmLCBlbnN1cmVfYXNjaWk9RmFsc2UsIGluZGVudD0yKQoKICAgIGFzeW5jIGRlZiBiYWNrdXBfbWVkaWEoc2VsZik6CiAgICAgICAgY2hhdF9pbnB1dCA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfkqwg0KfQsNGCINC00LvRjyDQsdGN0LrQsNC/0LAg0LzQtdC00LjQsDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IGNoYXRfaW5wdXQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsaW1pdCA9IGludCgKICAgICAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+TiiDQmtC+0LvQuNGH0LXRgdGC0LLQviDRgdC+0L7QsdGJ0LXQvdC40Lkg0LTQu9GPINC/0YDQvtCy0LXRgNC60LggKNC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIDEwMCk6IHtDb2xvcnMuUkVTRVR9Iikgb3IgIjEwMCIpCgogICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgICAgICBtZWRpYV9iYWNrdXBfZGlyID0gZiJtZWRpYV9iYWNrdXBfe3RpbWVzdGFtcH0iCiAgICAgICAgb3MubWFrZWRpcnMobWVkaWFfYmFja3VwX2RpciwgZXhpc3Rfb2s9VHJ1ZSkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBlbnRpdHkgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9lbnRpdHkoY2hhdF9pbnB1dCkKCiAgICAgICAgICAgIHByb2dyZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+WvO+4jyDQkdGN0LrQsNC/INC80LXQtNC40LAg0YTQsNC50LvQvtCyLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZ3Jlc3NfYm94KQoKICAgICAgICAgICAgYmFja2VkX3VwX2NvdW50ID0gMAogICAgICAgICAgICBhc3luYyBmb3IgbWVzc2FnZSBpbiBzZWxmLm1hbmFnZXIuY2xpZW50Lml0ZXJfbWVzc2FnZXMoZW50aXR5LCBsaW1pdD1saW1pdCk6CiAgICAgICAgICAgICAgICBpZiBtZXNzYWdlLm1lZGlhOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9wYXRoID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC5kb3dubG9hZF9tZWRpYSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVkaWEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlPW9zLnBhdGguam9pbihtZWRpYV9iYWNrdXBfZGlyLCBmIm1lZGlhX3ttZXNzYWdlLmlkfSIpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZmlsZV9wYXRoOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2VkX3VwX2NvdW50ICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0KHQvtGF0YDQsNC90LXQvdC+OiB7b3MucGF0aC5iYXNlbmFtZShmaWxlX3BhdGgpfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC80LXQtNC40LAge21lc3NhZ2UuaWR9OiB7c3RyKGUpWzozMF19e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQkdGN0LrQsNC/INC80LXQtNC40LAg0LfQsNCy0LXRgNGI0LXQvToge2JhY2tlZF91cF9jb3VudH0g0YTQsNC50LvQvtCyINCyIHttZWRpYV9iYWNrdXBfZGlyfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LHRjdC60LDQv9CwINC80LXQtNC40LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYmFja3VwX3NldHRpbmdzKHNlbGYpOgogICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgICAgICBzZXR0aW5nc19maWxlID0gZiJzZXR0aW5nc19iYWNrdXBfe3RpbWVzdGFtcH0uanNvbiIKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpbXBvcnQgZmdhZHZtYW5hZ2VyX21haW4gYXMgbWFpbl9tb2R1bGUKCiAgICAgICAgICAgIHNldHRpbmdzX2RhdGEgPSB7CiAgICAgICAgICAgICAgICAiYmFja3VwX2RhdGUiOiBkYXRldGltZS5ub3coKS5pc29mb3JtYXQoKSwKICAgICAgICAgICAgICAgICJhcGlfaWQiOiBtYWluX21vZHVsZS5Db25maWcuQVBJX0lELAogICAgICAgICAgICAgICAgImFwaV9oYXNoIjogbWFpbl9tb2R1bGUuQ29uZmlnLkFQSV9IQVNILAogICAgICAgICAgICAgICAgInNlc3Npb25fbmFtZSI6IG1haW5fbW9kdWxlLkNvbmZpZy5TRVNTSU9OX05BTUUsCiAgICAgICAgICAgICAgICAiY3VycmVudF9zZXNzaW9uIjogc2VsZi5tYW5hZ2VyLmN1cnJlbnRfc2Vzc2lvbgogICAgICAgICAgICB9CgogICAgICAgICAgICB3aXRoIG9wZW4oc2V0dGluZ3NfZmlsZSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICAgICAganNvbi5kdW1wKHNldHRpbmdzX2RhdGEsIGYsIGVuc3VyZV9hc2NpaT1GYWxzZSwgaW5kZW50PTIpCgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCd0LDRgdGC0YDQvtC50LrQuCDRgdC+0YXRgNCw0L3QtdC90Ysg0LIge3NldHRpbmdzX2ZpbGV9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQsdGN0LrQsNC/0LAg0L3QsNGB0YLRgNC+0LXQujoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBtYW5hZ2VfYmFja3VwcyhzZWxmKToKICAgICAgICBjbGVhcl9zY3JlZW4oKQogICAgICAgIGJhY2t1cF9mb2xkZXJzID0gW10KICAgICAgICBmb3IgaXRlbSBpbiBvcy5saXN0ZGlyKCcnKToKICAgICAgICAgICAgaWYgb3MucGF0aC5pc2RpcihpdGVtKSBhbmQgKCdiYWNrdXAnIGluIGl0ZW0ubG93ZXIoKSBvciAnYmFja3VwJyBpbiBpdGVtKToKICAgICAgICAgICAgICAgIGJhY2t1cF9mb2xkZXJzLmFwcGVuZChpdGVtKQoKICAgICAgICBpZiBub3QgYmFja3VwX2ZvbGRlcnM6CiAgICAgICAgICAgIG5vX2JhY2t1cHNfYm94ID0gZiIiIgp7Q29sb3JzLllFTExPV33ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4Ig0JHRjdC60LDQv9GLINC90LUg0L3QsNC50LTQtdC90YsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQobm9fYmFja3Vwc19ib3gpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYmFja3Vwc19oZWFkZXIgPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4Ig0KPQn9Cg0JDQktCb0JXQndCY0JUg0JHQrdCa0JDQn9CQ0JzQmCAoe2xlbihiYWNrdXBfZm9sZGVycyl9KSAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGJhY2t1cHNfaGVhZGVyKQoKICAgICAgICAgICAgZm9yIGksIGZvbGRlciBpbiBlbnVtZXJhdGUoYmFja3VwX2ZvbGRlcnMsIDEpOgogICAgICAgICAgICAgICAgdG90YWxfc2l6ZSA9IDAKICAgICAgICAgICAgICAgIGZvciByb290LCBkaXJzLCBmaWxlcyBpbiBvcy53YWxrKGZvbGRlcik6CiAgICAgICAgICAgICAgICAgICAgZm9yIGZpbGUgaW4gZmlsZXM6CiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX3NpemUgKz0gb3MucGF0aC5nZXRzaXplKG9zLnBhdGguam9pbihyb290LCBmaWxlKSkKCiAgICAgICAgICAgICAgICBjcmVhdGlvbl90aW1lID0gb3MucGF0aC5nZXRjdGltZShmb2xkZXIpCiAgICAgICAgICAgICAgICBjcmVhdGlvbl9kYXRlID0gZGF0ZXRpbWUuZnJvbXRpbWVzdGFtcChjcmVhdGlvbl90aW1lKS5zdHJmdGltZSgiJWQuJW0uJVkgJUg6JU0iKQoKICAgICAgICAgICAgICAgIGJhY2t1cF9pbmZvID0gZiIiIgp7Q29sb3JzLkNZQU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAge2k6MmR9LiDwn5OCIHtmb2xkZXJbOjQwXTo8NDB9IHwg8J+ThSB7Y3JlYXRpb25fZGF0ZX0gfCDwn5K+IHt0b3RhbF9zaXplIC8gMTAyNDouMWZ9IEtCCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIHByaW50KGJhY2t1cF9pbmZvKQoKICAgICAgICAgICAgYWN0aW9uc19ib3ggPSBmIiIiCntDb2xvcnMuWUVMTE9XfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQldCZ0KHQotCS0JjQryAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0JLQstC10LTQuNGC0LUg0L3QvtC80LXRgCDQtNC70Y8g0YPQtNCw0LvQtdC90LjRjyDQsdGN0LrQsNC/0LAg0LjQu9C4IDAg0LTQu9GPINCy0YvRhdC+0LTQsHsnJzo8Mzh9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KGFjdGlvbnNfYm94KQoKICAgICAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+OryDQktGL0LHQvtGAOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgICAgIGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZWxpZiBjaG9pY2UuaXNkaWdpdCgpIGFuZCAxIDw9IGludChjaG9pY2UpIDw9IGxlbihiYWNrdXBfZm9sZGVycyk6CiAgICAgICAgICAgICAgICBmb2xkZXJfdG9fZGVsZXRlID0gYmFja3VwX2ZvbGRlcnNbaW50KGNob2ljZSkgLSAxXQogICAgICAgICAgICAgICAgY29uZmlybSA9IGlucHV0KGYie0NvbG9ycy5SRUR94pqg77iPINCj0LTQsNC70LjRgtGMINCx0Y3QutCw0L8ge2ZvbGRlcl90b19kZWxldGV9PyAoeS9OKToge0NvbG9ycy5SRVNFVH0iKS5sb3dlcigpCgogICAgICAgICAgICAgICAgaWYgY29uZmlybSBpbiBbJ3knLCAneWVzJ106CiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnQgc2h1dGlsCiAgICAgICAgICAgICAgICAgICAgICAgIHNodXRpbC5ybXRyZWUoZm9sZGVyX3RvX2RlbGV0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQkdGN0LrQsNC/IHtmb2xkZXJfdG9fZGVsZXRlfSDRg9C00LDQu9C10L17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjzoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiByZXN0b3JlX2JhY2t1cChzZWxmKToKICAgICAgICBwcmludChmIntDb2xvcnMuQkxVRX3wn5SnINCS0L7RgdGB0YLQsNC90L7QstC70LXQvdC40LUgLSDQsdCw0LfQvtCy0LDRjyDRgNC10LDQu9C40LfQsNGG0LjRj3tDb2xvcnMuUkVTRVR9IikKICAgICAgICBwcmludChmIntDb2xvcnMuWUVMTE9XffCfkqEg0JTQu9GPINCy0L7RgdGB0YLQsNC90L7QstC70LXQvdC40Y8g0YHQutC+0L/QuNGA0YPQudGC0LUg0YTQsNC50LvRiyDQuNC3INC/0LDQv9C60Lgg0LHRjdC60LDQv9CwINCy0YDRg9GH0L3Rg9GOe0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGF1dG9fYmFja3VwX3NldHRpbmdzKHNlbGYpOgogICAgICAgIHNldHRpbmdzX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+wINCQ0JLQotCe0JzQkNCi0JjQp9CV0KHQmtCY0JUg0JHQrdCa0JDQn9CrICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg8J+UpyDQpNGD0L3QutGG0LjRjyDQsiDRgNCw0LfRgNCw0LHQvtGC0LrQtSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogIPCfkqEg0J/Qu9Cw0L3QuNGA0YPQtdGC0YHRjyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQvtC1INGB0L7Qt9C00LDQvdC40LUg0LHRjdC60LDQv9C+0LIg0L/QviDRgNCw0YHQv9C40YHQsNC90LjRjiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoc2V0dGluZ3NfYm94KQogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHByb2ZpbGVfbWVudShzZWxmKToKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBjbGVhcl9zY3JlZW4oKQoKICAgICAgICAgICAgcHJvZmlsZV9oZWFkZXIgPSBmIiIiCntDb2xvcnMuTUFHRU5UQX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+RpCDQo9Cf0KDQkNCS0JvQldCd0JjQlSDQn9Cg0J7QpNCY0JvQldCcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZmlsZV9oZWFkZXIpCgogICAgICAgICAgICBwcm9maWxlX21lbnVfaXRlbXMgPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAxLiDihLnvuI8gINCY0L3RhNC+0YDQvNCw0YbQuNGPINC+INC/0YDQvtGE0LjQu9C1eycnOjw1OH0gIAogIDIuIOKcj++4jyAg0JjQt9C80LXQvdC40YLRjCDQuNC80Y97Jyc6PDY2fSAgCiAgMy4g8J+TnSDQmNC30LzQtdC90LjRgtGMINC+0L/QuNGB0LDQvdC40LUgKGJpbyl7Jyc6PDU1fSAgCiAgNC4g8J+WvO+4jyAg0JjQt9C80LXQvdC40YLRjCDRhNC+0YLQviDQv9GA0L7RhNC40LvRj3snJzo8NTZ9ICAKICA1LiDwn5GkINCY0LfQvNC10L3QuNGC0YwgdXNlcm5hbWV7Jyc6PDYxfSAgCiAgNi4g8J+UkiDQndCw0YHRgtGA0L7QudC60Lgg0L/RgNC40LLQsNGC0L3QvtGB0YLQuHsnJzo8NTd9ICAKICA3LiDwn5OKINCh0YLQsNGC0LjRgdGC0LjQutCwINC/0YDQvtGE0LjQu9GPeycnOjw1OX0gIAogIDguIPCflIQg0J7QsdC90L7QstC40YLRjCDRgdGC0LDRgtGD0YF7Jyc6PDYzfSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZmlsZV9tZW51X2l0ZW1zKQoKICAgICAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+OryDQktGL0LHQvtGAOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnNob3dfcHJvZmlsZV9pbmZvKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5jaGFuZ2VfbmFtZSgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICIzIjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuY2hhbmdlX2JpbygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI0IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuY2hhbmdlX3Byb2ZpbGVfcGhvdG8oKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiNSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmNoYW5nZV91c2VybmFtZSgpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI2IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYucHJpdmFjeV9zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI3IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYucHJvZmlsZV9zdGF0aXN0aWNzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjgiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi51cGRhdGVfc3RhdHVzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjAiOgogICAgICAgICAgICAgICAgYnJlYWsKCiAgICBhc3luYyBkZWYgc2hvd19wcm9maWxlX2luZm8oc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBtZSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X21lKCkKICAgICAgICAgICAgZnVsbF91c2VyID0gYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMudXNlcnMuR2V0RnVsbFVzZXJSZXF1ZXN0KG1lKSkKCiAgICAgICAgICAgIHByb2ZpbGVfaW5mbyA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDihLnvuI8g0JjQndCk0J7QoNCc0JDQptCY0K8g0J4g0J/QoNCe0KTQmNCb0JUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIPCfhpQgSUQ6ICAgICAgICAgICB7bWUuaWQ6PDczfSAgCiAg8J+RpCDQmNC80Y86ICAgICAgICAgIHttZS5maXJzdF9uYW1lIG9yICfQndC1INGD0LrQsNC30LDQvdC+Jzo8NzN9ICAKICDwn5GkINCk0LDQvNC40LvQuNGPOiAgICAgIHttZS5sYXN0X25hbWUgb3IgJ9Cd0LUg0YPQutCw0LfQsNC90L4nOjw3M30gIAogIPCfkqwgVXNlcm5hbWU6ICAgICBAe21lLnVzZXJuYW1lIGlmIG1lLnVzZXJuYW1lIGVsc2UgJ9Cd0LUg0YPRgdGC0LDQvdC+0LLQu9C10L0nOjw3Mn0gIAogIPCfk54g0KLQtdC70LXRhNC+0L06ICAgICAge21lLnBob25lIG9yICfQndC1INGD0LrQsNC30LDQvSc6PDczfSAgCiAg8J+TnSDQntC/0LjRgdCw0L3QuNC1OiAgICAge2dldGF0dHIoZnVsbF91c2VyLmZ1bGxfdXNlciwgJ2Fib3V0JywgJ9Cd0LUg0YPQutCw0LfQsNC90L4nKVs6NjBdOjw3M30gIAogIPCflJIgMkZBOiAgICAgICAgICB7J9CS0LrQu9GO0YfQtdC9JyBpZiBtZS5oYXNfcGFzc3dvcmQgZWxzZSAn0JLRi9C60LvRjtGH0LXQvSc6PDczfSAgCiAg4pyFINCS0LXRgNC40YTQuNGG0LjRgNC+0LLQsNC9OiB7J9CU0LAnIGlmIG1lLnZlcmlmaWVkIGVsc2UgJ9Cd0LXRgic6PDczfSAgCiAg8J+kliDQkdC+0YI6ICAgICAgICAgIHsn0JTQsCcgaWYgbWUuYm90IGVsc2UgJ9Cd0LXRgic6PDczfSAgCiAg8J+ThSDQlNCw0YLQsCDRgNC10LMuOiAgICB7bWUuc3RhdHVzLndhc19vbmxpbmUuc3RyZnRpbWUoJyVkLiVtLiVZJykgaWYgaGFzYXR0cihtZS5zdGF0dXMsICd3YXNfb25saW5lJykgZWxzZSAn0J3QtdC40LfQstC10YHRgtC90L4nOjw3M30gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQocHJvZmlsZV9pbmZvKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/RgNC+0YTQuNC70LU6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgY2hhbmdlX25hbWUoc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgY3VycmVudF9tZSA9IGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQuZ2V0X21lKCkKICAgICAgICBwcmludChmIntDb2xvcnMuQkxVRX3wn5OdINCi0LXQutGD0YnQtdC1INC40LzRjzoge2N1cnJlbnRfbWUuZmlyc3RfbmFtZX0ge2N1cnJlbnRfbWUubGFzdF9uYW1lIG9yICcnfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgbmV3X2ZpcnN0X25hbWUgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn5GkINCd0L7QstC+0LUg0LjQvNGPOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKICAgICAgICBuZXdfbGFzdF9uYW1lID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+RpCDQndC+0LLQsNGPINGE0LDQvNC40LvQuNGPICjQvtC/0YbQuNC+0L3QsNC70YzQvdC+KToge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgIGlmIG5vdCBuZXdfZmlyc3RfbmFtZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0JjQvNGPINC90LUg0LzQvtC20LXRgiDQsdGL0YLRjCDQv9GD0YHRgtGL0Lx7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQoZnVuY3Rpb25zLmFjY291bnQuVXBkYXRlUHJvZmlsZVJlcXVlc3QoCiAgICAgICAgICAgICAgICBmaXJzdF9uYW1lPW5ld19maXJzdF9uYW1lLAogICAgICAgICAgICAgICAgbGFzdF9uYW1lPW5ld19sYXN0X25hbWUgaWYgbmV3X2xhc3RfbmFtZSBlbHNlICIiCiAgICAgICAgICAgICkpCgogICAgICAgICAgICBzdWNjZXNzX2JveCA9IGYiIiIKe0NvbG9ycy5HUkVFTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKchSDQmNCc0K8g0JjQl9Cc0JXQndCV0J3QniAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0J3QvtCy0L7QtSDQuNC80Y86IHtuZXdfZmlyc3RfbmFtZX0ge25ld19sYXN0X25hbWV9eycnOjw2NX0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc3VjY2Vzc19ib3gpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC40LfQvNC10L3QtdC90LjRjyDQuNC80LXQvdC4OiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGNoYW5nZV9iaW8oc2VsZik6CiAgICAgICAgbmV3X2JpbyA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk50g0J3QvtCy0L7QtSDQvtC/0LjRgdCw0L3QuNC1ICjQtNC+IDcwINGB0LjQvNCy0L7Qu9C+0LIpOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgaWYgbGVuKG5ld19iaW8pID4gNzA6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0L/QuNGB0LDQvdC40LUg0YHQu9C40YjQutC+0Lwg0LTQu9C40L3QvdC+0LUgKNC80LDQutGB0LjQvNGD0LwgNzAg0YHQuNC80LLQvtC70L7Qsil7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGF3YWl0IHNlbGYubWFuYWdlci5jbGllbnQoZnVuY3Rpb25zLmFjY291bnQuVXBkYXRlUHJvZmlsZVJlcXVlc3QoCiAgICAgICAgICAgICAgICBhYm91dD1uZXdfYmlvCiAgICAgICAgICAgICkpCiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J7Qv9C40YHQsNC90LjQtSDQv9GA0L7RhNC40LvRjyDQuNC30LzQtdC90LXQvdC+e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQuNC30LzQtdC90LXQvdC40Y8g0L7Qv9C40YHQsNC90LjRjzoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBjaGFuZ2VfcHJvZmlsZV9waG90byhzZWxmKToKICAgICAgICBwaG90b19wYXRoID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+WvO+4jyDQn9GD0YLRjCDQuiDQvdC+0LLQvtC80YMg0YTQvtGC0L4g0L/RgNC+0YTQuNC70Y86IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICBpZiBub3QgcGhvdG9fcGF0aCBvciBub3Qgb3MucGF0aC5leGlzdHMocGhvdG9fcGF0aCk6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCk0LDQudC7INC90LUg0L3QsNC50LTQtdC9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50KGZ1bmN0aW9ucy5waG90b3MuVXBsb2FkUHJvZmlsZVBob3RvUmVxdWVzdCgKICAgICAgICAgICAgICAgIGZpbGU9YXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudC51cGxvYWRfZmlsZShwaG90b19wYXRoKQogICAgICAgICAgICApKQogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCk0L7RgtC+INC/0YDQvtGE0LjQu9GPINC40LfQvNC10L3QtdC90L57Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC40LfQvNC10L3QtdC90LjRjyDRhNC+0YLQvjoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBjaGFuZ2VfdXNlcm5hbWUoc2VsZik6CiAgICAgICAgbmV3X3VzZXJuYW1lID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+RpCDQndC+0LLRi9C5IHVzZXJuYW1lICjQsdC10LcgQCk6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICBpZiBub3QgbmV3X3VzZXJuYW1lOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCBVc2VybmFtZSDQvdC1INC80L7QttC10YIg0LHRi9GC0Ywg0L/Rg9GB0YLRi9C8e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50KGZ1bmN0aW9ucy5hY2NvdW50LlVwZGF0ZVVzZXJuYW1lUmVxdWVzdCgKICAgICAgICAgICAgICAgIHVzZXJuYW1lPW5ld191c2VybmFtZQogICAgICAgICAgICApKQogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFIFVzZXJuYW1lINC40LfQvNC10L3QtdC9INC90LAgQHtuZXdfdXNlcm5hbWV9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQuNC30LzQtdC90LXQvdC40Y8gdXNlcm5hbWU6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgcHJpdmFjeV9zZXR0aW5ncyhzZWxmKToKICAgICAgICBwcml2YWN5X2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UkiDQndCQ0KHQotCg0J7QmdCa0Jgg0J/QoNCY0JLQkNCi0J3QntCh0KLQmCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg8J+UpyDQpNGD0L3QutGG0LjRjyDQsiDRgNCw0LfRgNCw0LHQvtGC0LrQtSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogIPCfkqEg0JfQtNC10YHRjCDQsdGD0LTRg9GCINC90LDRgdGC0YDQvtC50LrQuCDQstC40LTQuNC80L7RgdGC0Lgg0L3QvtC80LXRgNCwLCDRgdGC0LDRgtGD0YHQsCDQuCDRgi7QtC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQocHJpdmFjeV9ib3gpCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgcHJvZmlsZV9zdGF0aXN0aWNzKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgbWUgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9tZSgpCiAgICAgICAgICAgIGRpYWxvZ3MgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9kaWFsb2dzKCkKICAgICAgICAgICAgY29udGFjdHMgPSBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50LmdldF9jb250YWN0cygpCgogICAgICAgICAgICB0b3RhbF9zZW50ID0gMAogICAgICAgICAgICB0b3RhbF9yZWNlaXZlZCA9IDAKCiAgICAgICAgICAgIGZvciBkaWFsb2cgaW4gZGlhbG9nc1s6MjBdOgogICAgICAgICAgICAgICAgYXN5bmMgZm9yIG1lc3NhZ2UgaW4gc2VsZi5tYW5hZ2VyLmNsaWVudC5pdGVyX21lc3NhZ2VzKGRpYWxvZy5lbnRpdHksIGxpbWl0PTUwKToKICAgICAgICAgICAgICAgICAgICBpZiBtZXNzYWdlLnNlbmRlcl9pZCA9PSBtZS5pZDoKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfc2VudCArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfcmVjZWl2ZWQgKz0gMQoKICAgICAgICAgICAgc3RhdHNfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiiDQodCi0JDQotCY0KHQotCY0JrQkCDQn9Cg0J7QpNCY0JvQryAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDwn5GkINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjDogICAgICAgIHttZS5maXJzdF9uYW1lfSB7bWUubGFzdF9uYW1lIG9yICcnfXsnJzo8NTV9ICAKICDwn5KsINCS0YHQtdCz0L4g0YfQsNGC0L7QsjogICAgICAgICB7bGVuKGRpYWxvZ3MpOjw2NH0gIAogIPCfk54g0JrQvtC90YLQsNC60YLQvtCyOiAgICAgICAgICAge2xlbihjb250YWN0cyk6PDY0fSAgCiAg8J+TpCDQntGC0L/RgNCw0LLQu9C10L3QviDRgdC+0L7QsdGJ0LXQvdC40Lk6IHt0b3RhbF9zZW50Ojw2NH0gIAogIPCfk6Ug0J/QvtC70YPRh9C10L3QviDRgdC+0L7QsdGJ0LXQvdC40Lk6ICB7dG90YWxfcmVjZWl2ZWQ6PDY0fSAgCiAg8J+TiiDQodC+0L7RgtC90L7RiNC10L3QuNC1OiAgICAgICAgIHt0b3RhbF9zZW50IC8gKHRvdGFsX3JlY2VpdmVkICsgMSk6LjJmfXsnJzo8NjR9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIHByaW50KHN0YXRzX2JveCkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINGB0YLQsNGC0LjRgdGC0LjQutC4OiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHVwZGF0ZV9zdGF0dXMoc2VsZik6CiAgICAgICAgc3RhdHVzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCflIQg0J7QkdCd0J7QktCb0JXQndCY0JUg0KHQotCQ0KLQo9Ch0JAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAgMS4g8J+foiDQntC90LvQsNC50L17Jyc6PDc2fSAgCiAgMi4g8J+UtCDQndC10LTQsNCy0L3QvnsnJzo8NzV9ICAKICAzLiDwn5OxINCSINC80L7QsdC40LvRjNC90L7QvCDQv9GA0LjQu9C+0LbQtdC90LjQuHsnJzo8NjB9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChzdGF0dXNfYm94KQoKICAgICAgICBjaG9pY2UgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn46vINCS0YvQsdC10YDQuNGC0LUg0YHRgtCw0YLRg9GBOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLmNsaWVudChmdW5jdGlvbnMuYWNjb3VudC5VcGRhdGVTdGF0dXNSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgIG9mZmxpbmU9RmFsc2UKICAgICAgICAgICAgICAgICkpCiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCh0YLQsNGC0YPRgSDQuNC30LzQtdC90LXQvSDQvdCwICfQntC90LvQsNC50L0ne0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY2xpZW50KGZ1bmN0aW9ucy5hY2NvdW50LlVwZGF0ZVN0YXR1c1JlcXVlc3QoCiAgICAgICAgICAgICAgICAgICAgb2ZmbGluZT1UcnVlCiAgICAgICAgICAgICAgICApKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkdSRUVOfeKchSDQodGC0LDRgtGD0YEg0LjQt9C80LXQvdC10L0g0L3QsCAn0J3QtdC00LDQstC90L4ne0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5KhINCU0YDRg9Cz0LjQtSDRgdGC0LDRgtGD0YHRiyDQsiDRgNCw0LfRgNCw0LHQvtGC0LrQtXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCDQntGI0LjQsdC60LAg0LjQt9C80LXQvdC10L3QuNGPINGB0YLQsNGC0YPRgdCwOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHNldHRpbmdzX21lbnUoc2VsZik6CiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgICAgIHNldHRpbmdzX2hlYWRlciA9IGYiIiIKe0NvbG9ycy5ZRUxMT1d94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDimpnvuI8g0J3QkNCh0KLQoNCe0JnQmtCYICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc2V0dGluZ3NfaGVhZGVyKQoKICAgICAgICAgICAgc2V0dGluZ3NfbWVudV9pdGVtcyA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogIDEuIPCflJEg0J3QsNGB0YLRgNC+0LnQutC4IEFQSXsnJzo8NjV9ICAKICAyLiDwn5OBINCj0L/RgNCw0LLQu9C10L3QuNC1INGB0LXRgdGB0LjRj9C80Lh7Jyc6PDU5fSAgCiAgMy4g8J+OqCDQndCw0YHRgtGA0L7QudC60Lgg0LjQvdGC0LXRgNGE0LXQudGB0LB7Jyc6PDU4fSAgCiAgNC4g8J+TiiDQndCw0YHRgtGA0L7QudC60Lgg0LvQvtCz0LjRgNC+0LLQsNC90LjRj3snJzo8NTd9ICAKICA1LiDwn5SUINCd0LDRgdGC0YDQvtC50LrQuCDRg9Cy0LXQtNC+0LzQu9C10L3QuNC5eycnOjw1Nn0gIAogIDYuIPCfjJAg0J3QsNGB0YLRgNC+0LnQutC4INC/0YDQvtC60YHQuHsnJzo8NjJ9ICAKICA3LiDwn5OlINCY0LzQv9C+0YDRgi/QrdC60YHQv9C+0YDRgiDQvdCw0YHRgtGA0L7QtdC6eycnOjw1M30gIAogIDguIPCflIQg0KHQsdGA0L7RgSDQuiDQt9Cw0LLQvtC00YHQutC40Lx7Jyc6PDYxfSAgCiAgOS4g4oS577iPICDQniDQv9GA0L7Qs9GA0LDQvNC80LV7Jyc6PDY3fSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICAgICAiIiIKICAgICAgICAgICAgcHJpbnQoc2V0dGluZ3NfbWVudV9pdGVtcykKCiAgICAgICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5hcGlfc2V0dGluZ3MoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLnNlc3Npb25fc2V0dGluZ3MoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmludGVyZmFjZV9zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI0IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYubG9nZ2luZ19zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI1IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYubm90aWZpY2F0aW9uX3NldHRpbmdzKCkKICAgICAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjYiOgogICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5wcm94eV9zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI3IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuaW1wb3J0X2V4cG9ydF9zZXR0aW5ncygpCiAgICAgICAgICAgIGVsaWYgY2hvaWNlID09ICI4IjoKICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYucmVzZXRfc2V0dGluZ3MoKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiOSI6CiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmFib3V0X3Byb2dyYW0oKQogICAgICAgICAgICBlbGlmIGNob2ljZSA9PSAiMCI6CiAgICAgICAgICAgICAgICBicmVhawoKICAgIGFzeW5jIGRlZiBhcGlfc2V0dGluZ3Moc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgaW1wb3J0IGZnYWR2bWFuYWdlcl9tYWluIGFzIG1haW5fbW9kdWxlCgogICAgICAgIGN1cnJlbnRfYXBpX2luZm8gPSBmIiIiCntDb2xvcnMuQkxVRX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SRINCi0JXQmtCj0KnQmNCVIEFQSSDQndCQ0KHQotCg0J7QmdCa0JggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIEFQSSBJRDogICB7bWFpbl9tb2R1bGUuQ29uZmlnLkFQSV9JRCBvciAn0J3QtSDQvdCw0YHRgtGA0L7QtdC9Jzo8NzR9ICAKICBBUEkgSGFzaDogeycqKionICsgc3RyKG1haW5fbW9kdWxlLkNvbmZpZy5BUElfSEFTSClbLTEwOl0gaWYgbWFpbl9tb2R1bGUuQ29uZmlnLkFQSV9IQVNIIGVsc2UgJ9Cd0LUg0L3QsNGB0YLRgNC+0LXQvSc6PDc0fSAgCiAg0KHRgtCw0YLRg9GBOiAgIHsn4pyFINCQ0LrRgtC40LLQtdC9JyBpZiBtYWluX21vZHVsZS5Db25maWcudmFsaWRhdGVfYXBpX2NyZWRlbnRpYWxzKCkgZWxzZSAn4p2MINCd0LUg0L3QsNGB0YLRgNC+0LXQvSc6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoY3VycmVudF9hcGlfaW5mbykKCiAgICAgICAgYXBpX21lbnUgPSBmIiIiCntDb2xvcnMuWUVMTE9XfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JTQldCZ0KHQotCS0JjQryAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAgMS4g8J+UhCDQntCx0L3QvtCy0LjRgtGMIEFQSSDQtNCw0L3QvdGL0LV7Jyc6PDYxfSAgCiAgMi4g8J+SviDQodC+0YXRgNCw0L3QuNGC0Ywg0L3QsNGB0YLRgNC+0LnQutC4eycnOjw2MH0gIAogIDMuIPCflI0g0J/RgNC+0LLQtdGA0LjRgtGMINCy0LDQu9C40LTQvdC+0YHRgtGMeycnOjw1OX0gIAogIDAuIOKshe+4jyAg0J3QsNC30LDQtHsnJzo8NzR9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChhcGlfbWVudSkKCiAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+OryDQktGL0LHQvtGAOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLnNldHVwX2NyZWRlbnRpYWxzKCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgIG1haW5fbW9kdWxlLkNvbmZpZy5zYXZlX3RvX2ZpbGUoKQogICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCd0LDRgdGC0YDQvtC50LrQuCDRgdC+0YXRgNCw0L3QtdC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjMiOgogICAgICAgICAgICBpZiBtYWluX21vZHVsZS5Db25maWcudmFsaWRhdGVfYXBpX2NyZWRlbnRpYWxzKCk6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFIEFQSSDQtNCw0L3QvdGL0LUg0LLQsNC70LjQtNC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuUkVEfeKdjCBBUEkg0LTQsNC90L3Ri9C1INC90LXQutC+0YDRgNC10LrRgtC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHNlc3Npb25fc2V0dGluZ3Moc2VsZik6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKCiAgICAgICAgc2Vzc2lvbl9pbmZvID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OBINCj0J/QoNCQ0JLQm9CV0J3QmNCVINCh0JXQodCh0JjQr9Cc0JggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg0KLQtdC60YPRidCw0Y8g0YHQtdGB0YHQuNGPOiB7c2VsZi5tYW5hZ2VyLmN1cnJlbnRfc2Vzc2lvbiBvciAn0J3QtSDQstGL0LHRgNCw0L3QsCc6PDY1fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoc2Vzc2lvbl9pbmZvKQoKICAgICAgICBzZXNzaW9uX21lbnUgPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAxLiDwn5OLINCh0L/QuNGB0L7QuiDQstGB0LXRhSDRgdC10YHRgdC40Ll7Jyc6PDU5fSAgCiAgMi4g4p6VINCh0L7Qt9C00LDRgtGMINC90L7QstGD0Y4g0YHQtdGB0YHQuNGOeycnOjw1OH0gIAogIDMuIPCflIQg0J/QtdGA0LXQutC70Y7Rh9C40YLRjCDRgdC10YHRgdC40Y57Jyc6PDYwfSAgCiAgNC4g8J+Xke+4jyDQo9C00LDQu9C40YLRjCDRgdC10YHRgdC40Y57Jyc6PDY0fSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KHNlc3Npb25fbWVudSkKCiAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+OryDQktGL0LHQvtGAOiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgYXdhaXQgc2VsZi5tYW5hZ2VyLnZhbGlkYXRlX2FsbF9zZXNzaW9ucygpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICBhd2FpdCBzZWxmLm1hbmFnZXIuY3JlYXRlX25ld19zZXNzaW9uKCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgIGlmIG5vdCBhd2FpdCBzZWxmLm1hbmFnZXIuc2VsZWN0X3Nlc3Npb24oKToKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QtdGA0LXQutC70Y7Rh9C40YLRjCDRgdC10YHRgdC40Y57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICBhd2FpdCBzZWxmLmRlbGV0ZV9zZXNzaW9uKCkKCiAgICBhc3luYyBkZWYgZGVsZXRlX3Nlc3Npb24oc2VsZik6CiAgICAgICAgaW1wb3J0IGdsb2IKICAgICAgICBzZXNzaW9uX2ZpbGVzID0gZ2xvYi5nbG9iKCIqLnNlc3Npb24iKQoKICAgICAgICBpZiBub3Qgc2Vzc2lvbl9maWxlczoKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5OtINCk0LDQudC70Ysg0YHQtdGB0YHQuNC5INC90LUg0L3QsNC50LTQtdC90Yt7Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBwcmludChmIntDb2xvcnMuQkxVRX3wn5OLINCU0L7RgdGC0YPQv9C90YvQtSDRgdC10YHRgdC40Lg6e0NvbG9ycy5SRVNFVH0iKQogICAgICAgIGZvciBpLCBzZXNzaW9uX2ZpbGUgaW4gZW51bWVyYXRlKHNlc3Npb25fZmlsZXMsIDEpOgogICAgICAgICAgICBzZXNzaW9uX25hbWUgPSBzZXNzaW9uX2ZpbGUucmVwbGFjZSgiLnNlc3Npb24iLCAiIikKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLkNZQU59e2l9LiB7c2Vzc2lvbl9uYW1lfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgY2hvaWNlID0gaW5wdXQoZiJ7Q29sb3JzLkNZQU598J+Xke+4jyDQndC+0LzQtdGAINGB0LXRgdGB0LjQuCDQtNC70Y8g0YPQtNCw0LvQtdC90LjRjyAoMCAtINC+0YLQvNC10L3QsCk6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICBpZiBjaG9pY2UgPT0gIjAiIG9yIG5vdCBjaG9pY2UuaXNkaWdpdCgpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgY2hvaWNlID0gaW50KGNob2ljZSkKICAgICAgICBpZiAxIDw9IGNob2ljZSA8PSBsZW4oc2Vzc2lvbl9maWxlcyk6CiAgICAgICAgICAgIHNlc3Npb25fdG9fZGVsZXRlID0gc2Vzc2lvbl9maWxlc1tjaG9pY2UgLSAxXQogICAgICAgICAgICBzZXNzaW9uX25hbWUgPSBzZXNzaW9uX3RvX2RlbGV0ZS5yZXBsYWNlKCIuc2Vzc2lvbiIsICIiKQoKICAgICAgICAgICAgY29uZmlybSA9IGlucHV0KGYie0NvbG9ycy5SRUR94pqg77iPINCj0LTQsNC70LjRgtGMINGB0LXRgdGB0LjRjiAne3Nlc3Npb25fbmFtZX0nPyAoeS9OKToge0NvbG9ycy5SRVNFVH0iKS5sb3dlcigpCiAgICAgICAgICAgIGlmIGNvbmZpcm0gaW4gWyd5JywgJ3llcyddOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZShzZXNzaW9uX3RvX2RlbGV0ZSkKICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCh0LXRgdGB0LjRjyAne3Nlc3Npb25fbmFtZX0nINGD0LTQsNC70LXQvdCwe0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGludGVyZmFjZV9zZXR0aW5ncyhzZWxmKToKICAgICAgICBpbnRlcmZhY2VfYm94ID0gZiIiIgp7Q29sb3JzLkdSRUVOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn46oINCd0JDQodCi0KDQntCZ0JrQmCDQmNCd0KLQldCg0KTQldCZ0KHQkCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIPCflKcg0KTRg9C90LrRhtC40Y8g0LIg0YDQsNC30YDQsNCx0L7RgtC60LUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICDwn5KhINCf0LvQsNC90LjRgNGD0LXRgtGB0Y8g0L3QsNGB0YLRgNC+0LnQutCwINGG0LLQtdGC0L7Qsiwg0Y/Qt9GL0LrQsCwg0YLQtdC80Ysg0L7RhNC+0YDQvNC70LXQvdC40Y8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoaW50ZXJmYWNlX2JveCkKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBsb2dnaW5nX3NldHRpbmdzKHNlbGYpOgogICAgICAgIGxvZ2dpbmdfYm94ID0gZiIiIgp7Q29sb3JzLkJMVUV94pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4og0J3QkNCh0KLQoNCe0JnQmtCYINCb0J7Qk9CY0KDQntCS0JDQndCY0K8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIPCfk4Qg0KTQsNC50Lsg0LvQvtCz0L7QsjogICAgICAgICAgZmdhZHZtYW5hZ2VyLmxvZ3snJzo8NTR9ICAKICDwn5OKINCj0YDQvtCy0LXQvdGMINC70L7Qs9C40YDQvtCy0LDQvdC40Y86IElORk97Jyc6PDY1fSAgCiAg8J+SviDQoNCw0LfQvNC10YAg0YTQsNC50LvQsDogICAgICAgIHtvcy5wYXRoLmdldHNpemUoJ2ZnYWR2bWFuYWdlci5sb2cnKSAvIDEwMjQ6LjFmfSBLQnsnJzo8NTh9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChsb2dnaW5nX2JveCkKCiAgICAgICAgbG9nX21lbnUgPSBmIiIiCntDb2xvcnMuQ1lBTn3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAxLiDwn5OWINCf0YDQvtGB0LzQvtGC0YDQtdGC0Ywg0LvQvtCz0Lh7Jyc6PDYyfSAgCiAgMi4g8J+Xke+4jyDQntGH0LjRgdGC0LjRgtGMINC70L7Qs9C4eycnOjw2NX0gIAogIDMuIPCfk4Eg0J7RgtC60YDRi9GC0Ywg0L/QsNC/0LrRgyDRgSDQu9C+0LPQsNC80Lh7Jyc6PDU3fSAgCiAgMC4g4qyF77iPICDQndCw0LfQsNC0eycnOjw3NH0gIArilJfilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJt7Q29sb3JzLlJFU0VUfQogICAgICAgICIiIgogICAgICAgIHByaW50KGxvZ19tZW51KQoKICAgICAgICBjaG9pY2UgPSBpbnB1dChmIntDb2xvcnMuQ1lBTn3wn46vINCS0YvQsdC+0YA6IHtDb2xvcnMuUkVTRVR9Iikuc3RyaXAoKQoKICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oJ2ZnYWR2bWFuYWdlci5sb2cnLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgbG9ncyA9IGYucmVhZGxpbmVzKCkKCiAgICAgICAgICAgICAgICBwcmludChmIlxue0NvbG9ycy5CTFVFffCfk5Yg0J/QvtGB0LvQtdC00L3QuNC1IDIwINC30LDQv9C40YHQtdC5INC70L7Qs9C+0LI6e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgZm9yIGxpbmUgaW4gbG9nc1stMjA6XToKICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JBWX17bGluZS5zdHJpcCgpfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINGH0YLQtdC90LjRjyDQu9C+0LPQvtCyOiB7ZX17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGVsaWYgY2hvaWNlID09ICIyIjoKICAgICAgICAgICAgY29uZmlybSA9IGlucHV0KGYie0NvbG9ycy5SRUR94pqg77iPINCe0YfQuNGB0YLQuNGC0Ywg0LLRgdC1INC70L7Qs9C4PyAoeS9OKToge0NvbG9ycy5SRVNFVH0iKS5sb3dlcigpCiAgICAgICAgICAgIGlmIGNvbmZpcm0gaW4gWyd5JywgJ3llcyddOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbignZmdhZHZtYW5hZ2VyLmxvZycsICd3JykgYXMgZjoKICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZSgiIikKICAgICAgICAgICAgICAgICAgICBwcmludChmIntDb2xvcnMuR1JFRU594pyFINCb0L7Qs9C4INC+0YfQuNGJ0LXQvdGLe0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQvtGH0LjRgdGC0LrQuDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgIGltcG9ydCBzdWJwcm9jZXNzCiAgICAgICAgICAgIGltcG9ydCBwbGF0Zm9ybSBhcyBwbHQKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWYgcGx0LnN5c3RlbSgpID09ICJXaW5kb3dzIjoKICAgICAgICAgICAgICAgICAgICBvcy5zdGFydGZpbGUoIiIpCiAgICAgICAgICAgICAgICBlbGlmIHBsdC5zeXN0ZW0oKSA9PSAiRGFyd2luIjoKICAgICAgICAgICAgICAgICAgICBzdWJwcm9jZXNzLnJ1bihbIm9wZW4iLCAiLiJdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBzdWJwcm9jZXNzLnJ1bihbInhkZy1vcGVuIiwgIi4iXSkKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J/QsNC/0LrQsCDQvtGC0LrRgNGL0YLQsHtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINC+0YLQutGA0YvRgtC40Y8g0L/QsNC/0LrQuDoge2V9e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQoKICAgIGFzeW5jIGRlZiBub3RpZmljYXRpb25fc2V0dGluZ3Moc2VsZik6CiAgICAgICAgbm90aWZpY2F0aW9uX2JveCA9IGYiIiIKe0NvbG9ycy5NQUdFTlRBfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SUINCd0JDQodCi0KDQntCZ0JrQmCDQo9CS0JXQlNCe0JzQm9CV0J3QmNCZICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDwn5SnINCk0YPQvdC60YbQuNGPINCyINGA0LDQt9GA0LDQsdC+0YLQutC1ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAg8J+SoSDQn9C70LDQvdC40YDRg9C10YLRgdGPINC90LDRgdGC0YDQvtC50LrQsCDQt9Cy0YPQutC+0LLRi9GFINC4INCy0LjQt9GD0LDQu9GM0L3Ri9GFINGD0LLQtdC00L7QvNC70LXQvdC40LkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChub3RpZmljYXRpb25fYm94KQogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHByb3h5X3NldHRpbmdzKHNlbGYpOgogICAgICAgIHByb3h5X2JveCA9IGYiIiIKe0NvbG9ycy5DWUFOfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+MkCDQndCQ0KHQotCg0J7QmdCa0Jgg0J/QoNCe0JrQodCYICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg8J+UpyDQpNGD0L3QutGG0LjRjyDQsiDRgNCw0LfRgNCw0LHQvtGC0LrQtSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogIPCfkqEg0J/Qu9Cw0L3QuNGA0YPQtdGC0YHRjyDQv9C+0LTQtNC10YDQttC60LAgSFRUUC9TT0NLUyDQv9GA0L7QutGB0LggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQocHJveHlfYm94KQogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIGltcG9ydF9leHBvcnRfc2V0dGluZ3Moc2VsZik6CiAgICAgICAgaW1wb3J0X2V4cG9ydF9ib3ggPSBmIiIiCntDb2xvcnMuR1JFRU594pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OlINCY0JzQn9Ce0KDQoi/QrdCa0KHQn9Ce0KDQoiDQndCQ0KHQotCg0J7QldCaICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAgMS4g8J+TpCDQrdC60YHQv9C+0YDRgtC40YDQvtCy0LDRgtGMINC90LDRgdGC0YDQvtC50LrQuHsnJzo8NTR9ICAKICAyLiDwn5OlINCY0LzQv9C+0YDRgtC40YDQvtCy0LDRgtGMINC90LDRgdGC0YDQvtC50LrQuHsnJzo8NTV9ICAKICAwLiDirIXvuI8gINCd0LDQt9Cw0LR7Jyc6PDc0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoaW1wb3J0X2V4cG9ydF9ib3gpCgogICAgICAgIGNob2ljZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfjq8g0JLRi9Cx0L7RgDoge0NvbG9ycy5SRVNFVH0iKS5zdHJpcCgpCgogICAgICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlWSVtJWRfJUglTSVTIikKICAgICAgICAgICAgZmlsZW5hbWUgPSBmInNldHRpbmdzX2V4cG9ydF97dGltZXN0YW1wfS5qc29uIgoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaW1wb3J0IGZnYWR2bWFuYWdlcl9tYWluIGFzIG1haW5fbW9kdWxlCiAgICAgICAgICAgICAgICBzZXR0aW5nc19kYXRhID0gewogICAgICAgICAgICAgICAgICAgICJleHBvcnRfZGF0ZSI6IGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpLAogICAgICAgICAgICAgICAgICAgICJhcGlfaWQiOiBtYWluX21vZHVsZS5Db25maWcuQVBJX0lELAogICAgICAgICAgICAgICAgICAgICJhcGlfaGFzaCI6IG1haW5fbW9kdWxlLkNvbmZpZy5BUElfSEFTSCwKICAgICAgICAgICAgICAgICAgICAic2Vzc2lvbl9uYW1lIjogbWFpbl9tb2R1bGUuQ29uZmlnLlNFU1NJT05fTkFNRSwKICAgICAgICAgICAgICAgICAgICAiY3VycmVudF9zZXNzaW9uIjogc2VsZi5tYW5hZ2VyLmN1cnJlbnRfc2Vzc2lvbgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHdpdGggb3BlbihmaWxlbmFtZSwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGpzb24uZHVtcChzZXR0aW5nc19kYXRhLCBmLCBlbnN1cmVfYXNjaWk9RmFsc2UsIGluZGVudD0yKQoKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J3QsNGB0YLRgNC+0LnQutC4INGN0LrRgdC/0L7RgNGC0LjRgNC+0LLQsNC90Ysg0LIge2ZpbGVuYW1lfXtDb2xvcnMuUkVTRVR9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINGN0LrRgdC/0L7RgNGC0LA6IHtlfXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICBmaWxlbmFtZSA9IGlucHV0KGYie0NvbG9ycy5DWUFOffCfk4Eg0J/Rg9GC0Ywg0Log0YTQsNC50LvRgyDQvdCw0YHRgtGA0L7QtdC6OiB7Q29sb3JzLlJFU0VUfSIpLnN0cmlwKCkKCiAgICAgICAgICAgIGlmIGZpbGVuYW1lIGFuZCBvcy5wYXRoLmV4aXN0cyhmaWxlbmFtZSk6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKGZpbGVuYW1lLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzX2RhdGEgPSBqc29uLmxvYWQoZikKCiAgICAgICAgICAgICAgICAgICAgaW1wb3J0IGZnYWR2bWFuYWdlcl9tYWluIGFzIG1haW5fbW9kdWxlCiAgICAgICAgICAgICAgICAgICAgbWFpbl9tb2R1bGUuQ29uZmlnLkFQSV9JRCA9IHNldHRpbmdzX2RhdGEuZ2V0KCJhcGlfaWQiKQogICAgICAgICAgICAgICAgICAgIG1haW5fbW9kdWxlLkNvbmZpZy5BUElfSEFTSCA9IHNldHRpbmdzX2RhdGEuZ2V0KCJhcGlfaGFzaCIpCiAgICAgICAgICAgICAgICAgICAgbWFpbl9tb2R1bGUuQ29uZmlnLnNhdmVfdG9fZmlsZSgpCgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J3QsNGB0YLRgNC+0LnQutC4INC40LzQv9C+0YDRgtC40YDQvtCy0LDQvdGLe0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5SRUR94p2MINCe0YjQuNCx0LrQsCDQuNC80L/QvtGA0YLQsDoge2V9e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0KTQsNC50Lsg0L3QtSDQvdCw0LnQtNC10L17Q29sb3JzLlJFU0VUfSIpCgogICAgICAgIGlucHV0KGYie0NvbG9ycy5ZRUxMT1d90J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINC/0YDQvtC00L7Qu9C20LXQvdC40Y8uLi57Q29sb3JzLlJFU0VUfSIpCgogICAgYXN5bmMgZGVmIHJlc2V0X3NldHRpbmdzKHNlbGYpOgogICAgICAgIHdhcm5pbmdfYm94ID0gZiIiIgp7Q29sb3JzLlJFRH3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDimqDvuI8g0KHQkdCg0J7QoSDQndCQ0KHQotCg0J7QldCaICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIArilKPilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilKsKICDQrdGC0L4g0LTQtdC50YHRgtCy0LjQtSDRg9C00LDQu9C40YIg0JLQodCVINC90LDRgdGC0YDQvtC50LrQuCDQuCDQstC10YDQvdC10YIg0L/RgNC+0LPRgNCw0LzQvNGDINC6INC30LDQstC+0LTRgdC60LjQvCDQt9C90LDRh9C10L3QuNGP0LwhICAgICAgICAgICAgICAKICBBUEkg0LTQsNC90L3Ri9C1INC4INGB0LXRgdGB0LjQuCDQsdGD0LTRg9GCINGD0LTQsNC70LXQvdGLINCR0JXQl9CS0J7Ql9CS0KDQkNCi0J3QniEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludCh3YXJuaW5nX2JveCkKCiAgICAgICAgY29uZmlybSA9IGlucHV0KGYie0NvbG9ycy5SRUR94pqg77iPINCf0L7QtNGC0LLQtdGA0LTQuNGC0LUg0YHQsdGA0L7RgSDQvdCw0YHRgtGA0L7QtdC6ICjQstCy0LXQtNC40YLQtSAnUkVTRVQnKToge0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICBpZiBjb25maXJtID09ICJSRVNFVCI6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKCJjb25maWcuanNvbiIpOgogICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZSgiY29uZmlnLmpzb24iKQoKICAgICAgICAgICAgICAgIHdpdGggb3BlbigiZmdhZHZtYW5hZ2VyLmxvZyIsICd3JykgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKCIiKQoKICAgICAgICAgICAgICAgIHByaW50KGYie0NvbG9ycy5HUkVFTn3inIUg0J3QsNGB0YLRgNC+0LnQutC4INGB0LHRgNC+0YjQtdC90Ysg0Log0LfQsNCy0L7QtNGB0LrQuNC8e0NvbG9ycy5SRVNFVH0iKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33wn5KhINCf0LXRgNC10LfQsNC/0YPRgdGC0LjRgtC1INC/0YDQvtCz0YDQsNC80LzRgyDQtNC70Y8g0L/RgNC40LzQtdC90LXQvdC40Y8g0LjQt9C80LXQvdC10L3QuNC5e0NvbG9ycy5SRVNFVH0iKQoKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLlJFRH3inYwg0J7RiNC40LHQutCwINGB0LHRgNC+0YHQsCDQvdCw0YHRgtGA0L7QtdC6OiB7ZX17Q29sb3JzLlJFU0VUfSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJ7Q29sb3JzLllFTExPV33inYwg0KHQsdGA0L7RgSDQvtGC0LzQtdC90LXQvXtDb2xvcnMuUkVTRVR9IikKCiAgICAgICAgaW5wdXQoZiJ7Q29sb3JzLllFTExPV33QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLntDb2xvcnMuUkVTRVR9IikKCiAgICBhc3luYyBkZWYgYWJvdXRfcHJvZ3JhbShzZWxmKToKICAgICAgICBhYm91dF9ib3ggPSBmIiIiCntDb2xvcnMuTUFHRU5UQX3ilI/ilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilJMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKEue+4jyDQniDQn9Cg0J7Qk9Cg0JDQnNCc0JUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCuKUo+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUqwogIPCfk7Eg0J3QsNC30LLQsNC90LjQtTogICAgIEZHQURWTWFuYWdlcnsnJzo8NjJ9ICAKICDwn5OKINCS0LXRgNGB0LjRjzogICAgICAgMi4wLjB7Jyc6PDcxfSAgCiAg8J+RpSDQoNCw0LfRgNCw0LHQvtGC0YfQuNC60Lg6IEBGR0JydWggJiBAQnJ1aFlvdVRlZXRoeycnOjw1MH0gIAogIPCfkI0gUHl0aG9uOiAgICAgICB7Jy4nLmpvaW4obWFwKHN0ciwgc3lzLnZlcnNpb25faW5mb1s6M10pKTo8NzF9ICAKICDwn5OaINCR0LjQsdC70LjQvtGC0LXQutC4OiAgIFRlbGV0aG9uLCBDb2xvcmFtYXsnJzo8NTh9ICAKICDwn5OFINCU0LDRgtCwOiAgICAgICAgIHtkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJWQuJW0uJVknKTo8NzF9ICAKICDwn4yQIEdpdEh1YjogICAgICAg0J/QvtC60LAg0L/RgNC1INGA0LXQu9C40LcsINC90LAg0YDQtdC70LjQt9C1INCy0YvQu9C+0LbRgyDQvdCwINCz0LjRgtGF0LDQsXsnJzo8NDh9ICAKICDwn5OnINCf0L7QtNC00LXRgNC20LrQsDogICAgQEZHQnJ1aCDQsiBUZWxlZ3JhbXsnJzo8NTh9ICAK4pSX4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSbe0NvbG9ycy5SRVNFVH0KICAgICAgICAiIiIKICAgICAgICBwcmludChhYm91dF9ib3gpCgogICAgICAgIGZlYXR1cmVzX2JveCA9IGYiIiIKe0NvbG9ycy5CTFVFfeKUj+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUkwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5qAINCe0KHQndCe0JLQndCr0JUg0KTQo9Cd0JrQptCY0JggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSj4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSrCiAg4pyFINCj0L/RgNCw0LLQu9C10L3QuNC1INGB0LXRgdGB0LjRj9C80LggVGVsZWdyYW17Jyc6PDU0fSAgCiAg4pyFINCe0YLQv9GA0LDQstC60LAg0Lgg0LzQsNGB0YHQvtCy0LDRjyDRgNCw0YHRgdGL0LvQutCwINGB0L7QvtCx0YnQtdC90LjQuXsnJzo8NDZ9ICAKICDinIUg0KPQv9GA0LDQstC70LXQvdC40LUg0LPRgNGD0L/Qv9Cw0LzQuCDQuCDQutCw0L3QsNC70LDQvNC4eycnOjw1NH0gIAogIOKchSDQoNCw0LHQvtGC0LAg0YEg0LrQvtC90YLQsNC60YLQsNC80Lgg0Lgg0LzQtdC00LjQsHsnJzo8NTh9ICAKICDinIUg0JDQstGC0L7QvNCw0YLQuNC30LDRhtC40Y8g0Lgg0L/Qu9Cw0L3QuNGA0L7QstGJ0LjQunsnJzo8NTh9ICAKICDinIUg0KHRgtCw0YLQuNGB0YLQuNC60LAg0Lgg0LDQvdCw0LvQuNGC0LjQutCweycnOjw2Mn0gIAogIOKchSDQoNC10LfQtdGA0LLQvdC+0LUg0LrQvtC/0LjRgNC+0LLQsNC90LjQtSDQtNCw0L3QvdGL0YV7Jyc6PDU2fSAgCiAg4pyFINCj0L/RgNCw0LLQu9C10L3QuNC1INC/0YDQvtGE0LjQu9C10Lx7Jyc6PDY0fSAgCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUm3tDb2xvcnMuUkVTRVR9CiAgICAgICAgIiIiCiAgICAgICAgcHJpbnQoZmVhdHVyZXNfYm94KQoKICAgICAgICBpbnB1dChmIntDb2xvcnMuWUVMTE9XfdCd0LDQttC80LjRgtC1IEVudGVyINC00LvRjyDQv9GA0L7QtNC+0LvQttC10L3QuNGPLi4ue0NvbG9ycy5SRVNFVH0iKQ==').decode('utf-8'))