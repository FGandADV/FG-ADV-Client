import base64;exec(base64.b64decode('aW1wb3J0IGJhc2U2NAppbXBvcnQgemxpYgppbXBvcnQgbWFyc2hhbAppbXBvcnQgZ3ppcAppbXBvcnQgcGlja2xlCmltcG9ydCBjb2RlY3MKaW1wb3J0IHJlCmltcG9ydCBvcwppbXBvcnQgbHptYQpmcm9tIHVybGxpYi5wYXJzZSBpbXBvcnQgdW5xdW90ZQoKCmRlZiBjcmVhdGVfZ3JhZGllbnQodGV4dCwgc3RhcnRfcmdiPSgyNTUsIDE0MCwgMCksIGVuZF9yZ2I9KDE0OCwgMCwgMjExKSk6CiAgICBsaW5lcywgcmVzdWx0ID0gdGV4dC5zcGxpdGxpbmVzKCksIFtdCiAgICBmb3IgbGluZSBpbiBsaW5lczoKICAgICAgICBjb2xvcmVkX2xpbmUgPSAiIgogICAgICAgIGlmIGxpbmUuc3RyaXAoKToKICAgICAgICAgICAgbGVuZ3RoID0gbGVuKGxpbmUpCiAgICAgICAgICAgIGZvciBpLCBjaGFyIGluIGVudW1lcmF0ZShsaW5lKToKICAgICAgICAgICAgICAgIHJhdGlvID0gaSAvIG1heCgxLCBsZW5ndGggLSAxKQogICAgICAgICAgICAgICAgciA9IGludChzdGFydF9yZ2JbMF0gKiAoMSAtIHJhdGlvKSArIGVuZF9yZ2JbMF0gKiByYXRpbykKICAgICAgICAgICAgICAgIGcgPSBpbnQoc3RhcnRfcmdiWzFdICogKDEgLSByYXRpbykgKyBlbmRfcmdiWzFdICogcmF0aW8pCiAgICAgICAgICAgICAgICBiID0gaW50KHN0YXJ0X3JnYlsyXSAqICgxIC0gcmF0aW8pICsgZW5kX3JnYlsyXSAqIHJhdGlvKQogICAgICAgICAgICAgICAgY29sb3JlZF9saW5lICs9IGYiXDAzM1szODsyO3tyfTt7Z307e2J9bXtjaGFyfVwwMzNbMG0iCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29sb3JlZF9saW5lID0gbGluZQogICAgICAgIHJlc3VsdC5hcHBlbmQoY29sb3JlZF9saW5lKQogICAgcmV0dXJuICJcbiIuam9pbihyZXN1bHQpCgoKZGVmIGI2NF9kZWMoZGF0YSk6CiAgICB0cnk6CiAgICAgICAgcmV0dXJuIGJhc2U2NC5iNjRkZWNvZGUoZGF0YSkuZGVjb2RlKCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiByb3QxM19kZWMoZGF0YSk6CiAgICByZXR1cm4gY29kZWNzLmRlY29kZShkYXRhLCAncm90MTMnKQoKCmRlZiBoZXhfZGVjKGRhdGEpOgogICAgdHJ5OgogICAgICAgIHJldHVybiBieXRlcy5mcm9taGV4KGRhdGEucmVwbGFjZSgnICcsICcnKSkuZGVjb2RlKCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiB6bGliX2RlYyhkYXRhKToKICAgIHRyeToKICAgICAgICByZXR1cm4gemxpYi5kZWNvbXByZXNzKGJhc2U2NC5iNjRkZWNvZGUoZGF0YSkpLmRlY29kZSgpCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgbWFyc2hhbF9kZWMoZGF0YSk6CiAgICB0cnk6CiAgICAgICAgcmV0dXJuIG1hcnNoYWwubG9hZHMoYmFzZTY0LmI2NGRlY29kZShkYXRhKSkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiBleGVjX2V4dChkYXRhKToKICAgIG0gPSByZS5maW5kYWxsKHInZXhlY1woW1wnXCJdKC4qPylbXCdcIl1cKScsIGRhdGEpCiAgICByZXR1cm4gbVswXSBpZiBtIGVsc2UgTm9uZQoKCmRlZiBldmFsX2V4dChkYXRhKToKICAgIG0gPSByZS5maW5kYWxsKHInZXZhbFwoW1wnXCJdKC4qPylbXCdcIl1cKScsIGRhdGEpCiAgICByZXR1cm4gbVswXSBpZiBtIGVsc2UgTm9uZQoKCmRlZiBsYW1iZGFfZXh0KGRhdGEpOgogICAgbSA9IHJlLmZpbmRhbGwocidsYW1iZGEuKj86KC4qKScsIGRhdGEpCiAgICByZXR1cm4gbVswXSBpZiBtIGVsc2UgTm9uZQoKCmRlZiByZXZfc3RyKGRhdGEpOgogICAgcmV0dXJuIGRhdGFbOjotMV0KCgpkZWYgYXNjaWlfc2hpZnQoZGF0YSwgcz0xKToKICAgIHJldHVybiAnJy5qb2luKGNocihvcmQoYykgLSBzKSBmb3IgYyBpbiBkYXRhKQoKCmRlZiB4b3JfZGVjKGRhdGEsIGs9NDIpOgogICAgdHJ5OgogICAgICAgIHJldHVybiAnJy5qb2luKGNocihvcmQoYykgXiBrKSBmb3IgYyBpbiBkYXRhKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIHBpY2tsZV9kZWMoZGF0YSk6CiAgICB0cnk6CiAgICAgICAgcmV0dXJuIHBpY2tsZS5sb2FkcyhiYXNlNjQuYjY0ZGVjb2RlKGRhdGEpKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIGd6aXBfZGVjKGRhdGEpOgogICAgdHJ5OgogICAgICAgIHJldHVybiBnemlwLmRlY29tcHJlc3MoYmFzZTY0LmI2NGRlY29kZShkYXRhKSkuZGVjb2RlKCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiB1cmxfZGVjKGRhdGEpOgogICAgcmV0dXJuIHVucXVvdGUoZGF0YSkKCgpkZWYgYmluX2RlYyhkYXRhKToKICAgIHRyeToKICAgICAgICByZXR1cm4gJycuam9pbihjaHIoaW50KGRhdGFbaTppICsgOF0sIDIpKSBmb3IgaSBpbiByYW5nZSgwLCBsZW4oZGF0YSksIDgpKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIGNhZXNhcl9kZWMoZGF0YSwgcz0zKToKICAgIHJldHVybiAnJy5qb2luKGNocigob3JkKGMpIC0gb3JkKCdhJykgLSBzKSAlIDI2ICsgb3JkKCdhJykpIGlmIGMuaXNsb3dlcigpCiAgICAgICAgICAgICAgICAgICBlbHNlIGNocigob3JkKGMpIC0gb3JkKCdBJykgLSBzKSAlIDI2ICsgb3JkKCdBJykpIGlmIGMuaXN1cHBlcigpCiAgICBlbHNlIGMgZm9yIGMgaW4gZGF0YSkKCgpkZWYgYXRiYXNoX2RlYyhkYXRhKToKICAgIHJldHVybiAnJy5qb2luKGNocihvcmQoJ3onKSAtIG9yZChjKSArIG9yZCgnYScpKSBpZiBjLmlzbG93ZXIoKQogICAgICAgICAgICAgICAgICAgZWxzZSBjaHIob3JkKCdaJykgLSBvcmQoYykgKyBvcmQoJ0EnKSkgaWYgYy5pc3VwcGVyKCkKICAgIGVsc2UgYyBmb3IgYyBpbiBkYXRhKQoKCmRlZiB1bmljb2RlX2RlYyhkYXRhKToKICAgIHRyeToKICAgICAgICByZXR1cm4gZGF0YS5lbmNvZGUoKS5kZWNvZGUoJ3VuaWNvZGVfZXNjYXBlJykKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiBvY3RhbF9kZWMoZGF0YSk6CiAgICB0cnk6CiAgICAgICAgcmV0dXJuICcnLmpvaW4oY2hyKGludCh4LCA4KSkgZm9yIHggaW4gZGF0YS5zcGxpdCgnXFwnKSBpZiB4KQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIGRvdWJsZV9iNjRfZGVjKGRhdGEpOgogICAgdHJ5OgogICAgICAgIHggPSBiYXNlNjQuYjY0ZGVjb2RlKGRhdGEpLmRlY29kZSgpCiAgICAgICAgcmV0dXJuIGJhc2U2NC5iNjRkZWNvZGUoeCkuZGVjb2RlKCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiBybV9jb21tZW50cyhkYXRhKToKICAgIHJldHVybiAnXG4nLmpvaW4obCBmb3IgbCBpbiBkYXRhLnNwbGl0KCdcbicpIGlmIG5vdCBsLnN0cmlwKCkuc3RhcnRzd2l0aCgnIycpKQoKCmRlZiBleHRfc3RyaW5ncyhkYXRhKToKICAgIHMgPSByZS5maW5kYWxsKHInW1wnXCJdKC4qPylbXCdcIl0nLCBkYXRhKQogICAgcmV0dXJuICdcbicuam9pbihzKSBpZiBzIGVsc2UgTm9uZQoKCmRlZiBzdWJfZGVjKGRhdGEpOgogICAgdCA9IHN0ci5tYWtldHJhbnMoJ3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhJywgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JykKICAgIHJldHVybiBkYXRhLnRyYW5zbGF0ZSh0KQoKCmRlZiBudW1fZGVjKGRhdGEpOgogICAgcmV0dXJuIHJlLnN1YihyJ1xkKycsIGxhbWJkYSBtOiBjaHIoaW50KG0uZ3JvdXAoKSkpLCBkYXRhKQoKCmRlZiBpbXBvcnRfZXh0KGRhdGEpOgogICAgaSA9IHJlLmZpbmRhbGwocidpbXBvcnRccysoXHcrKScsIGRhdGEpCiAgICByZXR1cm4gJ1xuJy5qb2luKGkpIGlmIGkgZWxzZSBOb25lCgoKZGVmIGZ1bmNfZXh0KGRhdGEpOgogICAgZiA9IHJlLmZpbmRhbGwocidkZWZccysoXHcrKScsIGRhdGEpCiAgICByZXR1cm4gJ1xuJy5qb2luKGYpIGlmIGYgZWxzZSBOb25lCgoKZGVmIHZhcl9leHQoZGF0YSk6CiAgICB2ID0gcmUuZmluZGFsbChyJyhcdyspXHMqPScsIGRhdGEpCiAgICByZXR1cm4gJ1xuJy5qb2luKHNldCh2KSkgaWYgdiBlbHNlIE5vbmUKCgpkZWYgY2xlYW5fb2JmKGRhdGEpOgogICAgZGF0YSA9IHJlLnN1YihyJ19fLio/X18nLCAnJywgZGF0YSkKICAgIHJldHVybiByZS5zdWIocidbQS1aYS16XXsyMCx9JywgJ1ZBUicsIGRhdGEpCgoKZGVmIGVuY19zdHJfZXh0KGRhdGEpOgogICAgcCA9IFtyJ2I2NGRlY29kZVwoW1wnXCJdKC4qPylbXCdcIl1cKScsIHInZGVjb2RlXChbXCdcIl0oLio/KVtcJ1wiXVwpJywgcid1bmhleGxpZnlcKFtcJ1wiXSguKj8pW1wnXCJdXCknXQogICAgZm9yIHggaW4gcDoKICAgICAgICBtID0gcmUuZmluZGFsbCh4LCBkYXRhKQogICAgICAgIGlmIG06IHJldHVybiBtWzBdCiAgICByZXR1cm4gTm9uZQoKCmRlZiByYzRfZGVjKGRhdGEsIGs9ImtleSIpOgogICAgdHJ5OgogICAgICAgIHMgPSBsaXN0KHJhbmdlKDI1NikpCiAgICAgICAgaiA9IDAKICAgICAgICBmb3IgaSBpbiByYW5nZSgyNTYpOgogICAgICAgICAgICBqID0gKGogKyBzW2ldICsgb3JkKGtbaSAlIGxlbihrKV0pKSAlIDI1NgogICAgICAgICAgICBzW2ldLCBzW2pdID0gc1tqXSwgc1tpXQogICAgICAgIGkgPSBqID0gMAogICAgICAgIHIgPSBbXQogICAgICAgIGZvciBjIGluIGRhdGE6CiAgICAgICAgICAgIGkgPSAoaSArIDEpICUgMjU2CiAgICAgICAgICAgIGogPSAoaiArIHNbaV0pICUgMjU2CiAgICAgICAgICAgIHNbaV0sIHNbal0gPSBzW2pdLCBzW2ldCiAgICAgICAgICAgIHIuYXBwZW5kKGNocihvcmQoYykgXiBzWyhzW2ldICsgc1tqXSkgJSAyNTZdKSkKICAgICAgICByZXR1cm4gJycuam9pbihyKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIHpsaWJfb25seShkYXRhKToKICAgIHRyeToKICAgICAgICByZXR1cm4gemxpYi5kZWNvbXByZXNzKGRhdGEuZW5jb2RlKCkpLmRlY29kZSgpCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgYjY0X3psaWIoZGF0YSk6CiAgICB0cnk6CiAgICAgICAgcmV0dXJuIHpsaWIuZGVjb21wcmVzcyhiYXNlNjQuYjY0ZGVjb2RlKGRhdGEpKS5kZWNvZGUoKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIHJlbmR5X2RlYyhkYXRhKToKICAgIHRyeToKICAgICAgICB4ID0gYmFzZTY0LmI2NGRlY29kZShkYXRhKQogICAgICAgIHggPSB6bGliLmRlY29tcHJlc3MoeCkKICAgICAgICB4ID0gbHptYS5kZWNvbXByZXNzKHgpCiAgICAgICAgcmV0dXJuIG1hcnNoYWwubG9hZHMoeCkKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gTm9uZQoKCmRlZiBtemJfZGVjKGRhdGEpOgogICAgdHJ5OgogICAgICAgIHggPSBiYXNlNjQuYjY0ZGVjb2RlKGRhdGEpCiAgICAgICAgeCA9IHpsaWIuZGVjb21wcmVzcyh4KQogICAgICAgIHJldHVybiBtYXJzaGFsLmxvYWRzKHgpCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWMgPSB7CiAgICAxOiAoIkJhc2U2NCIsIGI2NF9kZWMpLCAyOiAoIlJPVDEzIiwgcm90MTNfZGVjKSwgMzogKCJIZXgiLCBoZXhfZGVjKSwKICAgIDQ6ICgiWmxpYitCYXNlNjQiLCB6bGliX2RlYyksIDU6ICgiTWFyc2hhbCtCYXNlNjQiLCBtYXJzaGFsX2RlYyksCiAgICA2OiAoIkV4ZWMgZXh0cmFjdCIsIGV4ZWNfZXh0KSwgNzogKCJFdmFsIGV4dHJhY3QiLCBldmFsX2V4dCksCiAgICA4OiAoIkxhbWJkYSBleHRyYWN0IiwgbGFtYmRhX2V4dCksIDk6ICgiUmV2ZXJzZSBzdHJpbmciLCByZXZfc3RyKSwKICAgIDEwOiAoIkFTQ0lJIHNoaWZ0IiwgYXNjaWlfc2hpZnQpLCAxMTogKCJYT1IgKGtleT00MikiLCB4b3JfZGVjKSwKICAgIDEyOiAoIlBpY2tsZStCYXNlNjQiLCBwaWNrbGVfZGVjKSwgMTM6ICgiR3ppcCtCYXNlNjQiLCBnemlwX2RlYyksCiAgICAxNDogKCJVUkwgZGVjb2RlIiwgdXJsX2RlYyksIDE1OiAoIkJpbmFyeSBkZWNvZGUiLCBiaW5fZGVjKSwKICAgIDE2OiAoIkNhZXNhciAoc2hpZnQ9MykiLCBjYWVzYXJfZGVjKSwgMTc6ICgiQXRiYXNoIGNpcGhlciIsIGF0YmFzaF9kZWMpLAogICAgMTg6ICgiVW5pY29kZSBlc2NhcGUiLCB1bmljb2RlX2RlYyksIDE5OiAoIk9jdGFsIGRlY29kZSIsIG9jdGFsX2RlYyksCiAgICAyMDogKCJEb3VibGUgQmFzZTY0IiwgZG91YmxlX2I2NF9kZWMpLCAyMTogKCJSZW1vdmUgY29tbWVudHMiLCBybV9jb21tZW50cyksCiAgICAyMjogKCJFeHRyYWN0IHN0cmluZ3MiLCBleHRfc3RyaW5ncyksIDIzOiAoIlNpbXBsZSBzdWJzdGl0dXRpb24iLCBzdWJfZGVjKSwKICAgIDI0OiAoIk51bWJlciB0byBjaGFyIiwgbnVtX2RlYyksIDI1OiAoIkV4dHJhY3QgaW1wb3J0cyIsIGltcG9ydF9leHQpLAogICAgMjY6ICgiRXh0cmFjdCBmdW5jdGlvbnMiLCBmdW5jX2V4dCksIDI3OiAoIkV4dHJhY3QgdmFyaWFibGVzIiwgdmFyX2V4dCksCiAgICAyODogKCJDbGVhbiBvYmZ1c2NhdGlvbiIsIGNsZWFuX29iZiksIDI5OiAoIkV4dHJhY3QgZW5jb2RlZCIsIGVuY19zdHJfZXh0KSwKICAgIDMwOiAoIlJDNCBkZWNvZGUiLCByYzRfZGVjKSwgMzE6ICgiWmxpYiIsIHpsaWJfb25seSksCiAgICAzMjogKCJCYXNlNjQrWmxpYiIsIGI2NF96bGliKSwgMzM6ICgiUmVuZHkoTStMK1orQjY0KSIsIHJlbmR5X2RlYyksCiAgICAzNDogKCJNYXJzaGFsK1psaWIrQjY0IiwgbXpiX2RlYykKfQoKCmRlZiBzaG93X2Jhbm5lcigpOgogICAgYmFubmVyID0gIiIiCiAgICAgICDilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKVlyAg4paI4paI4pWXICAgICAgICAKICAgICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWRICAgICAgICAKICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkSAgICAgICAgCiAgICAgICDilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilojilojilZEgICAgICAgIAogICAgICAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICDilojilojilZHilZrilojilojilojilojilojilojilZTilZ3ilojilojilZEgIOKWiOKWiOKVkSAgICAgICAgCiAgICAgICDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWdICDilZrilZDilZ0g4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWdICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilojilZcKICAgICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKVlOKVkOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKVkOKVkOKVnQogICAgICAg4paI4paI4pWRICDilojilojilZHilojilojilojilojilojilZcgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKVlyAgCiAgICAgICDilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4pWdICAKICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KVmuKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAgICAgCiAgICAgICDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWdICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBCcnVoIERlb2JmdXNjYXRvciB2Mi4xCiAgICAiIiIKICAgIHByaW50KGNyZWF0ZV9ncmFkaWVudChiYW5uZXIpKQoKCmRlZiBzaG93X21lbnUoKToKICAgIHcgPSA0NgogICAgbGluZXMgPSBbXQogICAgbGluZXMuYXBwZW5kKCLilZQiICsgIuKVkCIgKiB3ICsgIuKVlyIpCiAgICBsaW5lcy5hcHBlbmQoIuKVkSIgKyAiQ29kZXI6IEBGR0JydWgsIHN1YnNjcmliZSBARkdJQURWIi5jZW50ZXIodykgKyAi4pWRIikKICAgIGxpbmVzLmFwcGVuZCgi4pWgIiArICLilZAiICogdyArICLilaMiKQogICAgbGluZXMuYXBwZW5kKCLilZEgQmFzaWMgRW5jb2RpbmdzOiIgKyAiICIgKiAodyAtIDE3KSArICLilZEiKQoKICAgIGZvciBrIGluIHJhbmdlKDEsIDEzKToKICAgICAgICBzID0gZiIge2s6MmR9LiB7ZGVjW2tdWzBdfSIKICAgICAgICBsaW5lcy5hcHBlbmQoIuKVkSIgKyBzICsgIiAiICogKHcgLSBsZW4ocykpICsgIuKVkSIpCgogICAgbGluZXMuYXBwZW5kKCLilaAiICsgIuKVkCIgKiB3ICsgIuKVoyIpCiAgICBsaW5lcy5hcHBlbmQoIuKVkSBDaXBoZXJzICYgVHJhbnNmb3JtczoiICsgIiAiICogKHcgLSAyMikgKyAi4pWRIikKCiAgICBmb3IgayBpbiByYW5nZSgxMywgMjUpOgogICAgICAgIHMgPSBmIiB7azoyZH0uIHtkZWNba11bMF19IgogICAgICAgIGxpbmVzLmFwcGVuZCgi4pWRIiArIHMgKyAiICIgKiAodyAtIGxlbihzKSkgKyAi4pWRIikKCiAgICBsaW5lcy5hcHBlbmQoIuKVoCIgKyAi4pWQIiAqIHcgKyAi4pWjIikKICAgIGxpbmVzLmFwcGVuZCgi4pWRIEFkdmFuY2VkICYgRXh0cmFjdGlvbjoiICsgIiAiICogKHcgLSAyMykgKyAi4pWRIikKCiAgICBmb3IgayBpbiByYW5nZSgyNSwgMzUpOgogICAgICAgIHMgPSBmIiB7azoyZH0uIHtkZWNba11bMF19IgogICAgICAgIGxpbmVzLmFwcGVuZCgi4pWRIiArIHMgKyAiICIgKiAodyAtIGxlbihzKSkgKyAi4pWRIikKCiAgICBsaW5lcy5hcHBlbmQoIuKVoCIgKyAi4pWQIiAqIHcgKyAi4pWjIikKICAgIGxpbmVzLmFwcGVuZCgi4pWRICAwLiBFeGl0IiArICIgIiAqICh3IC0gOSkgKyAi4pWRIikKICAgIGxpbmVzLmFwcGVuZCgi4pWaIiArICLilZAiICogdyArICLilZ0iKQoKICAgIHByaW50KGNyZWF0ZV9ncmFkaWVudCgiXG4iLmpvaW4obGluZXMpKSkKCgpkZWYgbWFpbigpOgogICAgc2hvd19iYW5uZXIoKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBzaG93X21lbnUoKQogICAgICAgIHRyeToKICAgICAgICAgICAgY2ggPSBpbnQoaW5wdXQoIlxuU2VsZWN0OiAiKSkKICAgICAgICAgICAgaWYgY2ggPT0gMDogYnJlYWsKICAgICAgICAgICAgaWYgY2ggbm90IGluIGRlYzoKICAgICAgICAgICAgICAgIHByaW50KCJJbnZhbGlkIikKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICBmcCA9IGlucHV0KCJGaWxlIHBhdGg6ICIpLnN0cmlwKCkKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGZwKToKICAgICAgICAgICAgICAgIHByaW50KCJOb3QgZm91bmQiKQogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIHdpdGggb3BlbihmcCwgJ3InLCBlbmNvZGluZz0ndXRmLTgnLCBlcnJvcnM9J2lnbm9yZScpIGFzIGY6CiAgICAgICAgICAgICAgICBkYXRhID0gZi5yZWFkKCkKCiAgICAgICAgICAgIG5hbWUsIGRlY29kZXIgPSBkZWNbY2hdCiAgICAgICAgICAgIHByaW50KGYiXG5BcHBseWluZyB7bmFtZX0uLi4iKQoKICAgICAgICAgICAgcmVzID0gZGVjb2RlcihkYXRhKQogICAgICAgICAgICBpZiByZXM6CiAgICAgICAgICAgICAgICBvdXQgPSBmImRlY29kZWRfe2NofV97b3MucGF0aC5iYXNlbmFtZShmcCl9IgogICAgICAgICAgICAgICAgd2l0aCBvcGVuKG91dCwgJ3cnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoc3RyKHJlcykpCiAgICAgICAgICAgICAgICBwcmludChmIlNhdmVkOiB7b3V0fSIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludCgiRmFpbGVkIikKCiAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBLZXlib2FyZEludGVycnVwdCk6CiAgICAgICAgICAgIHByaW50KCJJbnZhbGlkIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYiRXJyb3I6IHtlfSIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQ==').decode('utf-8'))