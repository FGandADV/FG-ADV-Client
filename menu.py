import base64;exec(base64.b64decode('aW1wb3J0IG9zCmltcG9ydCB0aW1lCmltcG9ydCBzeXMKZnJvbSBweXN0eWxlIGltcG9ydCBBbmltZSwgQ2VudGVyLCBDb2xvcmF0ZSwgQ29sb3JzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmltcG9ydCByZXF1ZXN0cwppbXBvcnQgd2ViYnJvd3NlcgoKd2ViYnJvd3Nlci5vcGVuKCJodHRwczovL3QubWUvK193TVJWUjVQTU84d00ySmkiKQoKCmRlZiBjbHJfc2NyKCk6CiAgICBvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZSA9PSAibnQiIGVsc2UgImNsZWFyIikKCmRlZiBjcmVhdGVfZ3JhZGllbnQodGV4dCwgc3RhcnRfcmdiPSgyNTUsIDE0MCwgMCksIGVuZF9yZ2I9KDE0OCwgMCwgMjExKSk6CiAgICBsaW5lcywgcmVzdWx0ID0gdGV4dC5zcGxpdGxpbmVzKCksIFtdCiAgICBmb3IgbGluZSBpbiBsaW5lczoKICAgICAgICBjb2xvcmVkX2xpbmUgPSAiIgogICAgICAgIGlmIGxpbmUuc3RyaXAoKToKICAgICAgICAgICAgbGVuZ3RoID0gbGVuKGxpbmUpCiAgICAgICAgICAgIGZvciBpLCBjaGFyIGluIGVudW1lcmF0ZShsaW5lKToKICAgICAgICAgICAgICAgIHJhdGlvID0gaSAvIG1heCgxLCBsZW5ndGggLSAxKQogICAgICAgICAgICAgICAgcl92YWwgPSBpbnQoc3RhcnRfcmdiWzBdICogKDEgLSByYXRpbykgKyBlbmRfcmdiWzBdICogcmF0aW8pCiAgICAgICAgICAgICAgICBnID0gaW50KHN0YXJ0X3JnYlsxXSAqICgxIC0gcmF0aW8pICsgZW5kX3JnYlsxXSAqIHJhdGlvKQogICAgICAgICAgICAgICAgYiA9IGludChzdGFydF9yZ2JbMl0gKiAoMSAtIHJhdGlvKSArIGVuZF9yZ2JbMl0gKiByYXRpbykKICAgICAgICAgICAgICAgIGNvbG9yZWRfbGluZSArPSBmIlwwMzNbMzg7Mjt7cl92YWx9O3tnfTt7Yn1te2NoYXJ9XDAzM1swbSIKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb2xvcmVkX2xpbmUgPSBsaW5lCiAgICAgICAgcmVzdWx0LmFwcGVuZChjb2xvcmVkX2xpbmUpCiAgICByZXR1cm4gIlxuIi5qb2luKHJlc3VsdCkKCmRlZiBncmFiX2lwKCk6CiAgICB0cnk6CiAgICAgICAgcmVzcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcGkuaXBpZnkub3JnP2Zvcm1hdD1qc29uIikKICAgICAgICByZXNwLnJhaXNlX2Zvcl9zdGF0dXMoKQogICAgICAgIHJldHVybiByZXNwLmpzb24oKS5nZXQoImlwIikKICAgIGV4Y2VwdCByZXF1ZXN0cy5SZXF1ZXN0RXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiLQp9GR0YIg0LDQudC/0LjRiNC90LjQuiDQvdC1INC/0L7Qu9GD0YfQsNC10YLRgdGPINC00L7RgdGC0LDRgtGMOiB7ZX0iKQogICAgICAgIHJldHVybiAi0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMIElQIgoKCmRlZiBnZXRfbm93KCk6CiAgICByZXR1cm4gZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVZLSVtLSVkICVIOiVNOiVTIikKCgpjbHJfc2NyKCkKbXlfaXAgPSBncmFiX2lwKCkKY3Vycl90aW1lID0gZ2V0X25vdygpWzEwOjpdCgoKZGVmIHNob3dfc3BsYXNoKCk6CiAgICBjbHJfc2NyKCkKCiAgICBzcGxhc2hfdGV4dCA9IGYiIiIKCiAgICAgICAgICAgICAg4pWt4pSAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgOKVrgogICAgICAgICAgICAgICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4pWXICDilojilojilZcgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICDilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZEgIOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWRICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICDilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilojilojilZEgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAg4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICDilojilojilZEgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZ0gIOKVmuKVkOKVnSDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWdICDilZrilZDilZ0gICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAg4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWXICAgICDilojilojilZfilojilojilojilojilojilojilojilZfilojilojilojilZcgICDilojilojilZfilojilojilojilojilojilojilojilojilZcKICAgICAgICAgICAgICAgICAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZEgICAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWR4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWdCiAgICAgICAgICAgICAgICAgICAg4paI4paI4pWRICAgICDilojilojilZEgICAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWU4paI4paI4pWXIOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIAogICAgICAgICAgICAgICAgICAgIOKWiOKWiOKVkSAgICAg4paI4paI4pWRICAgICDilojilojilZHilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVkeKVmuKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIAogICAgICAgICAgICAgICAgICAgIOKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSDilZrilojilojilojilojilZEgICDilojilojilZEgICAKICAgICAgICAgICAgICAgICAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZDilZDilZ0gICDilZrilZDilZ0gICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICBBZGFwdGVyIFByb2plY3Q6IEBGR0lBRFYsIHN1YnNjcmliZSBwbGVhc2UKICAgICAgICAgICAgICAgICAgICAgICAgIFByZXNzIEVudGVyIFRvIENvbnRpbnVlCiAgICAgICAgICAgICAg4pWw4pSAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgOKVrwoKICAgICIiIgoKICAgIHByaW50KGNyZWF0ZV9ncmFkaWVudChDZW50ZXIuWENlbnRlcihzcGxhc2hfdGV4dCkpKQogICAgaW5wdXQoKQoKCmRlZiBtYWluX3NjcmVlbigpOgogICAgY2xyX3NjcigpCgogICAgbWVudV90eHQgPSBmIiIiCgoKICAgICAgICAgICAgICDila3ilIAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSA4pWuCiAgICAgICAgICAgICAgICAgICAg4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilZcgICDilojilojilZfilojilojilZcgIOKWiOKWiOKVlyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWRICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICDilojilojilojilojilojilojilZTilZ3ilojilojilojilojilojilojilZTilZ3ilojilojilZEgICDilojilojilZHilojilojilojilojilojilojilojilZEgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICDilojilojilZHilZrilojilojilojilojilojilojilZTilZ3ilojilojilZEgIOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWdIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZ0gIOKVmuKVkOKVnSAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgICAgICDilojilojilojilojilojilojilZfilojilojilZcgICAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgICAKICAgICAgICAgICAgICAgICAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZEgICAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVkOKVkOKVneKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWR4pWa4pWQ4pWQ4paI4paI4pWU4pWQ4pWQ4pWdCiAgICAgICAgICAgICAgICAgICAg4paI4paI4pWRICAgICDilojilojilZEgICAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWU4paI4paI4pWXIOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIAogICAgICAgICAgICAgICAgICAgIOKWiOKWiOKVkSAgICAg4paI4paI4pWRICAgICDilojilojilZHilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVkeKVmuKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIAogICAgICAgICAgICAgICAgICAgIOKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSDilZrilojilojilojilojilZEgICDilojilojilZEgICAKICAgICAgICAgICAgICAgICAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWd4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZDilZDilZ0gICDilZrilZDilZ0gICAgICAgICAKICAgICAgICAgICAgICDilbDilIAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSA4pWvCgogICAgWyArIF0gQ29kZXJzOiBARkdCcnVoICYgQEJydWhZb3VUZWV0aCAgICAgICAgICAgICAgICAgICAgICAgICBbICsgXSBWZXJzaW9uOiAxLjYgICAgICAKICAgIFsgKyBdIENoYW5uZWw6IHQubWUvRkdJQURWICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyArIF0gUHJpY2U6IEZyZWUgIAoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVrSAgICAgICAgICAgICAgICAgICAgICAg4pWuCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElwOiB7bXlfaXB9IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWU6IHtjdXJyX3RpbWV9ICAgCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilbAgICAgICAgICAgICAgICAgICAgICAgIOKVrwoK4pWt4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pWuICAgCuKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgMS4gQnJ1aCBQYXJzZXIgLSDQmtC70L7QvdC40YDQvtCy0LDRgtGMINC/0YDQsNC60YLQuNGH0LXRgdC60Lgg0LvRjtCx0L7QuSDRgdCw0LnRgiwg0L3QtSDRgdC80L7RgtGA0Y8g0L3QsCDQtdCz0L4g0LfQsNGJ0LjRgtGDINC4INGC0LQgICAgICAgICDilIIK4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIK4pSCICAyLiBCcnVoIFRHIE1hbmFnZXIgLSDQv9C+0LvQvdC+0YbQtdC90L3QvtC1INGD0L/RgNCw0LLQu9C10L3QuNC1INCw0LrQutC+0Lwg0YfQtdGA0LXQtyDRgdC10YHRgdC40LggICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgMy4gQnJ1aCBXaWZpIC0g0L/QvtC00LHQvtGAINC/0LDRgNC+0LvRjyDQtNC70Y8g0LLQsNC50YTQsNGPICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgNC4gQnJ1aCBGbHVkZXIgLSDQu9GO0YLRi9C5INGB0L/QsNC8INC60L7QtNCw0LzQuCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgNS4gQnJ1aCBQZW50ZXN0IC0g0L/QtdC90YLQtdGB0YIg0YHQvtGE0YIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAK4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIK4pSCICA2LiBCcnVoIERlYnVnZ2VyIC0g0JTQtdCx0LDQs9C90YPRgtGMINC70Y7QsdC+0Lkg0YHQvtGE0YIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIK4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIK4pSCICA3LiBCcnVoIE9iZnVzY2F0ZSAtINGI0LjRhNGA0L7QstCw0L3QuNC1INGB0L7RhNGC0L7QsiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCIArilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pSCICA4LiBCcnVoIEdlbmVyYXRvciAtINCz0LXQvdC10YDQsNGG0LjRjyDRgNCw0LfQu9C40YfQvdC+0Lkg0LjQvdGE0YssINC+0YIg0L/QsNGA0L7Qu9GPINC00L4g0LvQuNGH0L3QvtGB0YLQuCAgICAgICAgICAgICAgICAgICAgICAg4pSCICAK4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgIArilIIgIDAwLiDQmNC90YTQvtGA0LzQsNGG0LjRjyDQv9GA0L4g0YHQvtGE0YIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCCuKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFs5OV0gLSDQktGL0YXQvtC0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK4pWw4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pWvCiAgICAiIiIKCiAgICBwcmludChjcmVhdGVfZ3JhZGllbnQoQ2VudGVyLlhDZW50ZXIobWVudV90eHQpKSkKCgpkZWYgc2hvd19pbmZvKCk6CiAgICBjbHJfc2NyKCkKCiAgICBhYm91dF90eHQgPSBmIiIiCgoKSW5mb3JtYXRpb24gQWJvdXQgU3lzdGVtCgrQktC10YDRgdC40Y86IDEuNi4wCtCQ0LLRgtC+0YA6IEBGR0JydWggYW5kIEBCcnVoWW91VGVldGgKRGVzY3JpcHRpb246IEJydWggQ2xpZW50IFdpdGggQSBsb3QgT2YgRnVuY3Rpb24K0JTQsNGC0LAg0YHQvtC30LTQsNC90LjRjzogMjAyNQoK0J3QsNC20LzQuNGC0LUgRW50ZXIg0LTQu9GPINCy0L7Qt9Cy0YDQsNGC0LAg0LIg0LzQtdC90Y4uLi4KCgogICAgIiIiCgogICAgcHJpbnQoQ29sb3JhdGUuSG9yaXpvbnRhbChDb2xvcnMucHVycGxlX3RvX3JlZCwgQ2VudGVyLlhDZW50ZXIoYWJvdXRfdHh0KSkpCiAgICBpbnB1dCgpCgoKZGVmIGdldF9jbWQoKToKICAgIHByb21wdCA9ICJ1c2VyQEJydWggJCAiCiAgICBjbWQgPSBpbnB1dChDb2xvcmF0ZS5Ib3Jpem9udGFsKENvbG9ycy5ncmVlbl90b19ibHVlLCBwcm9tcHQpKQogICAgcmV0dXJuIGNtZC5zdHJpcCgpCgoKZGVmIHJ1bigpOgogICAgc2hvd19zcGxhc2goKQoKICAgIHNjcmlwdHMgPSB7CiAgICAgICAgIjEiOiAiYnJ1aHBhcnNlci5weSIsCiAgICAgICAgIjIiOiAiZmdhZHZtYW5hZ2VyX21haW4ucHkiLAogICAgICAgICIzIjogImJydWhXaWZpLnB5IiwKICAgICAgICAiNCI6ICJCcnVoRmxvb2Rlci5weSIsCiAgICAgICAgIjUiOiAiQnJ1aF9QZW50ZXN0X21haW4ucHkiLAogICAgICAgICI2IjogIkJydWdEZWJ1Zy5weSIsCiAgICAgICAgIjciOiAiYnJ1aG9iZi5weSIsCiAgICAgICAgIjgiOiAiQnJ1aEdlbi5weSIKICAgIH0KCiAgICB3aGlsZSBUcnVlOgogICAgICAgIG1haW5fc2NyZWVuKCkKICAgICAgICBjaG9pY2UgPSBnZXRfY21kKCkKCiAgICAgICAgaWYgY2hvaWNlID09ICIwMCI6CiAgICAgICAgICAgIHNob3dfaW5mbygpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjk5IjoKICAgICAgICAgICAgY2xyX3NjcigpCiAgICAgICAgICAgIHByaW50KENvbG9yYXRlLkhvcml6b250YWwoQ29sb3JzLnJlZF90b19wdXJwbGUsIENlbnRlci5YQ2VudGVyKCJcbtCS0YvRhdC+0LQg0LjQtyDRgdC40YHRgtC10LzRiy4uLlxuIikpKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgIHByaW50KENvbG9yYXRlLkhvcml6b250YWwoQ29sb3JzLnJlZF90b19wdXJwbGUsIENlbnRlci5YQ2VudGVyKCLQlNC+INGB0LLQuNC00LDQvdC40Y8hXG4iKSkpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZWxpZiBjaG9pY2UgaW4gc2NyaXB0czoKICAgICAgICAgICAgY2xyX3NjcigpCiAgICAgICAgICAgIHByaW50KENvbG9yYXRlLkhvcml6b250YWwoQ29sb3JzLmN5YW5fdG9fYmx1ZSwgQ2VudGVyLlhDZW50ZXIoZiJcbtCX0LDQv9GD0YHQutCw0Y46IHtzY3JpcHRzW2Nob2ljZV19XG4iKSkpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKCiAgICAgICAgICAgIHNjcmlwdF9wYXRoID0gc2NyaXB0c1tjaG9pY2VdCiAgICAgICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKHNjcmlwdF9wYXRoKToKICAgICAgICAgICAgICAgIG9zLnN5c3RlbShmInB5dGhvbiB7c2NyaXB0X3BhdGh9IikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHByaW50KENvbG9yYXRlLkhvcml6b250YWwoQ29sb3JzLnJlZF90b195ZWxsb3csCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENlbnRlci5YQ2VudGVyKGYi0J7QsdC70L7QvDog0KTQsNC50LvQsCB7c2NyaXB0X3BhdGh9INC90LXRgiEiKSkpCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2xyX3NjcigpCiAgICAgICAgICAgIHByaW50KENvbG9yYXRlLkhvcml6b250YWwoQ29sb3JzLnJlZF90b195ZWxsb3csIENlbnRlci5YQ2VudGVyKCJcbtCd0LUt0LAsINGC0LDQutC+0LPQviDQvdC10YIhINCU0LDQstCw0Lkg0L/Qvi3QvdC+0LLQvtC5LlxuIikpKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHJ1bigp').decode('utf-8'))