import base64;exec(base64.b64decode('ZnJvbSBmYWtlciBpbXBvcnQgRmFrZXIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWVkZWx0YQppbXBvcnQgcmFuZG9tIGFzIHIKaW1wb3J0IG9zCgoKZGVmIGNyZWF0ZV9ncmFkaWVudCh0ZXh0LCBzdGFydF9yZ2I9KDI1NSwgMTQwLCAwKSwgZW5kX3JnYj0oMTQ4LCAwLCAyMTEpKToKICAgIGxpbmVzLCByZXN1bHQgPSB0ZXh0LnNwbGl0bGluZXMoKSwgW10KICAgIGZvciBsaW5lIGluIGxpbmVzOgogICAgICAgIGNvbG9yZWRfbGluZSA9ICIiCiAgICAgICAgaWYgbGluZS5zdHJpcCgpOgogICAgICAgICAgICBsZW5ndGggPSBsZW4obGluZSkKICAgICAgICAgICAgZm9yIGksIGNoYXIgaW4gZW51bWVyYXRlKGxpbmUpOgogICAgICAgICAgICAgICAgcmF0aW8gPSBpIC8gbWF4KDEsIGxlbmd0aCAtIDEpCiAgICAgICAgICAgICAgICByX3ZhbCA9IGludChzdGFydF9yZ2JbMF0gKiAoMSAtIHJhdGlvKSArIGVuZF9yZ2JbMF0gKiByYXRpbykKICAgICAgICAgICAgICAgIGcgPSBpbnQoc3RhcnRfcmdiWzFdICogKDEgLSByYXRpbykgKyBlbmRfcmdiWzFdICogcmF0aW8pCiAgICAgICAgICAgICAgICBiID0gaW50KHN0YXJ0X3JnYlsyXSAqICgxIC0gcmF0aW8pICsgZW5kX3JnYlsyXSAqIHJhdGlvKQogICAgICAgICAgICAgICAgY29sb3JlZF9saW5lICs9IGYiXDAzM1szODsyO3tyX3ZhbH07e2d9O3tifW17Y2hhcn1cMDMzWzBtIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvbG9yZWRfbGluZSA9IGxpbmUKICAgICAgICByZXN1bHQuYXBwZW5kKGNvbG9yZWRfbGluZSkKICAgIHJldHVybiAiXG4iLmpvaW4ocmVzdWx0KQoKCmZfcnUgPSBGYWtlcigncnVfUlUnKQpmX2VuID0gRmFrZXIoJ2VuX1VTJykKCmJhbm5lciA9ICIiIgogICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4pWXICAg4paI4paI4pWX4paI4paI4pWXICDilojilojilZcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICDilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZfilojilojilZEgICDilojilojilZHilojilojilZEgIOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAg4paI4paI4pWR4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICDilojilojilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICDilZrilZDilZDilZDilZDilZDilZ0g4pWa4pWQ4pWdICDilZrilZDilZ0g4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgog4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4pWXIArilojilojilZTilZDilZDilZDilZDilZ0g4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4paI4paI4pWXICDilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZfilZrilZDilZDilojilojilZTilZDilZDilZ3ilojilojilZTilZDilZDilZDilojilojilZfilojilojilZTilZDilZDilojilojilZcK4paI4paI4pWRICDilojilojilojilZfilojilojilojilojilojilZcgIOKWiOKWiOKVlOKWiOKWiOKVlyDilojilojilZHilojilojilojilojilojilZcgIOKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkSAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVnQrilojilojilZEgICDilojilojilZHilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVkeKVmuKWiOKWiOKVl+KWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWRICAg4paI4paI4pWRICAg4paI4paI4pWRICAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXCuKVmuKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKVkSDilZrilojilojilojilojilZHilojilojilojilojilojilojilojilZfilojilojilZEgIOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWRICAg4paI4paI4pWRICAg4pWa4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICDilojilojilZEKIOKVmuKVkOKVkOKVkOKVkOKVkOKVnSDilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVkOKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVneKVmuKVkOKVnSAg4pWa4pWQ4pWd4pWa4pWQ4pWdICDilZrilZDilZ0gICDilZrilZDilZ0gICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIOKVmuKVkOKVnSAg4pWa4pWQ4pWdCgoiIiIKCm1lbnUgPSAiIiIK4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXCuKVkSAgICAgICAgICAgICAgICAgICAg0JPQldCd0JXQoNCQ0KbQmNCvINCU0JDQndCd0KvQpSAgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilaDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilaMK4pWRICAxLiDQmNC80Y8gICAgICAgICAgICAgICAgICAgIDExLiDQmtC+0LzQv9Cw0L3QuNGPICAgICAgICAgICAgICAgICAgICDilZEK4pWRICAyLiDQkNC00YDQtdGBICAgICAgICAgICAgICAgICAgMTIuINCU0L7Qu9C20L3QvtGB0YLRjCAgICAgICAgICAgICAgICAgICDilZEK4pWRICAzLiDQotC10LvQtdGE0L7QvSAgICAgICAgICAgICAgICAxMy4gRW1haWwgICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgIDQuINCU0LDRgtCwICAgICAgICAgICAgICAgICAgIDE0LiDQk9C+0YDQvtC0ICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICA1LiDQotC10LrRgdGCICAgICAgICAgICAgICAgICAgMTUuINCh0YLRgNCw0L3QsCAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRICA2LiDQn9Cw0YDQvtC70YwgICAgICAgICAgICAgICAgIDE2LiDQktCw0LvRjtGC0LAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgNy4gVVJMICAgICAgICAgICAgICAgICAgICAxNy4g0KbQstC10YIgSEVYICAgICAgICAgICAgICAgICAgICDilZEK4pWRICA4LiBJUHY0ICAgICAgICAgICAgICAgICAgIDE4LiBVc2VyIEFnZW50ICAgICAgICAgICAgICAgICAg4pWRCuKVkSAgOS4gTUFDINCw0LTRgNC10YEgICAgICAgICAgICAgIDE5LiDQmtGA0LXQtNC40YLQvdCw0Y8g0LrQsNGA0YLQsCAgICAgICAgICAgICDilZEK4pWRIDEwLiBVVUlEICAgICAgICAgICAgICAgICAgIDIwLiDQmtC+0L7RgNC00LjQvdCw0YLRiyAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRIDIxLiDQotGA0LDQvdGB0L/QvtGA0YIgICAgICAgICAgICAgIDMxLiDQqNGC0YDQuNGFLdC60L7QtCAgICAgICAgICAgICAgICAgICDilZEK4pWRIDIyLiDQltC40LLQvtGC0L3QvtC1ICAgICAgICAgICAgICAgMzIuIElTQk4gICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRIDIzLiDQodC70L7QstC+ICAgICAgICAgICAgICAgICAgMzMuINCl0Y3RiCBNRDUgICAgICAgICAgICAgICAgICAgICDilZEK4pWRIDI0LiDQn9GA0LXQtNC70L7QttC10L3QuNC1ICAgICAgICAgICAgMzQuINCl0Y3RiCBTSEEyNTYgICAgICAgICAgICAgICAgICDilZEK4pWRIDI1LiDQn9Cw0YDQsNCz0YDQsNGEICAgICAgICAgICAgICAgMzUuINCR0LDQvdC6ICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAyNi4gSUJBTiAgICAgICAgICAgICAgICAgICAzNi4g0JrRgNC40L/RgtC+0LLQsNC70Y7RgtCwICAgICAgICAgICAgICAgIOKVkQrilZEgMjcuIEJJQyAgICAgICAgICAgICAgICAgICAgMzcuINCv0LfRi9C6INC/0YDQvtCz0YDQsNC80LzQuNGA0L7QstCw0L3QuNGPICAgICAgIOKVkQrilZEgMjguINCY0J3QnSAgICAgICAgICAgICAgICAgICAgMzguINCk0LDQudC7ICAgICAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAyOS4g0KHQndCY0JvQoSAgICAgICAgICAgICAgICAgIDM5LiBNSU1FINGC0LjQvyAgICAgICAgICAgICAgICAgICAg4pWRCuKVkSAzMC4g0J3QvtC80LXRgCDQv9Cw0YHQv9C+0YDRgtCwICAgICAgICAgNDAuINCU0L7QvNC10L0gICAgICAgICAgICAgICAgICAgICAgIOKVkQrilZEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWRIDUwLiDQn9Ce0JvQndCQ0K8g0JvQmNCn0J3QntCh0KLQrCAo0L/QvtC00YDQvtCx0L3QsNGPINCz0LXQvdC10YDQsNGG0LjRjykgICAgICAgICAgICAgICAgICDilZEK4pWRICAwLiDQktGL0YXQvtC0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilZEK4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdCiIiIgoKCmRlZiBjbHIoKToKICAgIG9zLnN5c3RlbSgnY2xzJyBpZiBvcy5uYW1lID09ICdudCcgZWxzZSAnY2xlYXInKQoKCmRlZiBkZWNsaW5lX3N1cm5hbWUocywgc2V4KToKICAgIGlmIHNleCA9PSAnZic6CiAgICAgICAgaWYgcy5lbmRzd2l0aCgoJ9C+0LInLCAn0LXQsicsICfRkdCyJykpOgogICAgICAgICAgICByZXR1cm4gcyArICfQsCcKICAgICAgICBlbGlmIHMuZW5kc3dpdGgoKCfQuNC9JywgJ9GL0L0nKSk6CiAgICAgICAgICAgIHJldHVybiBzICsgJ9CwJwogICAgICAgIGVsaWYgcy5lbmRzd2l0aCgn0LjQuScpOgogICAgICAgICAgICByZXR1cm4gc1s6LTJdICsgJ9Cw0Y8nCiAgICAgICAgZWxpZiBzLmVuZHN3aXRoKCfQvtC5Jyk6CiAgICAgICAgICAgIHJldHVybiBzWzotMl0gKyAn0LDRjycKICAgIHJldHVybiBzCgoKZGVmIGdldF9wYXRyb255bWljKGZuYW1lLCBzZXgpOgogICAgaWYgc2V4ID09ICdmJzoKICAgICAgICBpZiBmbmFtZS5lbmRzd2l0aCgn0LknKToKICAgICAgICAgICAgcmV0dXJuIGZuYW1lWzotMV0gKyAn0LXQstC90LAnCiAgICAgICAgZWxpZiBmbmFtZS5lbmRzd2l0aCgoJ9GMJywgJ9C40LknKSk6CiAgICAgICAgICAgIHJldHVybiBmbmFtZVs6LTFdICsgJ9C10LLQvdCwJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBmbmFtZSArICfQvtCy0L3QsCcKICAgIGVsc2U6CiAgICAgICAgaWYgZm5hbWUuZW5kc3dpdGgoJ9C5Jyk6CiAgICAgICAgICAgIHJldHVybiBmbmFtZVs6LTFdICsgJ9C10LLQuNGHJwogICAgICAgIGVsaWYgZm5hbWUuZW5kc3dpdGgoKCfRjCcsICfQuNC5JykpOgogICAgICAgICAgICByZXR1cm4gZm5hbWVbOi0xXSArICfQtdCy0LjRhycKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gZm5hbWUgKyAn0L7QstC40YcnCgoKZGVmIGlzX2RlYWQoYWdlKToKICAgIGlmIGFnZSA+PSA5NTogcmV0dXJuIFRydWUKICAgIGlmIGFnZSA+PSA4MDogcmV0dXJuIHIucmFuZG9tKCkgPCAwLjQKICAgIHJldHVybiBGYWxzZQoKCmRlZiBnZW5fZWR1KGFnZSk6CiAgICBpZiBhZ2UgPCA3OiByZXR1cm4gTm9uZQogICAgaWYgYWdlIDwgMTE6IHJldHVybiB7J2xldmVsJzogJ9C90LDRh9Cw0LvRjNC90LDRjyDRiNC60L7Qu9CwJywgJ2NsYXNzJzogYWdlIC0gNn0KICAgIGlmIGFnZSA8IDE2OiByZXR1cm4geydsZXZlbCc6ICfRgdGA0LXQtNC90Y/RjyDRiNC60L7Qu9CwJywgJ2NsYXNzJzogYWdlIC0gNn0KICAgIGlmIGFnZSA8IDE4OiByZXR1cm4geydsZXZlbCc6ICfRgdGC0LDRgNGI0LDRjyDRiNC60L7Qu9CwJywgJ2NsYXNzJzogYWdlIC0gNn0KCiAgICBsdmwgPSByLmNob2ljZShbJ9GB0YDQtdC00L3QtdC1JywgJ9GB0YDQtdC00L3QtdC1INGB0L/QtdGG0LjQsNC70YzQvdC+0LUnLCAn0LLRi9GB0YjQtdC1JywgJ9Cy0YvRgdGI0LXQtSddKQogICAgc3BlY3MgPSBbJ0lUJywgJ9Cc0LXQtNC40YbQuNC90LAnLCAn0K3QutC+0L3QvtC80LjQutCwJywgJ9Cu0YDQuNGB0L/RgNGD0LTQtdC90YbQuNGPJywgJ9CY0L3QttC10L3QtdGA0LjRjycsICfQnNC10L3QtdC00LbQvNC10L3RgicsICfQlNC40LfQsNC50L0nXQogICAgdW5pcyA9IFsn0JzQk9CjJywgJ9Cc0JPQotCjJywgJ9Cc0JjQpNCYJywgJ9Cd0JjQoyDQktCo0K0nLCAn0KDQo9CU0J0nLCAn0KDQrdCjJywgJ9Cc0JPQmNCc0J4nXQoKICAgIHJldHVybiB7CiAgICAgICAgJ2xldmVsJzogbHZsLAogICAgICAgICdzcGVjJzogci5jaG9pY2Uoc3BlY3MpIGlmICfQstGL0YHRiNC10LUnIGluIGx2bCBlbHNlIE5vbmUsCiAgICAgICAgJ3VuaSc6IHIuY2hvaWNlKHVuaXMpIGlmICfQstGL0YHRiNC10LUnIGluIGx2bCBlbHNlIGYn0JrQvtC70LvQtdC00LYg4oSWe3IucmFuZGludCgxLCA1MCl9JywKICAgICAgICAneWVhcic6IHIucmFuZGludCgyMDAwLCAyMDIzKSBpZiBhZ2UgPiAyMiBlbHNlIE5vbmUKICAgIH0KCgpkZWYgZ2VuX2JpbygpOgogICAgaG9iYmllcyA9IFsn0YHQv9C+0YDRgicsICfQvNGD0LfRi9C60LAnLCAn0YfRgtC10L3QuNC1JywgJ9C/0YPRgtC10YjQtdGB0YLQstC40Y8nLCAn0LrQuNC90L4nLCAn0LjQs9GA0YsnLCAn0LPQvtGC0L7QstC60LAnLCAn0YTQvtGC0L4nXQogICAgdHJhaXRzID0gWyfQtNC+0LHRgNGL0LknLCAn0YPQvNC90YvQuScsICfQstC10YHQtdC70YvQuScsICfRgdC/0L7QutC+0LnQvdGL0LknLCAn0LDQutGC0LjQstC90YvQuScsICfRgtCy0L7RgNGH0LXRgdC60LjQuSddCiAgICByZXR1cm4gewogICAgICAgICdob2JiaWVzJzogci5zYW1wbGUoaG9iYmllcywgci5yYW5kaW50KDIsIDQpKSwKICAgICAgICAndHJhaXRzJzogci5zYW1wbGUodHJhaXRzLCAzKSwKICAgICAgICAnYmlvJzogZl9ydS50ZXh0KG1heF9uYl9jaGFycz0xMDApCiAgICB9CgoKZGVmIGdlbl9oZWFsdGgoYWdlKToKICAgIGJsb29kID0gWydPKycsICdPLScsICdBKycsICdBLScsICdCKycsICdCLScsICdBQisnLCAnQUItJ10KICAgIGNocm9uaWMgPSBbJ9C00LjQsNCx0LXRgicsICfQsNGB0YLQvNCwJywgJ9Cw0LvQu9C10YDQs9C40Y8nLCAn0LPQuNC/0LXRgNGC0L7QvdC40Y8nLCBOb25lLCBOb25lLCBOb25lXQogICAgcmV0dXJuIHsKICAgICAgICAnYmxvb2QnOiByLmNob2ljZShibG9vZCksCiAgICAgICAgJ2hlaWdodCc6IHIucmFuZGludCg1MCArIG1pbihhZ2UgKiA1LCAxMjApLCA2MCArIG1pbihhZ2UgKiA1LCAxMzApKSBpZiBhZ2UgPCAxOCBlbHNlIHIucmFuZGludCgxNTAsIDIwMCksCiAgICAgICAgJ3dlaWdodCc6IHIucmFuZGludCgzICsgYWdlICogMiwgNSArIGFnZSAqIDMpIGlmIGFnZSA8IDE4IGVsc2Ugci5yYW5kaW50KDUwLCAxMjApLAogICAgICAgICdjaHJvbmljJzogci5jaG9pY2UoY2hyb25pYykgaWYgYWdlID4gMzAgZWxzZSBOb25lLAogICAgICAgICd2aXNpb24nOiByLmNob2ljZShbMS4wLCAwLjksIDAuOCwgMC43LCAtMSwgLTIsIC0zXSkgaWYgYWdlID4gMTAgZWxzZSAxLjAKICAgIH0KCgpkZWYgZ2VuX3NvY2lhbCgpOgogICAgbmV0cyA9IFsndmsnLCAndGVsZWdyYW0nLCAnaW5zdGFncmFtJywgJ3R3aXR0ZXInLCAndGlrdG9rJ10KICAgIHJldHVybiB7CiAgICAgICAgJ25ldHMnOiB7bjogZidAe2ZfcnUudXNlcl9uYW1lKCl9JyBmb3IgbiBpbiByLnNhbXBsZShuZXRzLCByLnJhbmRpbnQoMiwgNCkpfSwKICAgICAgICAnZnJpZW5kcyc6IHIucmFuZGludCg1MCwgNTAwKSwKICAgICAgICAnc3RhdHVzJzogci5jaG9pY2UoWydzaW5nbGUnLCAnbWFycmllZCcsICdkaXZvcmNlZCcsICdkYXRpbmcnXSkKICAgIH0KCgpkZWYgZ2VuX2ZpbmFuY2UoYWdlKToKICAgIGlmIGFnZSA8IDE4OiByZXR1cm4geydwb2NrZXQnOiByLnJhbmRpbnQoNTAwLCA1MDAwKX0KCiAgICBiYW5rcyA9IFsn0KHQsdC10YDQsdCw0L3QuicsICfQktCi0JEnLCAn0JDQu9GM0YTQsC3QkdCw0L3QuicsICfQotC40L3RjNC60L7RhNGEJywgJ9Cg0LDQudGE0YTQsNC50LfQtdC9J10KICAgIHJldHVybiB7CiAgICAgICAgJ3NhbGFyeSc6IHIucmFuZGludCgzMDAwMCwgMzAwMDAwKSAvLyA1MDAwICogNTAwMCwKICAgICAgICAnc2F2aW5ncyc6IHIucmFuZGludCgwLCAxMDAwMDAwKSAvLyAxMDAwMCAqIDEwMDAwLAogICAgICAgICdjcmVkaXQnOiByLnJhbmRpbnQoMCwgNTAwMDAwMCkgLy8gNTAwMDAgKiA1MDAwMCBpZiByLnJhbmRvbSgpIDwgMC4zIGVsc2UgMCwKICAgICAgICAnYmFuayc6IHIuY2hvaWNlKGJhbmtzKSwKICAgICAgICAnY2FyZHMnOiByLnJhbmRpbnQoMSwgNCksCiAgICAgICAgJ2NyeXB0byc6IHIucmFuZG9tKCkgPCAwLjIKICAgIH0KCgpkZWYgZ2VuX3BlcnNvbl9mdWxsKGxvYz0ncnUnKToKICAgIGYgPSBmX3J1IGlmIGxvYyA9PSAncnUnIGVsc2UgZl9lbgogICAgYWdlID0gci5yYW5kaW50KDAsIDkwKQogICAgc2V4ID0gci5jaG9pY2UoWydtJywgJ2YnXSkKICAgIGJkID0gZGF0ZXRpbWUubm93KCkgLSB0aW1lZGVsdGEoZGF5cz1hZ2UgKiAzNjUgKyByLnJhbmRpbnQoMCwgMzY0KSkKCiAgICBmbCA9IHIucmFuZG9tKCkgPCAwLjI1CgogICAgZGVmIGdlbl9wYXJlbnQocHNleCwgY2hpbGRfYWdlKToKICAgICAgICBwX2FnZSA9IGNoaWxkX2FnZSArIHIucmFuZGludCgxOCwgNDUpCiAgICAgICAgcF9iZCA9IGRhdGV0aW1lLm5vdygpIC0gdGltZWRlbHRhKGRheXM9cF9hZ2UgKiAzNjUgKyByLnJhbmRpbnQoMCwgMzY0KSkKCiAgICAgICAgaWYgcHNleCA9PSAnbSc6CiAgICAgICAgICAgIHBfZm4sIHBfbG4sIHBfbW4gPSBmLmZpcnN0X25hbWVfbWFsZSgpLCBmLmxhc3RfbmFtZV9tYWxlKCksIGYubWlkZGxlX25hbWVfbWFsZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcF9mbiwgcF9sbiwgcF9tbiA9IGYuZmlyc3RfbmFtZV9mZW1hbGUoKSwgZi5sYXN0X25hbWVfZmVtYWxlKCksIGYubWlkZGxlX25hbWVfZmVtYWxlKCkKCiAgICAgICAgZGVhZCA9IGlzX2RlYWQocF9hZ2UpCgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICduYW1lJzogZid7cF9mbn0ge3BfbW59IHtwX2xufScsCiAgICAgICAgICAgICdhZ2UnOiBwX2FnZSwKICAgICAgICAgICAgJ3NleCc6IHBzZXgsCiAgICAgICAgICAgICdiaXJ0aCc6IHBfYmQuc3RyZnRpbWUoJyVkLiVtLiVZJyksCiAgICAgICAgICAgICdkZWFkJzogZGVhZCwKICAgICAgICAgICAgJ2RlYXRoX2RhdGUnOiAocF9iZCArIHRpbWVkZWx0YShkYXlzPXBfYWdlICogMzY1IC0gci5yYW5kaW50KDAsIDM2NSAqIDUpKSkuc3RyZnRpbWUoCiAgICAgICAgICAgICAgICAnJWQuJW0uJVknKSBpZiBkZWFkIGVsc2UgTm9uZSwKICAgICAgICAgICAgJ3Bhc3Nwb3J0JzogZid7ci5yYW5kaW50KDEwMDAsIDk5OTkpfSB7ci5yYW5kaW50KDEwMDAwMCwgOTk5OTk5KX0nIGlmIHBfYWdlID49IDE0IGFuZCBub3QgZGVhZCBlbHNlIE5vbmUsCiAgICAgICAgICAgICdwaG9uZSc6IGYucGhvbmVfbnVtYmVyKCkgaWYgbm90IGRlYWQgZWxzZSBOb25lLAogICAgICAgICAgICAnZW1haWwnOiBmLmVtYWlsKCkgaWYgbm90IGRlYWQgZWxzZSBOb25lLAogICAgICAgICAgICAnd29yayc6IGdlbl9jb21wYW55KCkgaWYgcF9hZ2UgPj0gMTggYW5kIHBfYWdlIDw9IDY1IGFuZCBub3QgZGVhZCBlbHNlIE5vbmUsCiAgICAgICAgICAgICdlZHVjYXRpb24nOiBnZW5fZWR1KHBfYWdlKSwKICAgICAgICAgICAgJ2hlYWx0aCc6IGdlbl9oZWFsdGgocF9hZ2UpIGlmIG5vdCBkZWFkIGVsc2UgTm9uZSwKICAgICAgICAgICAgJ2Jpbyc6IGdlbl9iaW8oKQogICAgICAgIH0KCiAgICBtID0gZ2VuX3BhcmVudCgnZicsIGFnZSkKICAgIGZhID0gZ2VuX3BhcmVudCgnbScsIGFnZSkgaWYgbm90IGZsIGVsc2UgTm9uZQoKICAgIGlmIGZhOgogICAgICAgIGZfZmlyc3QgPSBmYVsnbmFtZSddLnNwbGl0KClbMF0KICAgICAgICBmX2xuID0gZmFbJ25hbWUnXS5zcGxpdCgpWzJdCiAgICAgICAga2VwdF9tYWlkZW4gPSByLnJhbmRvbSgpIDwgMC4xCiAgICAgICAgaWYgbm90IGtlcHRfbWFpZGVuOgogICAgICAgICAgICBtWyduYW1lJ10gPSBtWyduYW1lJ10uc3BsaXQoKVswXSArICcgJyArIG1bJ25hbWUnXS5zcGxpdCgpWzFdICsgJyAnICsgZGVjbGluZV9zdXJuYW1lKGZfbG4sICdmJykKICAgICAgICBlbHNlOgogICAgICAgICAgICBtWydrZXB0X21haWRlbl9uYW1lJ10gPSBUcnVlCiAgICBlbHNlOgogICAgICAgIGZfbG4gPSBtWyduYW1lJ10uc3BsaXQoKVsyXQogICAgICAgIGZfZmlyc3QgPSBOb25lCgogICAgaWYgbm90IGZsIGFuZCBmYToKICAgICAgICBsbiA9IGZfbG4KICAgICAgICBwYXRyID0gZ2V0X3BhdHJvbnltaWMoZl9maXJzdCwgc2V4KQogICAgZWxzZToKICAgICAgICBsbiA9IG1bJ25hbWUnXS5zcGxpdCgpWzJdCiAgICAgICAgcGF0ciA9IGZfcnUubWlkZGxlX25hbWVfbWFsZSgpIGlmIHNleCA9PSAnbScgZWxzZSBmX3J1Lm1pZGRsZV9uYW1lX2ZlbWFsZSgpCgogICAgZm4gPSBmLmZpcnN0X25hbWVfbWFsZSgpIGlmIHNleCA9PSAnbScgZWxzZSBmLmZpcnN0X25hbWVfZmVtYWxlKCkKICAgIGxuID0gZGVjbGluZV9zdXJuYW1lKGxuLCBzZXgpCgogICAgc2licyA9IFtdCiAgICBpZiByLnJhbmRvbSgpIDwgMC42OgogICAgICAgIG5zID0gci5yYW5kaW50KDEsIDQpCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UobnMpOgogICAgICAgICAgICBzX2FnZSA9IG1heCgwLCBhZ2UgKyByLnJhbmRpbnQoLTE1LCAxNSkpCiAgICAgICAgICAgIHNfc2V4ID0gci5jaG9pY2UoWydtJywgJ2YnXSkKICAgICAgICAgICAgc19iZCA9IGRhdGV0aW1lLm5vdygpIC0gdGltZWRlbHRhKGRheXM9c19hZ2UgKiAzNjUgKyByLnJhbmRpbnQoMCwgMzY0KSkKICAgICAgICAgICAgc19kZWFkID0gaXNfZGVhZChzX2FnZSkKCiAgICAgICAgICAgIGlmIHNfc2V4ID09ICdtJzoKICAgICAgICAgICAgICAgIHNfZm4gPSBmLmZpcnN0X25hbWVfbWFsZSgpCiAgICAgICAgICAgICAgICBzX3BhdHIgPSBnZXRfcGF0cm9ueW1pYyhmX2ZpcnN0LCAnbScpIGlmIGZfZmlyc3QgZWxzZSBmLm1pZGRsZV9uYW1lX21hbGUoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc19mbiA9IGYuZmlyc3RfbmFtZV9mZW1hbGUoKQogICAgICAgICAgICAgICAgc19wYXRyID0gZ2V0X3BhdHJvbnltaWMoZl9maXJzdCwgJ2YnKSBpZiBmX2ZpcnN0IGVsc2UgZi5taWRkbGVfbmFtZV9mZW1hbGUoKQoKICAgICAgICAgICAgc19sbiA9IGRlY2xpbmVfc3VybmFtZShsbiBpZiBzZXggPT0gJ20nIGVsc2UgbG5bOi0xXSBpZiBsbi5lbmRzd2l0aCgn0LAnKSBlbHNlIGxuLCBzX3NleCkKCiAgICAgICAgICAgIHNpYnMuYXBwZW5kKHsKICAgICAgICAgICAgICAgICduYW1lJzogZid7c19mbn0ge3NfcGF0cn0ge3NfbG59JywKICAgICAgICAgICAgICAgICdhZ2UnOiBzX2FnZSwKICAgICAgICAgICAgICAgICdzZXgnOiBzX3NleCwKICAgICAgICAgICAgICAgICdiaXJ0aCc6IHNfYmQuc3RyZnRpbWUoJyVkLiVtLiVZJyksCiAgICAgICAgICAgICAgICAnZGVhZCc6IHNfZGVhZCwKICAgICAgICAgICAgICAgICdkZWF0aF9kYXRlJzogKHNfYmQgKyB0aW1lZGVsdGEoZGF5cz1zX2FnZSAqIDM2NSAtIHIucmFuZGludCgwLCAzNjUgKiA1KSkpLnN0cmZ0aW1lKAogICAgICAgICAgICAgICAgICAgICclZC4lbS4lWScpIGlmIHNfZGVhZCBlbHNlIE5vbmUsCiAgICAgICAgICAgICAgICAncGFzc3BvcnQnOiBmJ3tyLnJhbmRpbnQoMTAwMCwgOTk5OSl9IHtyLnJhbmRpbnQoMTAwMDAwLCA5OTk5OTkpfScgaWYgc19hZ2UgPj0gMTQgYW5kIG5vdCBzX2RlYWQgZWxzZSBOb25lLAogICAgICAgICAgICAgICAgJ3Bob25lJzogZi5waG9uZV9udW1iZXIoKSBpZiBzX2FnZSA+PSAxMiBhbmQgbm90IHNfZGVhZCBlbHNlIE5vbmUKICAgICAgICAgICAgfSkKCiAgICByZXR1cm4gewogICAgICAgICduYW1lJzogZid7Zm59IHtwYXRyfSB7bG59JywKICAgICAgICAnYWdlJzogYWdlLAogICAgICAgICdzZXgnOiBzZXgsCiAgICAgICAgJ2JpcnRoJzogYmQuc3RyZnRpbWUoJyVkLiVtLiVZJyksCiAgICAgICAgJ3Bhc3Nwb3J0JzogZid7ci5yYW5kaW50KDEwMDAsIDk5OTkpfSB7ci5yYW5kaW50KDEwMDAwMCwgOTk5OTk5KX0nIGlmIGFnZSA+PSAxNCBlbHNlIE5vbmUsCiAgICAgICAgJ2lubic6IGYuYnVzaW5lc3Nlc19pbm4oKSBpZiBhZ2UgPj0gMTQgZWxzZSBOb25lLAogICAgICAgICdzbmlscyc6IGYne3IucmFuZGludCgxMDAsIDk5OSl9LXtyLnJhbmRpbnQoMTAwLCA5OTkpfS17ci5yYW5kaW50KDEwMCwgOTk5KX0ge3IucmFuZGludCgxMCwgOTkpfScgaWYgYWdlID49IDE0IGVsc2UgTm9uZSwKICAgICAgICAncGhvbmUnOiBmLnBob25lX251bWJlcigpIGlmIGFnZSA+PSAxMiBlbHNlIE5vbmUsCiAgICAgICAgJ2VtYWlsJzogZi5lbWFpbCgpIGlmIGFnZSA+PSAxNCBlbHNlIE5vbmUsCiAgICAgICAgJ2FkZHJlc3MnOiBnZW5fYWRkcmVzcygpIGlmIGFnZSA+PSAxOCBlbHNlIG0uZ2V0KCdhZGRyZXNzJywgZ2VuX2FkZHJlc3MoKSksCiAgICAgICAgJ2VkdWNhdGlvbic6IGdlbl9lZHUoYWdlKSwKICAgICAgICAnd29yayc6IGdlbl9jb21wYW55KCkgaWYgYWdlID49IDE4IGFuZCBhZ2UgPD0gNjUgZWxzZSBOb25lLAogICAgICAgICdoZWFsdGgnOiBnZW5faGVhbHRoKGFnZSksCiAgICAgICAgJ2ZpbmFuY2UnOiBnZW5fZmluYW5jZShhZ2UpLAogICAgICAgICdzb2NpYWwnOiBnZW5fc29jaWFsKCkgaWYgYWdlID49IDE0IGVsc2UgTm9uZSwKICAgICAgICAnYmlvJzogZ2VuX2JpbygpLAogICAgICAgICdwYXJlbnRzJzogewogICAgICAgICAgICAnbW90aGVyJzogbSwKICAgICAgICAgICAgJ2ZhdGhlcic6IGZhLAogICAgICAgICAgICAnZmF0aGVyX2xlZnQnOiBmbAogICAgICAgIH0sCiAgICAgICAgJ3NpYmxpbmdzJzogc2licwogICAgfQoKCmRlZiBnZW5fYWRkcmVzcyhsb2M9J3J1Jyk6CiAgICBmID0gZl9ydSBpZiBsb2MgPT0gJ3J1JyBlbHNlIGZfZW4KICAgIHJldHVybiB7CiAgICAgICAgJ2Z1bGwnOiBmLmFkZHJlc3MoKSwKICAgICAgICAnY2l0eSc6IGYuY2l0eSgpLAogICAgICAgICdzdHJlZXQnOiBmLnN0cmVldF9uYW1lKCksCiAgICAgICAgJ2J1aWxkaW5nJzogZi5idWlsZGluZ19udW1iZXIoKSwKICAgICAgICAnYXB0Jzogci5yYW5kaW50KDEsIDIwMCksCiAgICAgICAgJ2Zsb29yJzogci5yYW5kaW50KDEsIDI1KSwKICAgICAgICAncG9zdGFsJzogZi5wb3N0Y29kZSgpLAogICAgICAgICdtZXRybyc6IGYn0YHRgi4ge2YuY2l0eV9uYW1lKCl9JyBpZiByLnJhbmRvbSgpIDwgMC43IGVsc2UgTm9uZQogICAgfQoKCmRlZiBnZW5fY29tcGFueShsb2M9J3J1Jyk6CiAgICBmID0gZl9ydSBpZiBsb2MgPT0gJ3J1JyBlbHNlIGZfZW4KICAgIGRlcHRzID0gWydJVCcsICdIUicsICfQpNC40L3QsNC90YHRiycsICfQnNCw0YDQutC10YLQuNC90LMnLCAn0J/RgNC+0LTQsNC20LgnLCAn0J/RgNC+0LjQt9Cy0L7QtNGB0YLQstC+JywgJ9Cb0L7Qs9C40YHRgtC40LrQsCddCiAgICByZXR1cm4gewogICAgICAgICduYW1lJzogZi5jb21wYW55KCksCiAgICAgICAgJ3Bvc2l0aW9uJzogZi5qb2IoKSwKICAgICAgICAnZGVwYXJ0bWVudCc6IHIuY2hvaWNlKGRlcHRzKSwKICAgICAgICAnbGV2ZWwnOiByLmNob2ljZShbJ2p1bmlvcicsICdtaWRkbGUnLCAnc2VuaW9yJywgJ2xlYWQnLCAnbWFuYWdlciddKSwKICAgICAgICAnc2FsYXJ5Jzogci5yYW5kaW50KDMwMDAwLCA1MDAwMDApIC8vIDUwMDAgKiA1MDAwLAogICAgICAgICdleHBlcmllbmNlJzogci5yYW5kaW50KDAsIDIwKSwKICAgICAgICAncmVtb3RlJzogci5jaG9pY2UoW1RydWUsIEZhbHNlLCAnaHlicmlkJ10pCiAgICB9CgoKZGVmIHByaW50X3BlcnNvbihwKToKICAgIHR4dCA9IGYiIiJ7Jz0nICogNjB9CtCb0JjQp9Cd0J7QodCi0Kw6IHtwWyduYW1lJ119CnsnPScgKiA2MH0K0JLQvtC30YDQsNGB0YI6IHtwWydhZ2UnXX0g0LvQtdGCCtCf0L7QuzogeyfQnNGD0LbRgdC60L7QuScgaWYgcFsnc2V4J10gPT0gJ20nIGVsc2UgJ9CW0LXQvdGB0LrQuNC5J30K0JTQsNGC0LAg0YDQvtC20LTQtdC90LjRjzoge3BbJ2JpcnRoJ119IiIiCgogICAgaWYgcFsncGFzc3BvcnQnXToKICAgICAgICB0eHQgKz0gZiIiIgoK0JTQntCa0KPQnNCV0J3QotCrOgrQn9Cw0YHQv9C+0YDRgjoge3BbJ3Bhc3Nwb3J0J119IiIiCiAgICAgICAgaWYgcFsnaW5uJ106IHR4dCArPSBmIlxu0JjQndCdOiB7cFsnaW5uJ119IgogICAgICAgIGlmIHBbJ3NuaWxzJ106IHR4dCArPSBmIlxu0KHQndCY0JvQoToge3BbJ3NuaWxzJ119IgoKICAgIGlmIHAuZ2V0KCdwaG9uZScpIG9yIHAuZ2V0KCdlbWFpbCcpOgogICAgICAgIHR4dCArPSBmIlxuXG7QmtCe0J3QotCQ0JrQotCrOiIKICAgICAgICBpZiBwLmdldCgncGhvbmUnKTogdHh0ICs9IGYiXG7QotC10LvQtdGE0L7QvToge3BbJ3Bob25lJ119IgogICAgICAgIGlmIHAuZ2V0KCdlbWFpbCcpOiB0eHQgKz0gZiJcbkVtYWlsOiB7cFsnZW1haWwnXX0iCgogICAgaWYgcC5nZXQoJ2FkZHJlc3MnKToKICAgICAgICB0eHQgKz0gZiJcblxu0JDQlNCg0JXQoTpcbntwWydhZGRyZXNzJ11bJ2Z1bGwnXX0iCiAgICAgICAgaWYgcFsnYWRkcmVzcyddLmdldCgnbWV0cm8nKTogdHh0ICs9IGYiXG7QnNC10YLRgNC+OiB7cFsnYWRkcmVzcyddWydtZXRybyddfSIKCiAgICBpZiBwLmdldCgnZWR1Y2F0aW9uJyk6CiAgICAgICAgdHh0ICs9IGYiXG5cbtCe0JHQoNCQ0JfQntCS0JDQndCY0JU6IgogICAgICAgIGVkdSA9IHBbJ2VkdWNhdGlvbiddCiAgICAgICAgaWYgZWR1OgogICAgICAgICAgICBpZiAnY2xhc3MnIGluIGVkdToKICAgICAgICAgICAgICAgIHR4dCArPSBmIlxue2VkdVsnbGV2ZWwnXS50aXRsZSgpfSwge2VkdVsnY2xhc3MnXX0g0LrQu9Cw0YHRgSIKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHR4dCArPSBmIlxu0KPRgNC+0LLQtdC90Yw6IHtlZHVbJ2xldmVsJ119IgogICAgICAgICAgICAgICAgaWYgZWR1LmdldCgnc3BlYycpOiB0eHQgKz0gZiJcbtCh0L/QtdGG0LjQsNC70YzQvdC+0YHRgtGMOiB7ZWR1WydzcGVjJ119IgogICAgICAgICAgICAgICAgaWYgZWR1LmdldCgndW5pJyk6IHR4dCArPSBmIlxu0KPRh9C10LHQvdC+0LUg0LfQsNCy0LXQtNC10L3QuNC1OiB7ZWR1Wyd1bmknXX0iCgogICAgaWYgcC5nZXQoJ3dvcmsnKToKICAgICAgICB3ID0gcFsnd29yayddCiAgICAgICAgdHh0ICs9IGYiIiJcblxu0KDQkNCR0J7QotCQOgrQmtC+0LzQv9Cw0L3QuNGPOiB7d1snbmFtZSddfQrQlNC+0LvQttC90L7RgdGC0Yw6IHt3Wydwb3NpdGlvbiddfSAoe3dbJ2xldmVsJ119KQrQntGC0LTQtdC7OiB7d1snZGVwYXJ0bWVudCddfQrQl9Cw0YDQv9C70LDRgtCwOiB7d1snc2FsYXJ5J106LH0g0YDRg9CxLgrQntC/0YvRgjoge3dbJ2V4cGVyaWVuY2UnXX0g0LvQtdGCCtCk0L7RgNC80LDRgjogeyfQo9C00LDQu9C10L3QutCwJyBpZiB3WydyZW1vdGUnXSA9PSBUcnVlIGVsc2UgJ9Ce0YTQuNGBJyBpZiB3WydyZW1vdGUnXSA9PSBGYWxzZSBlbHNlICfQk9C40LHRgNC40LQnfSIiIgoKICAgIGlmIHAuZ2V0KCdoZWFsdGgnKToKICAgICAgICBoID0gcFsnaGVhbHRoJ10KICAgICAgICB0eHQgKz0gZiIiIlxuXG7Ql9CU0J7QoNCe0JLQrNCVOgrQoNC+0YHRgjoge2hbJ2hlaWdodCddfSDRgdC8LCDQktC10YE6IHtoWyd3ZWlnaHQnXX0g0LrQswrQk9GA0YPQv9C/0LAg0LrRgNC+0LLQuDoge2hbJ2Jsb29kJ119IiIiCiAgICAgICAgaWYgaFsnY2hyb25pYyddOiB0eHQgKz0gZiJcbtCl0YDQvtC90LjRh9C10YHQutC40LU6IHtoWydjaHJvbmljJ119IgoKICAgIGlmIHAuZ2V0KCdmaW5hbmNlJyk6CiAgICAgICAgdHh0ICs9IGYiXG5cbtCk0JjQndCQ0J3QodCrOiIKICAgICAgICBmaW4gPSBwWydmaW5hbmNlJ10KICAgICAgICBpZiAncG9ja2V0JyBpbiBmaW46CiAgICAgICAgICAgIHR4dCArPSBmIlxu0JrQsNGA0LzQsNC90L3Ri9C1INC00LXQvdGM0LPQuDoge2ZpblsncG9ja2V0J119INGA0YPQsS4iCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHh0ICs9IGYiXG7Ql9Cw0YDQv9C70LDRgtCwOiB7ZmluWydzYWxhcnknXTosfSDRgNGD0LEuIgogICAgICAgICAgICBpZiBmaW5bJ3NhdmluZ3MnXTogdHh0ICs9IGYiXG7QodCx0LXRgNC10LbQtdC90LjRjzoge2Zpblsnc2F2aW5ncyddOix9INGA0YPQsS4iCiAgICAgICAgICAgIGlmIGZpblsnY3JlZGl0J106IHR4dCArPSBmIlxu0JrRgNC10LTQuNGCOiB7ZmluWydjcmVkaXQnXTosfSDRgNGD0LEuIgogICAgICAgICAgICB0eHQgKz0gZiJcbtCR0LDQvdC6OiB7ZmluWydiYW5rJ119IgoKICAgIGlmIHAuZ2V0KCdiaW8nKToKICAgICAgICB0eHQgKz0gZiIiIlxuXG7QniDQodCV0JHQlToK0KPQstC70LXRh9C10L3QuNGPOiB7JywgJy5qb2luKHBbJ2JpbyddWydob2JiaWVzJ10pfQrQmtCw0YfQtdGB0YLQstCwOiB7JywgJy5qb2luKHBbJ2JpbyddWyd0cmFpdHMnXSl9IiIiCgogICAgaWYgcC5nZXQoJ3NvY2lhbCcpOgogICAgICAgIHR4dCArPSBmIlxuXG7QodCe0KbQodCV0KLQmDoiCiAgICAgICAgZm9yIG5ldCwgYWNjIGluIHBbJ3NvY2lhbCddWyduZXRzJ10uaXRlbXMoKToKICAgICAgICAgICAgdHh0ICs9IGYiXG57bmV0fToge2FjY30iCgogICAgdHh0ICs9IGYiIiJcblxu0KHQldCc0KzQrzoK0JzQsNGC0Yw6IHtwWydwYXJlbnRzJ11bJ21vdGhlciddWyduYW1lJ119ICh7cFsncGFyZW50cyddWydtb3RoZXInXVsnYWdlJ119INC70LXRgikiIiIKICAgIGlmIHBbJ3BhcmVudHMnXVsnbW90aGVyJ10uZ2V0KCdkZWFkJyk6CiAgICAgICAgdHh0ICs9IGYiIFvQo9Cc0JXQoNCb0JAge3BbJ3BhcmVudHMnXVsnbW90aGVyJ11bJ2RlYXRoX2RhdGUnXX1dIgogICAgaWYgcFsncGFyZW50cyddWydtb3RoZXInXS5nZXQoJ2tlcHRfbWFpZGVuX25hbWUnKToKICAgICAgICB0eHQgKz0gIiAo0YHQvtGF0YDQsNC90LjQu9CwINC00LXQstC40YfRjNGOINGE0LDQvNC40LvQuNGOKSIKCiAgICBpZiBwWydwYXJlbnRzJ11bJ2ZhdGhlciddOgogICAgICAgIHR4dCArPSBmIlxu0J7RgtC10YY6IHtwWydwYXJlbnRzJ11bJ2ZhdGhlciddWyduYW1lJ119ICh7cFsncGFyZW50cyddWydmYXRoZXInXVsnYWdlJ119INC70LXRgikiCiAgICAgICAgaWYgcFsncGFyZW50cyddWydmYXRoZXInXS5nZXQoJ2RlYWQnKToKICAgICAgICAgICAgdHh0ICs9IGYiIFvQo9Cc0JXQoCB7cFsncGFyZW50cyddWydmYXRoZXInXVsnZGVhdGhfZGF0ZSddfV0iCiAgICBlbHNlOgogICAgICAgIHR4dCArPSBmIlxu0J7RgtC10YY6INGD0YjQtdC7INC40Lcg0YHQtdC80YzQuCIKCiAgICBpZiBwWydzaWJsaW5ncyddOgogICAgICAgIHR4dCArPSBmIlxuXG7QkdGA0LDRgtGM0Y8v0YHQtdGB0YLRgNGLOiIKICAgICAgICBmb3IgcyBpbiBwWydzaWJsaW5ncyddOgogICAgICAgICAgICB0eHQgKz0gZiJcbi0ge3NbJ25hbWUnXX0gKHtzWydhZ2UnXX0g0LvQtdGCKSIKICAgICAgICAgICAgaWYgcy5nZXQoJ2RlYWQnKToKICAgICAgICAgICAgICAgIHR4dCArPSBmIiBbeyfQo9Cc0JXQoCcgaWYgc1snc2V4J10gPT0gJ20nIGVsc2UgJ9Cj0JzQldCg0JvQkCd9IHtzWydkZWF0aF9kYXRlJ119XSIKCiAgICB0eHQgKz0gIlxuXG4iICsgIi0iICogNjAKCiAgICBpZiBwWydwYXJlbnRzJ11bJ21vdGhlciddLmdldCgnd29yaycpOgogICAgICAgIG0gPSBwWydwYXJlbnRzJ11bJ21vdGhlciddCiAgICAgICAgdHh0ICs9IGYiIiJcblxu0JzQkNCi0Kwg0J/QntCU0KDQntCR0J3QnjoK0KDQsNCx0L7RgtCwOiB7bVsnd29yayddWydwb3NpdGlvbiddfSDQsiB7bVsnd29yayddWyduYW1lJ119CtCX0LDRgNC/0LvQsNGC0LA6IHttWyd3b3JrJ11bJ3NhbGFyeSddOix9INGA0YPQsS4iIiIKCiAgICBpZiBwWydwYXJlbnRzJ11bJ2ZhdGhlciddIGFuZCBwWydwYXJlbnRzJ11bJ2ZhdGhlciddLmdldCgnd29yaycpOgogICAgICAgIGYgPSBwWydwYXJlbnRzJ11bJ2ZhdGhlciddCiAgICAgICAgdHh0ICs9IGYiIiJcblxu0J7QotCV0KYg0J/QntCU0KDQntCR0J3QnjoK0KDQsNCx0L7RgtCwOiB7Zlsnd29yayddWydwb3NpdGlvbiddfSDQsiB7Zlsnd29yayddWyduYW1lJ119CtCX0LDRgNC/0LvQsNGC0LA6IHtmWyd3b3JrJ11bJ3NhbGFyeSddOix9INGA0YPQsS4iIiIKCiAgICBwcmludChjcmVhdGVfZ3JhZGllbnQodHh0KSkKCgpnZW5zID0gewogICAgJzEnOiBsYW1iZGE6IGZfcnUubmFtZSgpLAogICAgJzInOiBsYW1iZGE6IGZfcnUuYWRkcmVzcygpLAogICAgJzMnOiBsYW1iZGE6IGZfcnUucGhvbmVfbnVtYmVyKCksCiAgICAnNCc6IGxhbWJkYTogZl9ydS5kYXRlKCksCiAgICAnNSc6IGxhbWJkYTogZl9ydS50ZXh0KG1heF9uYl9jaGFycz0yMDApLAogICAgJzYnOiBsYW1iZGE6IGZfcnUucGFzc3dvcmQoKSwKICAgICc3JzogbGFtYmRhOiBmX3J1LnVybCgpLAogICAgJzgnOiBsYW1iZGE6IGZfcnUuaXB2NCgpLAogICAgJzknOiBsYW1iZGE6IGZfcnUubWFjX2FkZHJlc3MoKSwKICAgICcxMCc6IGxhbWJkYTogZl9ydS51dWlkNCgpLAogICAgJzExJzogbGFtYmRhOiBmX3J1LmNvbXBhbnkoKSwKICAgICcxMic6IGxhbWJkYTogZl9ydS5qb2IoKSwKICAgICcxMyc6IGxhbWJkYTogZl9ydS5lbWFpbCgpLAogICAgJzE0JzogbGFtYmRhOiBmX3J1LmNpdHkoKSwKICAgICcxNSc6IGxhbWJkYTogZl9ydS5jb3VudHJ5KCksCiAgICAnMTYnOiBsYW1iZGE6IGZfcnUuY3VycmVuY3lfY29kZSgpLAogICAgJzE3JzogbGFtYmRhOiBmX3J1LmhleF9jb2xvcigpLAogICAgJzE4JzogbGFtYmRhOiBmX3J1LnVzZXJfYWdlbnQoKSwKICAgICcxOSc6IGxhbWJkYTogZl9ydS5jcmVkaXRfY2FyZF9mdWxsKCksCiAgICAnMjAnOiBsYW1iZGE6IGYie2ZfcnUubGF0aXR1ZGUoKX0sIHtmX3J1LmxvbmdpdHVkZSgpfSIsCiAgICAnMjEnOiBsYW1iZGE6IGZfcnUubGljZW5zZV9wbGF0ZSgpLAogICAgJzIyJzogbGFtYmRhOiByLmNob2ljZShbJ9Ca0L7RgicsICfQodC+0LHQsNC60LAnLCAn0J/QvtC/0YPQs9Cw0LknLCAn0KXQvtC80Y/QuicsICfQoNGL0LHQutCwJ10pLAogICAgJzIzJzogbGFtYmRhOiBmX3J1LndvcmQoKSwKICAgICcyNCc6IGxhbWJkYTogZl9ydS5zZW50ZW5jZSgpLAogICAgJzI1JzogbGFtYmRhOiBmX3J1LnBhcmFncmFwaCgpLAogICAgJzI2JzogbGFtYmRhOiBmX3J1LmliYW4oKSwKICAgICcyNyc6IGxhbWJkYTogZl9ydS5iYmFuKCksCiAgICAnMjgnOiBsYW1iZGE6IGZfcnUuYnVzaW5lc3Nlc19pbm4oKSwKICAgICcyOSc6IGxhbWJkYTogZid7ci5yYW5kaW50KDEwMCwgOTk5KX0te3IucmFuZGludCgxMDAsIDk5OSl9LXtyLnJhbmRpbnQoMTAwLCA5OTkpfSB7ci5yYW5kaW50KDEwLCA5OSl9JywKICAgICczMCc6IGxhbWJkYTogZid7ci5yYW5kaW50KDEwMDAsIDk5OTkpfSB7ci5yYW5kaW50KDEwMDAwMCwgOTk5OTk5KX0nLAogICAgJzMxJzogbGFtYmRhOiBmX3J1LmVhbjEzKCksCiAgICAnMzInOiBsYW1iZGE6IGZfcnUuaXNibjEzKCksCiAgICAnMzMnOiBsYW1iZGE6IGZfcnUubWQ1KCksCiAgICAnMzQnOiBsYW1iZGE6IGZfcnUuc2hhMjU2KCksCiAgICAnMzUnOiBsYW1iZGE6IHIuY2hvaWNlKFsn0KHQsdC10YDQsdCw0L3QuicsICfQktCi0JEnLCAn0JDQu9GM0YTQsC3QkdCw0L3QuicsICfQotC40L3RjNC60L7RhNGEJ10pLAogICAgJzM2JzogbGFtYmRhOiBmX3J1LmNyeXB0b2N1cnJlbmN5X2NvZGUoKSwKICAgICczNyc6IGxhbWJkYTogZl9ydS5wcm9ncmFtbWluZ19sYW5ndWFnZSgpLAogICAgJzM4JzogbGFtYmRhOiBmX3J1LmZpbGVfbmFtZSgpLAogICAgJzM5JzogbGFtYmRhOiBmX3J1Lm1pbWVfdHlwZSgpLAogICAgJzQwJzogbGFtYmRhOiBmX3J1LmRvbWFpbl9uYW1lKCkKfQoKCmRlZiBtYWluKCk6CiAgICB3aGlsZSBUcnVlOgogICAgICAgIGNscigpCiAgICAgICAgcHJpbnQoY3JlYXRlX2dyYWRpZW50KGJhbm5lcikpCiAgICAgICAgcHJpbnQoY3JlYXRlX2dyYWRpZW50KG1lbnUpKQoKICAgICAgICBjbWQgPSBpbnB1dChjcmVhdGVfZ3JhZGllbnQoIlxuZ2VuQGJydWggJCAiKSkKCiAgICAgICAgaWYgY21kID09ICcwJzoKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbGlmIGNtZCA9PSAnNTAnOgogICAgICAgICAgICBjbHIoKQogICAgICAgICAgICBwcmludChjcmVhdGVfZ3JhZGllbnQoYmFubmVyKSkKICAgICAgICAgICAgcCA9IGdlbl9wZXJzb25fZnVsbCgpCiAgICAgICAgICAgIHByaW50X3BlcnNvbihwKQogICAgICAgICAgICBpbnB1dChjcmVhdGVfZ3JhZGllbnQoIlxuXG7QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLiIpKQogICAgICAgIGVsaWYgY21kIGluIGdlbnM6CiAgICAgICAgICAgIGNscigpCiAgICAgICAgICAgIHByaW50KGNyZWF0ZV9ncmFkaWVudChiYW5uZXIpKQogICAgICAgICAgICBwcmludChjcmVhdGVfZ3JhZGllbnQoZiJcbtCg0LXQt9GD0LvRjNGC0LDRgjoge2dlbnNbY21kXSgpfSIpKQogICAgICAgICAgICBpbnB1dChjcmVhdGVfZ3JhZGllbnQoIlxuXG7QndCw0LbQvNC40YLQtSBFbnRlciDQtNC70Y8g0L/RgNC+0LTQvtC70LbQtdC90LjRjy4uLiIpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk=').decode('utf-8'))